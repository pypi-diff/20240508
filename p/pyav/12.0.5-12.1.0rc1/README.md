# Comparing `tmp/pyav-12.0.5.tar.gz` & `tmp/pyav-12.1.0rc1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "pyav-12.0.5.tar", last modified: Fri Mar 15 02:46:10 2024, max compression
+gzip compressed data, was "pyav-12.1.0rc1.tar", last modified: Wed May  8 00:42:33 2024, max compression
```

## Comparing `pyav-12.0.5.tar` & `pyav-12.1.0rc1.tar`

### file list

```diff
@@ -1,301 +1,307 @@
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.476004 pyav-12.0.5/
--rw-r--r--   0 runner    (1001) docker     (127)     1505 2024-03-15 02:45:54.000000 pyav-12.0.5/LICENSE.txt
--rw-r--r--   0 runner    (1001) docker     (127)      127 2024-03-15 02:45:54.000000 pyav-12.0.5/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (127)     2469 2024-03-15 02:46:10.476004 pyav-12.0.5/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)     1075 2024-03-15 02:45:54.000000 pyav-12.0.5/README.md
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.412004 pyav-12.0.5/av/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1525 2024-03-15 02:45:54.000000 pyav-12.0.5/av/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      425 2024-03-15 02:45:54.000000 pyav-12.0.5/av/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1108 2024-03-15 02:45:54.000000 pyav-12.0.5/av/__main__.py
--rw-r--r--   0 runner    (1001) docker     (127)      210 2024-03-15 02:45:54.000000 pyav-12.0.5/av/_core.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1701 2024-03-15 02:45:54.000000 pyav-12.0.5/av/_core.pyx
--rw-r--r--   0 runner    (1001) docker     (127)       23 2024-03-15 02:45:54.000000 pyav-12.0.5/av/about.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.416004 pyav-12.0.5/av/audio/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)       62 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      336 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/codeccontext.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      347 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/codeccontext.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     3780 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/codeccontext.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      461 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/fifo.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     6310 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/fifo.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      203 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/format.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      174 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/format.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     3678 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/format.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      729 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/frame.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      878 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/frame.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     5920 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/frame.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      489 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/layout.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      203 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/layout.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     3734 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/layout.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      134 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/plane.pxd
--rw-r--r--   0 runner    (1001) docker     (127)       74 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/plane.pyi
--rw-r--r--   0 runner    (1001) docker     (127)      333 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/plane.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      488 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/resampler.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      518 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/resampler.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     4262 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/resampler.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      209 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/stream.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      639 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/stream.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1133 2024-03-15 02:45:54.000000 pyav-12.0.5/av/audio/stream.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      126 2024-03-15 02:45:54.000000 pyav-12.0.5/av/buffer.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      103 2024-03-15 02:45:54.000000 pyav-12.0.5/av/buffer.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1634 2024-03-15 02:45:54.000000 pyav-12.0.5/av/buffer.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      241 2024-03-15 02:45:54.000000 pyav-12.0.5/av/bytesource.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1095 2024-03-15 02:45:54.000000 pyav-12.0.5/av/bytesource.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.420004 pyav-12.0.5/av/codec/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      121 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      229 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/codec.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1555 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/codec.pyi
--rw-r--r--   0 runner    (1001) docker     (127)    14978 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/codec.pyx
--rw-r--r--   0 runner    (1001) docker     (127)     2227 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/context.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1656 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/context.pyi
--rw-r--r--   0 runner    (1001) docker     (127)    22067 2024-03-15 02:45:54.000000 pyav-12.0.5/av/codec/context.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.420004 pyav-12.0.5/av/container/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      111 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)       63 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1235 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/core.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     3346 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/core.pyi
--rwxr-xr-x   0 runner    (1001) docker     (127)    15242 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/core.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      163 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/input.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1377 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/input.pyi
--rw-r--r--   0 runner    (1001) docker     (127)    10647 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/input.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      244 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/output.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      647 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/output.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     8661 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/output.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      731 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/pyio.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     5296 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/pyio.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      311 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/streams.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      996 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/streams.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     3448 2024-03-15 02:45:54.000000 pyav-12.0.5/av/container/streams.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.424004 pyav-12.0.5/av/data/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/data/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/data/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)       72 2024-03-15 02:45:54.000000 pyav-12.0.5/av/data/stream.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      269 2024-03-15 02:45:54.000000 pyav-12.0.5/av/data/stream.pyi
--rw-r--r--   0 runner    (1001) docker     (127)      581 2024-03-15 02:45:54.000000 pyav-12.0.5/av/data/stream.pyx
--rw-r--r--   0 runner    (1001) docker     (127)     3000 2024-03-15 02:45:54.000000 pyav-12.0.5/av/datasets.py
--rw-r--r--   0 runner    (1001) docker     (127)     2313 2024-03-15 02:45:54.000000 pyav-12.0.5/av/deprecation.py
--rw-r--r--   0 runner    (1001) docker     (127)      519 2024-03-15 02:45:54.000000 pyav-12.0.5/av/descriptor.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      121 2024-03-15 02:45:54.000000 pyav-12.0.5/av/descriptor.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     2261 2024-03-15 02:45:54.000000 pyav-12.0.5/av/descriptor.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      174 2024-03-15 02:45:54.000000 pyav-12.0.5/av/dictionary.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      388 2024-03-15 02:45:54.000000 pyav-12.0.5/av/dictionary.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1558 2024-03-15 02:45:54.000000 pyav-12.0.5/av/dictionary.pyx
--rw-r--r--   0 runner    (1001) docker     (127)       66 2024-03-15 02:45:54.000000 pyav-12.0.5/av/enum.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1914 2024-03-15 02:45:54.000000 pyav-12.0.5/av/enum.pyi
--rw-r--r--   0 runner    (1001) docker     (127)    10479 2024-03-15 02:45:54.000000 pyav-12.0.5/av/enum.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      135 2024-03-15 02:45:54.000000 pyav-12.0.5/av/error.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1442 2024-03-15 02:45:54.000000 pyav-12.0.5/av/error.pyi
--rw-r--r--   0 runner    (1001) docker     (127)    10446 2024-03-15 02:45:54.000000 pyav-12.0.5/av/error.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.424004 pyav-12.0.5/av/filter/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      103 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)       66 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (127)      386 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/context.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      460 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/context.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     4138 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/context.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      248 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/filter.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      452 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/filter.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     2763 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/filter.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      490 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/graph.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1423 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/graph.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     6924 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/graph.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      327 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/link.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      110 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/link.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1538 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/link.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      518 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/pad.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      195 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/pad.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     2785 2024-03-15 02:45:54.000000 pyav-12.0.5/av/filter/pad.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      234 2024-03-15 02:45:54.000000 pyav-12.0.5/av/format.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      943 2024-03-15 02:45:54.000000 pyav-12.0.5/av/format.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     6706 2024-03-15 02:45:54.000000 pyav-12.0.5/av/format.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      445 2024-03-15 02:45:54.000000 pyav-12.0.5/av/frame.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      183 2024-03-15 02:45:54.000000 pyav-12.0.5/av/frame.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     4126 2024-03-15 02:45:54.000000 pyav-12.0.5/av/frame.pyx
--rw-r--r--   0 runner    (1001) docker     (127)       24 2024-03-15 02:45:54.000000 pyav-12.0.5/av/logging.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1247 2024-03-15 02:45:54.000000 pyav-12.0.5/av/logging.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     9618 2024-03-15 02:45:54.000000 pyav-12.0.5/av/logging.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      366 2024-03-15 02:45:54.000000 pyav-12.0.5/av/option.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      994 2024-03-15 02:45:54.000000 pyav-12.0.5/av/option.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     5400 2024-03-15 02:45:54.000000 pyav-12.0.5/av/option.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      447 2024-03-15 02:45:54.000000 pyav-12.0.5/av/packet.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      529 2024-03-15 02:45:54.000000 pyav-12.0.5/av/packet.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     5358 2024-03-15 02:45:54.000000 pyav-12.0.5/av/packet.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      196 2024-03-15 02:45:54.000000 pyav-12.0.5/av/plane.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      169 2024-03-15 02:45:54.000000 pyav-12.0.5/av/plane.pyi
--rw-r--r--   0 runner    (1001) docker     (127)      564 2024-03-15 02:45:54.000000 pyav-12.0.5/av/plane.pyx
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/py.typed
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.428004 pyav-12.0.5/av/sidedata/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      266 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/motionvectors.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      597 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/motionvectors.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     2634 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/motionvectors.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      411 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/sidedata.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1014 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/sidedata.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     3035 2024-03-15 02:45:54.000000 pyav-12.0.5/av/sidedata/sidedata.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      755 2024-03-15 02:45:54.000000 pyav-12.0.5/av/stream.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      824 2024-03-15 02:45:54.000000 pyav-12.0.5/av/stream.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     8049 2024-03-15 02:45:54.000000 pyav-12.0.5/av/stream.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.428004 pyav-12.0.5/av/subtitles/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)      101 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/codeccontext.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      143 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/codeccontext.pyi
--rw-r--r--   0 runner    (1001) docker     (127)      595 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/codeccontext.pyx
--rw-r--r--   0 runner    (1001) docker     (127)       76 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/stream.pxd
--rw-r--r--   0 runner    (1001) docker     (127)       64 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/stream.pyi
--rw-r--r--   0 runner    (1001) docker     (127)       44 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/stream.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      660 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/subtitle.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      762 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/subtitle.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     4833 2024-03-15 02:45:54.000000 pyav-12.0.5/av/subtitles/subtitle.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      505 2024-03-15 02:45:54.000000 pyav-12.0.5/av/utils.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     2541 2024-03-15 02:45:54.000000 pyav-12.0.5/av/utils.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.432004 pyav-12.0.5/av/video/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/__init__.pxd
--rw-r--r--   0 runner    (1001) docker     (127)       62 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)       62 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/__init__.pyi
--rw-r--r--   0 runner    (1001) docker     (127)      483 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/codeccontext.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      911 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/codeccontext.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     7563 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/codeccontext.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      727 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/format.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      614 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/format.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     5776 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/format.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      623 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/frame.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1714 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/frame.pyi
--rw-r--r--   0 runner    (1001) docker     (127)    22927 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/frame.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      193 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/plane.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      188 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/plane.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     1294 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/plane.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      373 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/reformatter.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1049 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/reformatter.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     8292 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/reformatter.pyx
--rw-r--r--   0 runner    (1001) docker     (127)      209 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/stream.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1028 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/stream.pyi
--rw-r--r--   0 runner    (1001) docker     (127)     2484 2024-03-15 02:45:54.000000 pyav-12.0.5/av/video/stream.pyx
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.432004 pyav-12.0.5/include/
--rw-r--r--   0 runner    (1001) docker     (127)      739 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libav.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.432004 pyav-12.0.5/include/libavcodec/
--rw-r--r--   0 runner    (1001) docker     (127)    13422 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavcodec/avcodec.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.432004 pyav-12.0.5/include/libavdevice/
--rw-r--r--   0 runner    (1001) docker     (127)      465 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavdevice/avdevice.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.432004 pyav-12.0.5/include/libavfilter/
--rw-r--r--   0 runner    (1001) docker     (127)     2775 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavfilter/avfilter.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1278 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavfilter/avfiltergraph.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      144 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavfilter/buffersink.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      150 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavfilter/buffersrc.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.432004 pyav-12.0.5/include/libavformat/
--rw-r--r--   0 runner    (1001) docker     (127)     7940 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavformat/avformat.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.436004 pyav-12.0.5/include/libavutil/
--rw-r--r--   0 runner    (1001) docker     (127)    10256 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/avutil.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      412 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/channel_layout.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      832 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/dict.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1277 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/error.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      718 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/frame.pxd
--rw-r--r--   0 runner    (1001) docker     (127)      450 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/motion_vector.pxd
--rw-r--r--   0 runner    (1001) docker     (127)     1647 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libavutil/samplefmt.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.436004 pyav-12.0.5/include/libswresample/
--rw-r--r--   0 runner    (1001) docker     (127)     1078 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libswresample/swresample.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.436004 pyav-12.0.5/include/libswscale/
--rw-r--r--   0 runner    (1001) docker     (127)     2307 2024-03-15 02:45:54.000000 pyav-12.0.5/include/libswscale/swscale.pxd
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.436004 pyav-12.0.5/pyav.egg-info/
--rw-r--r--   0 runner    (1001) docker     (127)     2469 2024-03-15 02:46:10.000000 pyav-12.0.5/pyav.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)     5732 2024-03-15 02:46:10.000000 pyav-12.0.5/pyav.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (127)        1 2024-03-15 02:46:10.000000 pyav-12.0.5/pyav.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (127)       43 2024-03-15 02:46:10.000000 pyav-12.0.5/pyav.egg-info/entry_points.txt
--rw-r--r--   0 runner    (1001) docker     (127)        1 2024-03-15 02:46:10.000000 pyav-12.0.5/pyav.egg-info/not-zip-safe
--rw-r--r--   0 runner    (1001) docker     (127)        3 2024-03-15 02:46:10.000000 pyav-12.0.5/pyav.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (127)      136 2024-03-15 02:45:54.000000 pyav-12.0.5/pyproject.toml
--rw-r--r--   0 runner    (1001) docker     (127)       38 2024-03-15 02:46:10.476004 pyav-12.0.5/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (127)     7444 2024-03-15 02:45:54.000000 pyav-12.0.5/setup.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.404004 pyav-12.0.5/src/
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.444004 pyav-12.0.5/src/av/
--rw-r--r--   0 runner    (1001) docker     (127)   227799 2024-03-15 02:45:59.000000 pyav-12.0.5/src/av/_core.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.452004 pyav-12.0.5/src/av/audio/
--rw-r--r--   0 runner    (1001) docker     (127)   427955 2024-03-15 02:46:08.000000 pyav-12.0.5/src/av/audio/codeccontext.c
--rw-r--r--   0 runner    (1001) docker     (127)   489529 2024-03-15 02:46:09.000000 pyav-12.0.5/src/av/audio/fifo.c
--rw-r--r--   0 runner    (1001) docker     (127)   386626 2024-03-15 02:46:09.000000 pyav-12.0.5/src/av/audio/format.c
--rw-r--r--   0 runner    (1001) docker     (127)   571293 2024-03-15 02:46:08.000000 pyav-12.0.5/src/av/audio/frame.c
--rw-r--r--   0 runner    (1001) docker     (127)   568702 2024-03-15 02:46:09.000000 pyav-12.0.5/src/av/audio/layout.c
--rw-r--r--   0 runner    (1001) docker     (127)   356503 2024-03-15 02:46:09.000000 pyav-12.0.5/src/av/audio/plane.c
--rw-r--r--   0 runner    (1001) docker     (127)   503969 2024-03-15 02:46:10.000000 pyav-12.0.5/src/av/audio/resampler.c
--rw-r--r--   0 runner    (1001) docker     (127)   401921 2024-03-15 02:46:09.000000 pyav-12.0.5/src/av/audio/stream.c
--rw-r--r--   0 runner    (1001) docker     (127)   410823 2024-03-15 02:46:01.000000 pyav-12.0.5/src/av/buffer.c
--rw-r--r--   0 runner    (1001) docker     (127)   314242 2024-03-15 02:46:01.000000 pyav-12.0.5/src/av/bytesource.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.452004 pyav-12.0.5/src/av/codec/
--rw-r--r--   0 runner    (1001) docker     (127)   640890 2024-03-15 02:46:08.000000 pyav-12.0.5/src/av/codec/codec.c
--rw-r--r--   0 runner    (1001) docker     (127)  1043260 2024-03-15 02:46:08.000000 pyav-12.0.5/src/av/codec/context.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.456004 pyav-12.0.5/src/av/container/
--rw-r--r--   0 runner    (1001) docker     (127)   785740 2024-03-15 02:46:04.000000 pyav-12.0.5/src/av/container/core.c
--rw-r--r--   0 runner    (1001) docker     (127)   637547 2024-03-15 02:46:05.000000 pyav-12.0.5/src/av/container/input.c
--rw-r--r--   0 runner    (1001) docker     (127)   569433 2024-03-15 02:46:04.000000 pyav-12.0.5/src/av/container/output.c
--rw-r--r--   0 runner    (1001) docker     (127)   427870 2024-03-15 02:46:04.000000 pyav-12.0.5/src/av/container/pyio.c
--rw-r--r--   0 runner    (1001) docker     (127)   505505 2024-03-15 02:46:04.000000 pyav-12.0.5/src/av/container/streams.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.460004 pyav-12.0.5/src/av/data/
--rw-r--r--   0 runner    (1001) docker     (127)   378832 2024-03-15 02:46:03.000000 pyav-12.0.5/src/av/data/stream.c
--rw-r--r--   0 runner    (1001) docker     (127)   352598 2024-03-15 02:45:59.000000 pyav-12.0.5/src/av/descriptor.c
--rw-r--r--   0 runner    (1001) docker     (127)   443944 2024-03-15 02:46:00.000000 pyav-12.0.5/src/av/dictionary.c
--rw-r--r--   0 runner    (1001) docker     (127)   866645 2024-03-15 02:45:59.000000 pyav-12.0.5/src/av/enum.c
--rw-r--r--   0 runner    (1001) docker     (127)   685605 2024-03-15 02:45:59.000000 pyav-12.0.5/src/av/error.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.460004 pyav-12.0.5/src/av/filter/
--rw-r--r--   0 runner    (1001) docker     (127)   522843 2024-03-15 02:46:05.000000 pyav-12.0.5/src/av/filter/context.c
--rw-r--r--   0 runner    (1001) docker     (127)   610596 2024-03-15 02:46:05.000000 pyav-12.0.5/src/av/filter/filter.c
--rw-r--r--   0 runner    (1001) docker     (127)   613554 2024-03-15 02:46:06.000000 pyav-12.0.5/src/av/filter/graph.c
--rw-r--r--   0 runner    (1001) docker     (127)   378686 2024-03-15 02:46:06.000000 pyav-12.0.5/src/av/filter/link.c
--rw-r--r--   0 runner    (1001) docker     (127)   413870 2024-03-15 02:46:05.000000 pyav-12.0.5/src/av/filter/pad.c
--rw-r--r--   0 runner    (1001) docker     (127)   478675 2024-03-15 02:46:01.000000 pyav-12.0.5/src/av/format.c
--rw-r--r--   0 runner    (1001) docker     (127)   434646 2024-03-15 02:46:00.000000 pyav-12.0.5/src/av/frame.c
--rw-r--r--   0 runner    (1001) docker     (127)   574119 2024-03-15 02:46:00.000000 pyav-12.0.5/src/av/logging.c
--rw-r--r--   0 runner    (1001) docker     (127)   504093 2024-03-15 02:46:00.000000 pyav-12.0.5/src/av/option.c
--rw-r--r--   0 runner    (1001) docker     (127)   488104 2024-03-15 02:45:59.000000 pyav-12.0.5/src/av/packet.c
--rw-r--r--   0 runner    (1001) docker     (127)   361609 2024-03-15 02:46:00.000000 pyav-12.0.5/src/av/plane.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.464004 pyav-12.0.5/src/av/sidedata/
--rw-r--r--   0 runner    (1001) docker     (127)   539532 2024-03-15 02:46:06.000000 pyav-12.0.5/src/av/sidedata/motionvectors.c
--rw-r--r--   0 runner    (1001) docker     (127)   554215 2024-03-15 02:46:06.000000 pyav-12.0.5/src/av/sidedata/sidedata.c
--rw-r--r--   0 runner    (1001) docker     (127)   508241 2024-03-15 02:46:00.000000 pyav-12.0.5/src/av/stream.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.464004 pyav-12.0.5/src/av/subtitles/
--rw-r--r--   0 runner    (1001) docker     (127)   355003 2024-03-15 02:46:07.000000 pyav-12.0.5/src/av/subtitles/codeccontext.c
--rw-r--r--   0 runner    (1001) docker     (127)   337249 2024-03-15 02:46:07.000000 pyav-12.0.5/src/av/subtitles/stream.c
--rw-r--r--   0 runner    (1001) docker     (127)   820382 2024-03-15 02:46:07.000000 pyav-12.0.5/src/av/subtitles/subtitle.c
--rw-r--r--   0 runner    (1001) docker     (127)   264724 2024-03-15 02:46:01.000000 pyav-12.0.5/src/av/utils.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.472004 pyav-12.0.5/src/av/video/
--rw-r--r--   0 runner    (1001) docker     (127)   594207 2024-03-15 02:46:02.000000 pyav-12.0.5/src/av/video/codeccontext.c
--rw-r--r--   0 runner    (1001) docker     (127)   612643 2024-03-15 02:46:03.000000 pyav-12.0.5/src/av/video/format.c
--rw-r--r--   0 runner    (1001) docker     (127)  1756087 2024-03-15 02:46:02.000000 pyav-12.0.5/src/av/video/frame.c
--rw-r--r--   0 runner    (1001) docker     (127)   429629 2024-03-15 02:46:03.000000 pyav-12.0.5/src/av/video/plane.c
--rw-r--r--   0 runner    (1001) docker     (127)   479363 2024-03-15 02:46:03.000000 pyav-12.0.5/src/av/video/reformatter.c
--rw-r--r--   0 runner    (1001) docker     (127)   413397 2024-03-15 02:46:03.000000 pyav-12.0.5/src/av/video/stream.c
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-03-15 02:46:10.476004 pyav-12.0.5/tests/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     4283 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/common.py
--rw-r--r--   0 runner    (1001) docker     (127)     3512 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_audiofifo.py
--rw-r--r--   0 runner    (1001) docker     (127)      836 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_audioformat.py
--rw-r--r--   0 runner    (1001) docker     (127)     8263 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_audioframe.py
--rw-r--r--   0 runner    (1001) docker     (127)     1535 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_audiolayout.py
--rw-r--r--   0 runner    (1001) docker     (127)     8888 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_audioresampler.py
--rw-r--r--   0 runner    (1001) docker     (127)     3387 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_codec.py
--rw-r--r--   0 runner    (1001) docker     (127)    17838 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_codec_context.py
--rw-r--r--   0 runner    (1001) docker     (127)     1544 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_colorspace.py
--rw-r--r--   0 runner    (1001) docker     (127)     1595 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_containerformat.py
--rw-r--r--   0 runner    (1001) docker     (127)     5297 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_decode.py
--rw-r--r--   0 runner    (1001) docker     (127)     1453 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_deprecation.py
--rw-r--r--   0 runner    (1001) docker     (127)      471 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_dictionary.py
--rw-r--r--   0 runner    (1001) docker     (127)     1521 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_doctests.py
--rw-r--r--   0 runner    (1001) docker     (127)    14157 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_encode.py
--rw-r--r--   0 runner    (1001) docker     (127)     6235 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_enums.py
--rw-r--r--   0 runner    (1001) docker     (127)     2496 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_errors.py
--rw-r--r--   0 runner    (1001) docker     (127)    14840 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_file_probing.py
--rw-r--r--   0 runner    (1001) docker     (127)     9035 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_filters.py
--rw-r--r--   0 runner    (1001) docker     (127)     2168 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_logging.py
--rw-r--r--   0 runner    (1001) docker     (127)     1047 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_open.py
--rw-r--r--   0 runner    (1001) docker     (127)      567 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_options.py
--rw-r--r--   0 runner    (1001) docker     (127)     1666 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_packet.py
--rw-r--r--   0 runner    (1001) docker     (127)     9866 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_python_io.py
--rw-r--r--   0 runner    (1001) docker     (127)     5284 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_seek.py
--rw-r--r--   0 runner    (1001) docker     (127)     1464 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_streams.py
--rw-r--r--   0 runner    (1001) docker     (127)     1780 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_subtitles.py
--rw-r--r--   0 runner    (1001) docker     (127)     2069 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_timeout.py
--rw-r--r--   0 runner    (1001) docker     (127)     3878 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_videoformat.py
--rw-r--r--   0 runner    (1001) docker     (127)    28304 2024-03-15 02:45:54.000000 pyav-12.0.5/tests/test_videoframe.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.092471 pyav-12.1.0rc1/
+-rw-r--r--   0 runner    (1001) docker     (127)     1505 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/LICENSE.txt
+-rw-r--r--   0 runner    (1001) docker     (127)      127 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (127)     2453 2024-05-08 00:42:33.088471 pyav-12.1.0rc1/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)     1075 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/README.md
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.032470 pyav-12.1.0rc1/av/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1602 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      425 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1108 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/__main__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      210 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/_core.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1701 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/_core.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)       26 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/about.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.036470 pyav-12.1.0rc1/av/audio/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)       62 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      336 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/codeccontext.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      347 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/codeccontext.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     3780 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/codeccontext.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      461 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/fifo.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     6310 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/fifo.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      203 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/format.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      174 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/format.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     3678 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/format.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      729 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/frame.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      990 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/frame.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     5920 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/frame.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      489 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/layout.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      264 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/layout.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     3734 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/layout.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      134 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/plane.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)       74 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/plane.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      333 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/plane.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      488 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/resampler.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      518 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/resampler.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     4262 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/resampler.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      209 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/stream.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      639 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/stream.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1216 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/audio/stream.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      190 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/bitstream.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      389 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/bitstream.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     2800 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/bitstream.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      126 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/buffer.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      103 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/buffer.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1634 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/buffer.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      241 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/bytesource.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1095 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/bytesource.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.036470 pyav-12.1.0rc1/av/codec/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      121 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      229 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/codec.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1555 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/codec.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)    14978 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/codec.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)     2258 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/context.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1724 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/context.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)    22428 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/codec/context.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.036470 pyav-12.1.0rc1/av/container/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      111 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)       63 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1235 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/core.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     3389 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/core.pyi
+-rwxr-xr-x   0 runner    (1001) docker     (127)    15242 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/core.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      163 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/input.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1377 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/input.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)    10574 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/input.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      244 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/output.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      656 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/output.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     8661 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/output.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      731 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/pyio.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     5296 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/pyio.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      311 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/streams.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      996 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/streams.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     3448 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/container/streams.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.040470 pyav-12.1.0rc1/av/data/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/data/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/data/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)       72 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/data/stream.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      133 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/data/stream.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      444 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/data/stream.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)     3094 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/datasets.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2313 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/deprecation.py
+-rw-r--r--   0 runner    (1001) docker     (127)      519 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/descriptor.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      121 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/descriptor.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     2261 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/descriptor.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      174 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/dictionary.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      388 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/dictionary.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1558 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/dictionary.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)       66 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/enum.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1914 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/enum.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)    10479 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/enum.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      135 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/error.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1442 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/error.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)    10446 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/error.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.040470 pyav-12.1.0rc1/av/filter/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      103 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)       66 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      386 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/context.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      460 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/context.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     4138 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/context.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      248 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/filter.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      452 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/filter.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     2763 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/filter.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      490 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/graph.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1423 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/graph.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     6924 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/graph.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      327 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/link.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      110 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/link.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1538 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/link.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      518 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/pad.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      195 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/pad.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     2785 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/filter/pad.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      234 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/format.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      957 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/format.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     6706 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/format.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      445 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/frame.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      183 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/frame.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     4126 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/frame.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)       24 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/logging.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      840 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/logging.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     8702 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/logging.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      366 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/option.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      994 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/option.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     5400 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/option.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      447 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/packet.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      630 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/packet.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     5358 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/packet.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      196 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/plane.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      169 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/plane.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      564 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/plane.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/py.typed
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.040470 pyav-12.1.0rc1/av/sidedata/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      266 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/motionvectors.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      597 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/motionvectors.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     2634 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/motionvectors.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      409 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/sidedata.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1037 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/sidedata.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     3037 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/sidedata/sidedata.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      755 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/stream.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      824 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/stream.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     7296 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/stream.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.044470 pyav-12.1.0rc1/av/subtitles/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)      101 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/codeccontext.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      143 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/codeccontext.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      595 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/codeccontext.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)       76 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/stream.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)       64 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/stream.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      117 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/stream.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      660 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/subtitle.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      762 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/subtitle.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     4833 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/subtitles/subtitle.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      505 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/utils.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     2541 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/utils.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.044470 pyav-12.1.0rc1/av/video/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/__init__.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)       62 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)       62 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/__init__.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)      483 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/codeccontext.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      911 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/codeccontext.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     7563 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/codeccontext.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      727 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/format.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      614 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/format.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     5776 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/format.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      623 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/frame.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1714 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/frame.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)    22927 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/frame.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      193 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/plane.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      223 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/plane.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     1294 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/plane.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      373 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/reformatter.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1049 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/reformatter.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     8292 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/reformatter.pyx
+-rw-r--r--   0 runner    (1001) docker     (127)      209 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/stream.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1122 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/stream.pyi
+-rw-r--r--   0 runner    (1001) docker     (127)     2704 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/av/video/stream.pyx
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.044470 pyav-12.1.0rc1/include/
+-rw-r--r--   0 runner    (1001) docker     (127)      768 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libav.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libavcodec/
+-rw-r--r--   0 runner    (1001) docker     (127)    13444 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavcodec/avcodec.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      894 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavcodec/bsf.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libavdevice/
+-rw-r--r--   0 runner    (1001) docker     (127)      465 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavdevice/avdevice.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libavfilter/
+-rw-r--r--   0 runner    (1001) docker     (127)     2775 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavfilter/avfilter.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1278 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavfilter/avfiltergraph.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      144 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavfilter/buffersink.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      150 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavfilter/buffersrc.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libavformat/
+-rw-r--r--   0 runner    (1001) docker     (127)     7940 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavformat/avformat.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libavutil/
+-rw-r--r--   0 runner    (1001) docker     (127)    10256 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/avutil.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      412 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/channel_layout.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      832 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/dict.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1277 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/error.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      718 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/frame.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)      450 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/motion_vector.pxd
+-rw-r--r--   0 runner    (1001) docker     (127)     1647 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libavutil/samplefmt.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libswresample/
+-rw-r--r--   0 runner    (1001) docker     (127)     1078 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libswresample/swresample.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/include/libswscale/
+-rw-r--r--   0 runner    (1001) docker     (127)     2307 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/include/libswscale/swscale.pxd
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.048470 pyav-12.1.0rc1/pyav.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (127)     2453 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/pyav.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)     5853 2024-05-08 00:42:33.000000 pyav-12.1.0rc1/pyav.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/pyav.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (127)       42 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/pyav.egg-info/entry_points.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/pyav.egg-info/not-zip-safe
+-rw-r--r--   0 runner    (1001) docker     (127)        3 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/pyav.egg-info/top_level.txt
+-rw-r--r--   0 runner    (1001) docker     (127)      332 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/pyproject.toml
+-rw-r--r--   0 runner    (1001) docker     (127)       38 2024-05-08 00:42:33.092471 pyav-12.1.0rc1/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (127)     7449 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/setup.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.020469 pyav-12.1.0rc1/src/
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.060470 pyav-12.1.0rc1/src/av/
+-rw-r--r--   0 runner    (1001) docker     (127)   228698 2024-05-08 00:42:25.000000 pyav-12.1.0rc1/src/av/_core.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.064470 pyav-12.1.0rc1/src/av/audio/
+-rw-r--r--   0 runner    (1001) docker     (127)   429089 2024-05-08 00:42:30.000000 pyav-12.1.0rc1/src/av/audio/codeccontext.c
+-rw-r--r--   0 runner    (1001) docker     (127)   490647 2024-05-08 00:42:29.000000 pyav-12.1.0rc1/src/av/audio/fifo.c
+-rw-r--r--   0 runner    (1001) docker     (127)   387525 2024-05-08 00:42:29.000000 pyav-12.1.0rc1/src/av/audio/format.c
+-rw-r--r--   0 runner    (1001) docker     (127)   572417 2024-05-08 00:42:29.000000 pyav-12.1.0rc1/src/av/audio/frame.c
+-rw-r--r--   0 runner    (1001) docker     (127)   569637 2024-05-08 00:42:30.000000 pyav-12.1.0rc1/src/av/audio/layout.c
+-rw-r--r--   0 runner    (1001) docker     (127)   357622 2024-05-08 00:42:29.000000 pyav-12.1.0rc1/src/av/audio/plane.c
+-rw-r--r--   0 runner    (1001) docker     (127)   505097 2024-05-08 00:42:30.000000 pyav-12.1.0rc1/src/av/audio/resampler.c
+-rw-r--r--   0 runner    (1001) docker     (127)   406373 2024-05-08 00:42:30.000000 pyav-12.1.0rc1/src/av/audio/stream.c
+-rw-r--r--   0 runner    (1001) docker     (127)   398227 2024-05-08 00:42:23.000000 pyav-12.1.0rc1/src/av/bitstream.c
+-rw-r--r--   0 runner    (1001) docker     (127)   411731 2024-05-08 00:42:23.000000 pyav-12.1.0rc1/src/av/buffer.c
+-rw-r--r--   0 runner    (1001) docker     (127)   315061 2024-05-08 00:42:23.000000 pyav-12.1.0rc1/src/av/bytesource.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.068470 pyav-12.1.0rc1/src/av/codec/
+-rw-r--r--   0 runner    (1001) docker     (127)   641826 2024-05-08 00:42:28.000000 pyav-12.1.0rc1/src/av/codec/codec.c
+-rw-r--r--   0 runner    (1001) docker     (127)  1057195 2024-05-08 00:42:28.000000 pyav-12.1.0rc1/src/av/codec/context.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.072470 pyav-12.1.0rc1/src/av/container/
+-rw-r--r--   0 runner    (1001) docker     (127)   786872 2024-05-08 00:42:26.000000 pyav-12.1.0rc1/src/av/container/core.c
+-rw-r--r--   0 runner    (1001) docker     (127)   636779 2024-05-08 00:42:26.000000 pyav-12.1.0rc1/src/av/container/input.c
+-rw-r--r--   0 runner    (1001) docker     (127)   570542 2024-05-08 00:42:26.000000 pyav-12.1.0rc1/src/av/container/output.c
+-rw-r--r--   0 runner    (1001) docker     (127)   428774 2024-05-08 00:42:25.000000 pyav-12.1.0rc1/src/av/container/pyio.c
+-rw-r--r--   0 runner    (1001) docker     (127)   506624 2024-05-08 00:42:25.000000 pyav-12.1.0rc1/src/av/container/streams.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.072470 pyav-12.1.0rc1/src/av/data/
+-rw-r--r--   0 runner    (1001) docker     (127)   357940 2024-05-08 00:42:30.000000 pyav-12.1.0rc1/src/av/data/stream.c
+-rw-r--r--   0 runner    (1001) docker     (127)   353528 2024-05-08 00:42:22.000000 pyav-12.1.0rc1/src/av/descriptor.c
+-rw-r--r--   0 runner    (1001) docker     (127)   444866 2024-05-08 00:42:24.000000 pyav-12.1.0rc1/src/av/dictionary.c
+-rw-r--r--   0 runner    (1001) docker     (127)   867500 2024-05-08 00:42:23.000000 pyav-12.1.0rc1/src/av/enum.c
+-rw-r--r--   0 runner    (1001) docker     (127)   686509 2024-05-08 00:42:22.000000 pyav-12.1.0rc1/src/av/error.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.076470 pyav-12.1.0rc1/src/av/filter/
+-rw-r--r--   0 runner    (1001) docker     (127)   523994 2024-05-08 00:42:31.000000 pyav-12.1.0rc1/src/av/filter/context.c
+-rw-r--r--   0 runner    (1001) docker     (127)   611535 2024-05-08 00:42:31.000000 pyav-12.1.0rc1/src/av/filter/filter.c
+-rw-r--r--   0 runner    (1001) docker     (127)   614694 2024-05-08 00:42:31.000000 pyav-12.1.0rc1/src/av/filter/graph.c
+-rw-r--r--   0 runner    (1001) docker     (127)   379619 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/src/av/filter/link.c
+-rw-r--r--   0 runner    (1001) docker     (127)   414805 2024-05-08 00:42:31.000000 pyav-12.1.0rc1/src/av/filter/pad.c
+-rw-r--r--   0 runner    (1001) docker     (127)   479599 2024-05-08 00:42:24.000000 pyav-12.1.0rc1/src/av/format.c
+-rw-r--r--   0 runner    (1001) docker     (127)   435749 2024-05-08 00:42:24.000000 pyav-12.1.0rc1/src/av/frame.c
+-rw-r--r--   0 runner    (1001) docker     (127)   563016 2024-05-08 00:42:23.000000 pyav-12.1.0rc1/src/av/logging.c
+-rw-r--r--   0 runner    (1001) docker     (127)   504998 2024-05-08 00:42:24.000000 pyav-12.1.0rc1/src/av/option.c
+-rw-r--r--   0 runner    (1001) docker     (127)   489209 2024-05-08 00:42:24.000000 pyav-12.1.0rc1/src/av/packet.c
+-rw-r--r--   0 runner    (1001) docker     (127)   362713 2024-05-08 00:42:23.000000 pyav-12.1.0rc1/src/av/plane.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.076470 pyav-12.1.0rc1/src/av/sidedata/
+-rw-r--r--   0 runner    (1001) docker     (127)   540636 2024-05-08 00:42:25.000000 pyav-12.1.0rc1/src/av/sidedata/motionvectors.c
+-rw-r--r--   0 runner    (1001) docker     (127)   556413 2024-05-08 00:42:25.000000 pyav-12.1.0rc1/src/av/sidedata/sidedata.c
+-rw-r--r--   0 runner    (1001) docker     (127)   494980 2024-05-08 00:42:24.000000 pyav-12.1.0rc1/src/av/stream.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.080470 pyav-12.1.0rc1/src/av/subtitles/
+-rw-r--r--   0 runner    (1001) docker     (127)   356129 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/src/av/subtitles/codeccontext.c
+-rw-r--r--   0 runner    (1001) docker     (127)   341775 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/src/av/subtitles/stream.c
+-rw-r--r--   0 runner    (1001) docker     (127)   821623 2024-05-08 00:42:32.000000 pyav-12.1.0rc1/src/av/subtitles/subtitle.c
+-rw-r--r--   0 runner    (1001) docker     (127)   265628 2024-05-08 00:42:25.000000 pyav-12.1.0rc1/src/av/utils.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.084470 pyav-12.1.0rc1/src/av/video/
+-rw-r--r--   0 runner    (1001) docker     (127)   595328 2024-05-08 00:42:28.000000 pyav-12.1.0rc1/src/av/video/codeccontext.c
+-rw-r--r--   0 runner    (1001) docker     (127)   613578 2024-05-08 00:42:27.000000 pyav-12.1.0rc1/src/av/video/format.c
+-rw-r--r--   0 runner    (1001) docker     (127)  1757212 2024-05-08 00:42:27.000000 pyav-12.1.0rc1/src/av/video/frame.c
+-rw-r--r--   0 runner    (1001) docker     (127)   430748 2024-05-08 00:42:26.000000 pyav-12.1.0rc1/src/av/video/plane.c
+-rw-r--r--   0 runner    (1001) docker     (127)   480479 2024-05-08 00:42:28.000000 pyav-12.1.0rc1/src/av/video/reformatter.c
+-rw-r--r--   0 runner    (1001) docker     (127)   424135 2024-05-08 00:42:27.000000 pyav-12.1.0rc1/src/av/video/stream.c
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:33.088471 pyav-12.1.0rc1/tests/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     4303 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/common.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3512 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_audiofifo.py
+-rw-r--r--   0 runner    (1001) docker     (127)      836 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_audioformat.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8335 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_audioframe.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1543 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_audiolayout.py
+-rw-r--r--   0 runner    (1001) docker     (127)     8888 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_audioresampler.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3611 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_bitstream.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3387 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_codec.py
+-rw-r--r--   0 runner    (1001) docker     (127)    17838 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_codec_context.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1616 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_colorspace.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1595 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_containerformat.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5297 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_decode.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1453 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_deprecation.py
+-rw-r--r--   0 runner    (1001) docker     (127)      471 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_dictionary.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1521 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_doctests.py
+-rw-r--r--   0 runner    (1001) docker     (127)    14298 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_encode.py
+-rw-r--r--   0 runner    (1001) docker     (127)     6130 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_enums.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2496 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_errors.py
+-rw-r--r--   0 runner    (1001) docker     (127)    14148 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_file_probing.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7956 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_filters.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2510 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_logging.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1047 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_open.py
+-rw-r--r--   0 runner    (1001) docker     (127)      567 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_options.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1666 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_packet.py
+-rw-r--r--   0 runner    (1001) docker     (127)    10063 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_python_io.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5284 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_seek.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1464 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_streams.py
+-rw-r--r--   0 runner    (1001) docker     (127)     1780 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_subtitles.py
+-rw-r--r--   0 runner    (1001) docker     (127)     2069 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_timeout.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3878 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_videoformat.py
+-rw-r--r--   0 runner    (1001) docker     (127)    28349 2024-05-08 00:42:18.000000 pyav-12.1.0rc1/tests/test_videoframe.py
```

### Comparing `pyav-12.0.5/LICENSE.txt` & `pyav-12.1.0rc1/LICENSE.txt`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/PKG-INFO` & `pyav-12.1.0rc1/PKG-INFO`

 * *Files 9% similar despite different names*

```diff
@@ -1,19 +1,18 @@
 Metadata-Version: 2.1
 Name: pyav
-Version: 12.0.5
+Version: 12.1.0rc1
 Summary: Pythonic bindings for FFmpeg's libraries.
 Home-page: https://github.com/WyattBlue/pyav
 Author: WyattBlue
 Author-email: wyattblue@auto-editor.com
 License: BSD
 Project-URL: Bug Reports, https://github.com/WyattBlue/pyav/issues
 Project-URL: Documentation, https://pyav.basswood-io.com
 Project-URL: Download, https://pypi.org/project/pyav
-Platform: UNKNOWN
 Classifier: Topic :: Multimedia :: Sound/Audio
 Classifier: Topic :: Multimedia :: Sound/Audio :: Conversion
 Classifier: Topic :: Multimedia :: Video
 Classifier: Topic :: Multimedia :: Video :: Conversion
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
 Classifier: License :: OSI Approved :: BSD License
 Classifier: Natural Language :: English
@@ -24,15 +23,15 @@
 Classifier: Operating System :: Unix
 Classifier: Operating System :: Microsoft :: Windows
 Classifier: Programming Language :: Cython
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: 3.12
-Requires-Python: >=3.9
+Requires-Python: >=3.10
 Description-Content-Type: text/markdown
 License-File: LICENSE.txt
 
 # pyav
 
 Notice: [PyAV](https://github.com/PyAV-Org/PyAV) (upstream) and pyav have been merged! There is no reason to use `pyav` unless you want LGPLv3 builds!
 
@@ -63,9 +62,7 @@
 ./scripts/build-deps
 make
 deactivate
 pip install .
 ```
 
 Notice: `av` and `pyav` have been merged, there is no reason to use `pyav` for source builds!
-
-
```

#### html2text {}

```diff
@@ -1,25 +1,25 @@
-Metadata-Version: 2.1 Name: pyav Version: 12.0.5 Summary: Pythonic bindings for
-FFmpeg's libraries. Home-page: https://github.com/WyattBlue/pyav Author:
+Metadata-Version: 2.1 Name: pyav Version: 12.1.0rc1 Summary: Pythonic bindings
+for FFmpeg's libraries. Home-page: https://github.com/WyattBlue/pyav Author:
 WyattBlue Author-email: wyattblue@auto-editor.com License: BSD Project-URL: Bug
 Reports, https://github.com/WyattBlue/pyav/issues Project-URL: Documentation,
 https://pyav.basswood-io.com Project-URL: Download, https://pypi.org/project/
-pyav Platform: UNKNOWN Classifier: Topic :: Multimedia :: Sound/Audio
-Classifier: Topic :: Multimedia :: Sound/Audio :: Conversion Classifier: Topic
-:: Multimedia :: Video Classifier: Topic :: Multimedia :: Video :: Conversion
-Classifier: Topic :: Software Development :: Libraries :: Python Modules
-Classifier: License :: OSI Approved :: BSD License Classifier: Natural Language
-:: English Classifier: Intended Audience :: Developers Classifier: Development
-Status :: 5 - Production/Stable Classifier: Operating System :: MacOS :: MacOS
-X Classifier: Operating System :: POSIX Classifier: Operating System :: Unix
-Classifier: Operating System :: Microsoft :: Windows Classifier: Programming
-Language :: Cython Classifier: Programming Language :: Python :: 3.9
-Classifier: Programming Language :: Python :: 3.10 Classifier: Programming
-Language :: Python :: 3.11 Classifier: Programming Language :: Python :: 3.12
-Requires-Python: >=3.9 Description-Content-Type: text/markdown License-File:
+pyav Classifier: Topic :: Multimedia :: Sound/Audio Classifier: Topic ::
+Multimedia :: Sound/Audio :: Conversion Classifier: Topic :: Multimedia ::
+Video Classifier: Topic :: Multimedia :: Video :: Conversion Classifier: Topic
+:: Software Development :: Libraries :: Python Modules Classifier: License ::
+OSI Approved :: BSD License Classifier: Natural Language :: English Classifier:
+Intended Audience :: Developers Classifier: Development Status :: 5 -
+Production/Stable Classifier: Operating System :: MacOS :: MacOS X Classifier:
+Operating System :: POSIX Classifier: Operating System :: Unix Classifier:
+Operating System :: Microsoft :: Windows Classifier: Programming Language ::
+Cython Classifier: Programming Language :: Python :: 3.9 Classifier:
+Programming Language :: Python :: 3.10 Classifier: Programming Language ::
+Python :: 3.11 Classifier: Programming Language :: Python :: 3.12 Requires-
+Python: >=3.10 Description-Content-Type: text/markdown License-File:
 LICENSE.txt # pyav Notice: [PyAV](https://github.com/PyAV-Org/PyAV) (upstream)
 and pyav have been merged! There is no reason to use `pyav` unless you want
 LGPLv3 builds! --- [![Actions Status](https://github.com/WyattBlue/PyAV/
 workflows/tests/badge.svg)](https://github.com/wyattblue/PyAV/
 actions?workflow=tests) _[_C_o_d_e_ _s_t_y_l_e_:_ _b_l_a_c_k_]## Installing Just run: ``` pip
 install pyav ``` Running the command should install the binary wheel provided.
 Due to the complexity of the dependencies, pyav is not easy to install from
```

### Comparing `pyav-12.0.5/README.md` & `pyav-12.1.0rc1/README.md`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/__init__.py` & `pyav-12.1.0rc1/av/__init__.py`

 * *Files 7% similar despite different names*

```diff
@@ -25,14 +25,15 @@
 # For convenience, IMPORT ALL OF THE THINGS (that are constructable by the user).
 from av.about import __version__
 from av.audio.fifo import AudioFifo
 from av.audio.format import AudioFormat
 from av.audio.frame import AudioFrame
 from av.audio.layout import AudioLayout
 from av.audio.resampler import AudioResampler
+from av.bitstream import BitStreamFilterContext, bitstream_filters_available
 from av.codec.codec import Codec, codecs_available
 from av.codec.context import CodecContext
 from av.container import open
 from av.format import ContainerFormat, formats_available
 from av.packet import Packet
 from av.error import *  # noqa: F403; This is limited to exception types.
 from av.video.format import VideoFormat
```

### Comparing `pyav-12.0.5/av/__main__.py` & `pyav-12.1.0rc1/av/__main__.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/_core.pyx` & `pyav-12.1.0rc1/av/_core.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/codeccontext.pyx` & `pyav-12.1.0rc1/av/audio/codeccontext.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/fifo.pyx` & `pyav-12.1.0rc1/av/audio/fifo.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/format.pyx` & `pyav-12.1.0rc1/av/audio/format.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/frame.pxd` & `pyav-12.1.0rc1/av/audio/frame.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/frame.pyi` & `pyav-12.1.0rc1/av/audio/frame.pyi`

 * *Files 7% similar despite different names*

```diff
@@ -1,13 +1,15 @@
 from typing import Any, Union
 
 import numpy as np
 
 from av.frame import Frame
 
+from .format import AudioFormat
+from .layout import AudioLayout
 from .plane import AudioPlane
 
 format_dtypes: dict[str, str]
 _SupportedNDarray = Union[
     np.ndarray[Any, np.dtype[np.float64]],  # f8
     np.ndarray[Any, np.dtype[np.float32]],  # f4
     np.ndarray[Any, np.dtype[np.int32]],  # i4
@@ -16,14 +18,16 @@
 ]
 
 class AudioFrame(Frame):
     planes: tuple[AudioPlane, ...]
     samples: int
     sample_rate: int
     rate: int
+    format: AudioFormat
+    layout: AudioLayout
 
     def __init__(
         self,
         format: str = "s16",
         layout: str = "stereo",
         samples: int = 0,
         align: int = 1,
```

### Comparing `pyav-12.0.5/av/audio/frame.pyx` & `pyav-12.1.0rc1/av/audio/frame.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/layout.pyx` & `pyav-12.1.0rc1/av/audio/layout.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/resampler.pyi` & `pyav-12.1.0rc1/av/audio/resampler.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/resampler.pyx` & `pyav-12.1.0rc1/av/audio/resampler.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/stream.pyi` & `pyav-12.1.0rc1/av/audio/stream.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/audio/stream.pyx` & `pyav-12.1.0rc1/av/audio/stream.pyx`

 * *Files 16% similar despite different names*

```diff
@@ -7,14 +7,17 @@
     def __repr__(self):
         form = self.format.name if self.format else None
         return (
             f"<av.AudioStream #{self.index} {self.name} at {self.rate}Hz,"
             f" {self.layout.name}, {form} at 0x{id(self):x}>"
         )
 
+    def __getattr__(self, name):
+        return getattr(self.codec_context, name)
+
     cpdef encode(self, AudioFrame frame=None):
         """
         Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.
 
         :rtype: list[Packet]
 
         .. seealso:: This is mostly a passthrough to :meth:`.CodecContext.encode`.
```

### Comparing `pyav-12.0.5/av/buffer.pyx` & `pyav-12.1.0rc1/av/buffer.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/bytesource.pyx` & `pyav-12.1.0rc1/av/bytesource.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/codec/codec.pyi` & `pyav-12.1.0rc1/av/codec/codec.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/codec/codec.pyx` & `pyav-12.1.0rc1/av/codec/codec.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/codec/context.pxd` & `pyav-12.1.0rc1/av/codec/context.pxd`

 * *Files 2% similar despite different names*

```diff
@@ -33,14 +33,16 @@
 
     cdef _set_default_time_base(self)
 
     # Wraps both versions of the transcode API, returning lists.
     cpdef encode(self, Frame frame=?)
     cpdef decode(self, Packet packet=?)
 
+    cpdef flush_buffers(self)
+
     # Used by both transcode APIs to setup user-land objects.
     # TODO: Remove the `Packet` from `_setup_decoded_frame` (because flushing
     # packets are bogus). It should take all info it needs from the context and/or stream.
     cdef _prepare_and_time_rebase_frames_for_encode(self, Frame frame)
     cdef _prepare_frames_for_encode(self, Frame frame)
     cdef _setup_encoded_packet(self, Packet)
     cdef _setup_decoded_frame(self, Frame, Packet)
```

### Comparing `pyav-12.0.5/av/codec/context.pyi` & `pyav-12.1.0rc1/av/codec/context.pyi`

 * *Files 11% similar despite different names*

```diff
@@ -1,10 +1,11 @@
 from typing import Any, Literal
 
 from av.enum import EnumFlag, EnumItem
+from av.frame import Frame
 from av.packet import Packet
 
 from .codec import Codec
 
 class ThreadType(EnumFlag):
     NONE: int
     FRAME: int
@@ -74,7 +75,8 @@
     @staticmethod
     def create(
         codec: str | Codec, mode: Literal["r", "w"] | None = None
     ) -> CodecContext: ...
     def parse(
         self, raw_input: bytes | bytearray | memoryview | None = None
     ) -> list[Packet]: ...
+    def flush_buffers(self) -> None: ...
```

### Comparing `pyav-12.0.5/av/codec/context.pyx` & `pyav-12.1.0rc1/av/codec/context.pyx`

 * *Files 0% similar despite different names*

```diff
@@ -506,14 +506,25 @@
         res = []
         for frame in self._send_packet_and_recv(packet):
             if isinstance(frame, Frame):
                 self._setup_decoded_frame(frame, packet)
             res.append(frame)
         return res
 
+    cpdef flush_buffers(self):
+        """Reset the internal codec state and discard all internal buffers.
+
+        Should be called before you start decoding from a new position e.g.
+        when seeking or when switching to a different stream.
+
+        """
+        if self.is_open:
+            with nogil:
+                lib.avcodec_flush_buffers(self.ptr)
+
     cdef _setup_decoded_frame(self, Frame frame, Packet packet):
 
         # Propagate our manual times.
         # While decoding, frame times are in stream time_base, which PyAV
         # is carrying around.
         # TODO: Somehow get this from the stream so we can not pass the
         # packet here (because flushing packets are bogus).
```

### Comparing `pyav-12.0.5/av/container/core.pxd` & `pyav-12.1.0rc1/av/container/core.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/core.pyi` & `pyav-12.1.0rc1/av/container/core.pyi`

 * *Files 1% similar despite different names*

```diff
@@ -1,13 +1,14 @@
 from numbers import Real
 from pathlib import Path
 from types import TracebackType
 from typing import Any, Callable, Literal, Type, overload
 
 from av.enum import EnumFlag
+from av.format import ContainerFormat
 
 from .input import InputContainer
 from .output import OutputContainer
 from .streams import StreamContainer
 
 class Flags(EnumFlag):
     GENPTS: int
@@ -32,15 +33,15 @@
     metadata_encoding: str
     metadata_errors: str
     file: Any
     buffer_size: int
     input_was_opened: bool
     io_open: Any
     open_files: Any
-    format: str | None
+    format: ContainerFormat
     options: dict[str, str]
     container_options: dict[str, str]
     stream_options: list[str]
     streams: StreamContainer
     metadata: dict[str, str]
     open_timeout: Real | None
     read_timeout: Real | None
```

### Comparing `pyav-12.0.5/av/container/core.pyx` & `pyav-12.1.0rc1/av/container/core.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/input.pyi` & `pyav-12.1.0rc1/av/container/input.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/input.pyx` & `pyav-12.1.0rc1/av/container/input.pyx`

 * *Files 1% similar despite different names*

```diff
@@ -274,10 +274,9 @@
         self._assert_open()
 
         cdef Stream stream
         cdef CodecContext codec_context
 
         for stream in self.streams:
             codec_context = stream.codec_context
-            if codec_context and codec_context.is_open:
-                with nogil:
-                    lib.avcodec_flush_buffers(codec_context.ptr)
+            if codec_context:
+                codec_context.flush_buffers()
```

### Comparing `pyav-12.0.5/av/container/output.pyi` & `pyav-12.1.0rc1/av/container/output.pyi`

 * *Files 14% similar despite different names*

```diff
@@ -13,9 +13,9 @@
         codec_name: str | None = None,
         rate: Fraction | int | float | None = None,
         template: Stream | None = None,
         options: dict[str, str] | None = None,
     ) -> Stream: ...
     def start_encoding(self) -> None: ...
     def close(self) -> None: ...
-    def mux(self, packets: Sequence[Packet]) -> None: ...
+    def mux(self, packets: Packet | Sequence[Packet]) -> None: ...
     def mux_one(self, packet: Packet) -> None: ...
```

### Comparing `pyav-12.0.5/av/container/output.pyx` & `pyav-12.1.0rc1/av/container/output.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/pyio.pxd` & `pyav-12.1.0rc1/av/container/pyio.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/pyio.pyx` & `pyav-12.1.0rc1/av/container/pyio.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/streams.pyi` & `pyav-12.1.0rc1/av/container/streams.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/container/streams.pyx` & `pyav-12.1.0rc1/av/container/streams.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/datasets.py` & `pyav-12.1.0rc1/av/datasets.py`

 * *Files 13% similar despite different names*

```diff
@@ -1,17 +1,18 @@
 import errno
 import logging
 import os
 import sys
+from typing import Iterator
 from urllib.request import urlopen
 
 log = logging.getLogger(__name__)
 
 
-def iter_data_dirs(check_writable=False):
+def iter_data_dirs(check_writable: bool = False) -> Iterator[str]:
     try:
         yield os.environ["PYAV_TESTDATA_DIR"]
     except KeyError:
         pass
 
     if os.name == "nt":
         yield os.path.join(sys.prefix, "pyav", "datasets")
@@ -38,15 +39,15 @@
                 if not os.access(base, os.W_OK):
                     continue
         yield dir_
 
     yield os.path.join(os.path.expanduser("~"), ".pyav", "datasets")
 
 
-def cached_download(url, name):
+def cached_download(url: str, name: str) -> str:
     """Download the data at a URL, and cache it under the given name.
 
     The file is stored under `pyav/test` with the given name in the directory
     :envvar:`PYAV_TESTDATA_DIR`, or the first that is writeable of:
 
     - the current virtualenv
     - ``/usr/local/share``
@@ -92,29 +93,29 @@
                 break
 
     os.rename(tmp_path, path)
 
     return path
 
 
-def fate(name):
+def fate(name: str) -> str:
     """Download and return a path to a sample from the FFmpeg test suite.
 
     Data is handled by :func:`cached_download`.
 
     See the `FFmpeg Automated Test Environment <https://www.ffmpeg.org/fate.html>`_
 
     """
     return cached_download(
         "http://fate.ffmpeg.org/fate-suite/" + name,
         os.path.join("fate-suite", name.replace("/", os.path.sep)),
     )
 
 
-def curated(name):
+def curated(name: str) -> str:
     """Download and return a path to a sample that is curated by the PyAV developers.
 
     Data is handled by :func:`cached_download`.
 
     """
     return cached_download(
         "https://pyav.org/datasets/" + name,
```

### Comparing `pyav-12.0.5/av/deprecation.py` & `pyav-12.1.0rc1/av/deprecation.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/descriptor.pxd` & `pyav-12.1.0rc1/av/descriptor.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/descriptor.pyx` & `pyav-12.1.0rc1/av/descriptor.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/dictionary.pyx` & `pyav-12.1.0rc1/av/dictionary.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/enum.pyi` & `pyav-12.1.0rc1/av/enum.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/enum.pyx` & `pyav-12.1.0rc1/av/enum.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/error.pyi` & `pyav-12.1.0rc1/av/error.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/error.pyx` & `pyav-12.1.0rc1/av/error.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/context.pyx` & `pyav-12.1.0rc1/av/filter/context.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/filter.pyx` & `pyav-12.1.0rc1/av/filter/filter.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/graph.pyi` & `pyav-12.1.0rc1/av/filter/graph.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/graph.pyx` & `pyav-12.1.0rc1/av/filter/graph.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/link.pyx` & `pyav-12.1.0rc1/av/filter/link.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/pad.pxd` & `pyav-12.1.0rc1/av/filter/pad.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/filter/pad.pyx` & `pyav-12.1.0rc1/av/filter/pad.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/format.pyi` & `pyav-12.1.0rc1/av/format.pyi`

 * *Files 17% similar despite different names*

```diff
@@ -18,17 +18,18 @@
     NO_BYTE_SEEK: int
     ALLOW_FLUSH: int
     TS_NONSTRICT: int
     TS_NEGATIVE: int
     SEEK_TO_PTS: int
 
 class ContainerFormat:
+    name: str
+    long_name: str
     is_input: bool
     is_output: bool
-    long_name: str
 
     # flags
     no_file: int
     need_number: int
     show_ids: int
     global_header: int
     no_timestamps: int
```

### Comparing `pyav-12.0.5/av/format.pyx` & `pyav-12.1.0rc1/av/format.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/frame.pyx` & `pyav-12.1.0rc1/av/frame.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/logging.pyx` & `pyav-12.1.0rc1/av/logging.pyx`

 * *Files 14% similar despite different names*

```diff
@@ -1,52 +1,58 @@
 """
-FFmpeg has a logging system that it uses extensively. PyAV hooks into that system
-to translate FFmpeg logs into Python's
+FFmpeg has a logging system that it uses extensively. It's very noisy so PyAV turns it
+off by default. This, unfortunately has the effect of making raised errors having less
+detailed messages. It's therefore recommended to use VERBOSE when developing.
+
+.. _enable_logging:
+
+Enabling Logging
+~~~~~~~~~~~~~~~~~
+
+You can hook the logging system with Python by setting the log level::
+
+    import av
+
+    av.logging.set_level(av.logging.VERBOSE)
+
+
+PyAV hooks into that system to translate FFmpeg logs into Python's
 `logging system <https://docs.python.org/3/library/logging.html#logging.basicConfig>`_.
 
 If you are not already using Python's logging system, you can initialize it
 quickly with::
 
     import logging
     logging.basicConfig()
 
 
-.. _disable_logging:
-
-Disabling Logging
-~~~~~~~~~~~~~~~~~
-
-You can disable hooking the logging system with an environment variable::
-
-    export PYAV_LOGGING=off
-
-or at runtime with :func:`restore_default_callback`.
+Note that handling logs with Python sometimes doesn't play nice multi-threads workflows.
+An alternative is :func:`restore_default_callback`.
 
-This will leave (or restore) the FFmpeg logging system, which prints to the terminal.
-This may also result in raised errors having less detailed messages.
+This will restores FFmpeg's logging default system, which prints to the terminal.
+Like with setting the log level to ``None``, this may also result in raised errors
+having less detailed messages.
 
 
 API Reference
 ~~~~~~~~~~~~~
 
 """
 
 from __future__ import absolute_import
 
 cimport libav as lib
 from libc.stdio cimport fprintf, stderr
 from libc.stdlib cimport free, malloc
 
 import logging
-import os
 import sys
 from threading import Lock, get_ident
 
 # Library levels.
-# QUIET  = lib.AV_LOG_QUIET # -8; not really a level.
 PANIC = lib.AV_LOG_PANIC  # 0
 FATAL = lib.AV_LOG_FATAL  # 8
 ERROR = lib.AV_LOG_ERROR
 WARNING = lib.AV_LOG_WARNING
 INFO = lib.AV_LOG_INFO
 VERBOSE = lib.AV_LOG_VERBOSE
 DEBUG = lib.AV_LOG_DEBUG
@@ -68,76 +74,60 @@
     elif level <= lib.AV_LOG_INFO:
         return 20  # logging.INFO
     elif level <= lib.AV_LOG_VERBOSE:
         return 10  # logging.DEBUG
     elif level <= lib.AV_LOG_DEBUG:
         return 5  # Lower than any logging constant.
     else:  # lib.AV_LOG_TRACE
-        return 1  # ... yeah.
+        return 1
 
 
-# While we start with the level quite low, Python defaults to INFO, and so
-# they will not show. The logging system can add significant overhead, so
-# be wary of dropping this lower.
-cdef int level_threshold = lib.AV_LOG_VERBOSE
+cdef object level_threshold = None
 
 # ... but lets limit ourselves to WARNING (assuming nobody already did this).
 if "libav" not in logging.Logger.manager.loggerDict:
     logging.getLogger("libav").setLevel(logging.WARNING)
 
 
 def get_level():
-    """Return current FFmpeg logging threshold. See :func:`set_level`."""
+    """Returns the current log level. See :func:`set_level`."""
     return level_threshold
 
 
-def set_level(int level):
+def set_level(level):
     """set_level(level)
 
-    Sets logging threshold when converting from FFmpeg's logging system
-    to Python's. It is recommended to use the constants available in this
-    module to set the level: ``PANIC``, ``FATAL``, ``ERROR``,
-    ``WARNING``, ``INFO``, ``VERBOSE``, and ``DEBUG``.
-
-    While less efficient, it is generally preferable to modify logging
-    with Python's :mod:`logging`, e.g.::
-
-        logging.getLogger('libav').setLevel(logging.ERROR)
-
-    PyAV defaults to translating everything except ``AV_LOG_DEBUG``, so this
-    function is only nessesary to use if you want to see those messages as well.
-    ``AV_LOG_DEBUG`` will be translated to a level 5 message, which is lower
-    than any builtin Python logging level, so you must lower that as well::
+    Sets PyAV's log level. It can be set to constants available in this
+    module: ``PANIC``, ``FATAL``, ``ERROR``, ``WARNING``, ``INFO``,
+    ``VERBOSE``, ``DEBUG``, or ``None`` (the default).
+
+    PyAV defaults to totally ignoring all ffmpeg logs. This has the side effect of
+    making certain Exceptions have no messages. It's therefore recommended to use:
 
-        logging.getLogger().setLevel(5)
+         av.logging.set_level(av.logging.VERBOSE)
 
+    When developing your application.
     """
     global level_threshold
-    level_threshold = level
+
+    if level is None:
+        level_threshold = level
+        lib.av_log_set_callback(nolog_callback)
+    elif type(level) is int:
+        level_threshold = level
+        lib.av_log_set_callback(log_callback)
+    else:
+        raise ValueError("level must be: int | None")
 
 
 def restore_default_callback():
     """Revert back to FFmpeg's log callback, which prints to the terminal."""
     lib.av_log_set_callback(lib.av_log_default_callback)
 
 
-cdef bint print_after_shutdown = False
-
-
-def get_print_after_shutdown():
-    """Will logging continue to ``stderr`` after Python shutdown?"""
-    return print_after_shutdown
-
-
-def set_print_after_shutdown(v):
-    """Set if logging should continue to ``stderr`` after Python shutdown."""
-    global print_after_shutdown
-    print_after_shutdown = bool(v)
-
-
 cdef bint skip_repeated = True
 cdef skip_lock = Lock()
 cdef object last_log = None
 cdef int skip_count = 0
 
 
 def get_skip_repeated():
@@ -222,55 +212,14 @@
     cdef log_context *obj = <log_context*>malloc(sizeof(log_context))
     obj.class_ = &log_class
     obj.name = name
     lib.av_log(<void*>obj, level, "%s", message)
     free(obj)
 
 
-cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
-
-    cdef bint inited = lib.Py_IsInitialized()
-    if not inited and not print_after_shutdown:
-        return
-
-    # Fast path: avoid logging overhead. This should match the
-    # log_callback_gil() checks that result in ignoring the message.
-    with gil:
-        if level > level_threshold and level != lib.AV_LOG_ERROR:
-            return
-
-    # Format the message.
-    cdef char message[1024]
-    lib.vsnprintf(message, 1023, format, args)
-
-    # Get the name.
-    cdef const char *name = NULL
-    cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
-    if cls and cls.item_name:
-        # I'm not 100% on this, but this should be static, and so
-        # it doesn't matter if the AVClass that returned it vanishes or not.
-        name = cls.item_name(ptr)
-
-    if not inited:
-        fprintf(stderr, "av.logging (after shutdown): %s[%d]: %s\n",
-                name, level, message)
-        return
-
-    with gil:
-        try:
-            log_callback_gil(level, name, message)
-
-        except Exception as e:
-            fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",
-                    name, level, message)
-            # For some reason lib.PyErr_PrintEx(0) won't work.
-            exc, type_, tb = sys.exc_info()
-            lib.PyErr_Display(exc, type_, tb)
-
-
 cdef log_callback_gil(int level, const char *c_name, const char *c_message):
     global error_count
     global skip_count
     global last_log
     global last_error
 
     name = <str>c_name if c_name is not NULL else ""
@@ -332,12 +281,41 @@
     py_level = adapt_level(lib_level)
 
     logger_name = "libav." + name if name else "libav.generic"
     logger = logging.getLogger(logger_name)
     logger.log(py_level, message.strip())
 
 
-# Start the magic!
-# We allow the user to fully disable the logging system as it will not play
-# nicely with subinterpreters due to FFmpeg-created threads.
-if os.environ.get("PYAV_LOGGING") != "off":
-    lib.av_log_set_callback(log_callback)
+cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
+    cdef bint inited = lib.Py_IsInitialized()
+    if not inited:
+        return
+
+    with gil:
+        if level > level_threshold and level != lib.AV_LOG_ERROR:
+            return
+
+    # Format the message.
+    cdef char message[1024]
+    lib.vsnprintf(message, 1023, format, args)
+
+    # Get the name.
+    cdef const char *name = NULL
+    cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
+    if cls and cls.item_name:
+        name = cls.item_name(ptr)
+
+    with gil:
+        try:
+            log_callback_gil(level, name, message)
+        except Exception as e:
+            fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",
+                    name, level, message)
+            # For some reason lib.PyErr_PrintEx(0) won't work.
+            exc, type_, tb = sys.exc_info()
+            lib.PyErr_Display(exc, type_, tb)
+
+
+cdef void nolog_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
+    pass
+
+lib.av_log_set_callback(nolog_callback)
```

### Comparing `pyav-12.0.5/av/option.pyi` & `pyav-12.1.0rc1/av/option.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/option.pyx` & `pyav-12.1.0rc1/av/option.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/packet.pyx` & `pyav-12.1.0rc1/av/packet.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/plane.pyx` & `pyav-12.1.0rc1/av/plane.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/sidedata/motionvectors.pyi` & `pyav-12.1.0rc1/av/sidedata/motionvectors.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/sidedata/motionvectors.pyx` & `pyav-12.1.0rc1/av/sidedata/motionvectors.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/sidedata/sidedata.pyi` & `pyav-12.1.0rc1/av/sidedata/sidedata.pyi`

 * *Files 15% similar despite different names*

```diff
@@ -19,14 +19,15 @@
     AUDIO_SERVICE_TYPE: int
     MASTERING_DISPLAY_METADATA: int
     GOP_TIMECODE: int
     SPHERICAL: int
     CONTENT_LIGHT_LEVEL: int
     ICC_PROFILE: int
     SEI_UNREGISTERED: int
+    S12M_TIMECODE: int
 
 class SideData(Buffer):
     type: Type
     DISPLAYMATRIX: int
 
 class SideDataContainer(Mapping):
     frame: Frame
```

### Comparing `pyav-12.0.5/av/sidedata/sidedata.pyx` & `pyav-12.1.0rc1/av/sidedata/sidedata.pyx`

 * *Files 3% similar despite different names*

```diff
@@ -21,15 +21,16 @@
     ("SKIP_SAMPLES", lib.AV_FRAME_DATA_SKIP_SAMPLES),
     ("AUDIO_SERVICE_TYPE", lib.AV_FRAME_DATA_AUDIO_SERVICE_TYPE),
     ("MASTERING_DISPLAY_METADATA", lib.AV_FRAME_DATA_MASTERING_DISPLAY_METADATA),
     ("GOP_TIMECODE", lib.AV_FRAME_DATA_GOP_TIMECODE),
     ("SPHERICAL", lib.AV_FRAME_DATA_SPHERICAL),
     ("CONTENT_LIGHT_LEVEL", lib.AV_FRAME_DATA_CONTENT_LIGHT_LEVEL),
     ("ICC_PROFILE", lib.AV_FRAME_DATA_ICC_PROFILE),
-    ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED) if lib.AV_FRAME_DATA_SEI_UNREGISTERED != -1 else None,
+    ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED),
+    ("S12M_TIMECODE", lib.AV_FRAME_DATA_S12M_TIMECODE),
 ))
 
 
 cdef SideData wrap_side_data(Frame frame, int index):
     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type
     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:
         return MotionVectors(_cinit_bypass_sentinel, frame, index)
```

### Comparing `pyav-12.0.5/av/stream.pxd` & `pyav-12.1.0rc1/av/stream.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/stream.pyi` & `pyav-12.1.0rc1/av/stream.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/stream.pyx` & `pyav-12.1.0rc1/av/stream.pyx`

 * *Files 8% similar despite different names*

```diff
@@ -97,32 +97,14 @@
 
     def __repr__(self):
         return (
             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"
             f"{self.name or '<nocodec>'} at 0x{id(self):x}>"
         )
 
-    def __getattr__(self, name):
-        # Deprecate framerate pass-through as it is not always set.
-        # See: https://github.com/PyAV-Org/PyAV/issues/1005
-        if self.ptr.codecpar.codec_type == lib.AVMEDIA_TYPE_VIDEO and name in ("framerate", "rate"):
-            warnings.warn(
-                f"VideoStream.{name} is deprecated as it is not always set; please use VideoStream.average_rate.",
-                AVDeprecationWarning
-            )
-
-        if name == "side_data":
-            return self.side_data
-        elif name == "nb_side_data":
-            return self.nb_side_data
-
-        # Convenience getter for codec context properties.
-        if self.codec_context is not None:
-            return getattr(self.codec_context, name)
-
     def __setattr__(self, name, value):
         if name == "id":
             self._set_id(value)
             return
 
         # Convenience setter for codec context properties.
         if self.codec_context is not None:
```

### Comparing `pyav-12.0.5/av/subtitles/codeccontext.pyx` & `pyav-12.1.0rc1/av/subtitles/codeccontext.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/subtitles/subtitle.pxd` & `pyav-12.1.0rc1/av/subtitles/subtitle.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/subtitles/subtitle.pyi` & `pyav-12.1.0rc1/av/subtitles/subtitle.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/subtitles/subtitle.pyx` & `pyav-12.1.0rc1/av/subtitles/subtitle.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/utils.pyx` & `pyav-12.1.0rc1/av/utils.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/codeccontext.pyi` & `pyav-12.1.0rc1/av/video/codeccontext.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/codeccontext.pyx` & `pyav-12.1.0rc1/av/video/codeccontext.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/format.pxd` & `pyav-12.1.0rc1/av/video/format.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/format.pyi` & `pyav-12.1.0rc1/av/video/format.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/format.pyx` & `pyav-12.1.0rc1/av/video/format.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/frame.pxd` & `pyav-12.1.0rc1/av/video/frame.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/frame.pyi` & `pyav-12.1.0rc1/av/video/frame.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/frame.pyx` & `pyav-12.1.0rc1/av/video/frame.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/plane.pyx` & `pyav-12.1.0rc1/av/video/plane.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/reformatter.pyi` & `pyav-12.1.0rc1/av/video/reformatter.pyi`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/reformatter.pyx` & `pyav-12.1.0rc1/av/video/reformatter.pyx`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/av/video/stream.pyi` & `pyav-12.1.0rc1/av/video/stream.pyi`

 * *Files 27% similar despite different names*

```diff
@@ -1,9 +1,9 @@
 from fractions import Fraction
-from typing import Any, Literal
+from typing import Any, Iterator, Literal
 
 from av.packet import Packet
 from av.stream import Stream
 
 from .codeccontext import VideoCodecContext
 from .format import VideoFormat
 from .frame import VideoFrame
@@ -32,8 +32,9 @@
     color_range: int
     color_primaries: int
     color_trc: int
     colorspace: int
     type: Literal["video"]
 
     def encode(self, frame: VideoFrame | None = None) -> list[Packet]: ...
+    def encode_lazy(self, frame: VideoFrame | None = None) -> Iterator[Packet]: ...
     def decode(self, packet: Packet | None = None) -> list[VideoFrame]: ...
```

### Comparing `pyav-12.0.5/av/video/stream.pyx` & `pyav-12.1.0rc1/av/video/stream.pyx`

 * *Files 4% similar despite different names*

```diff
@@ -10,14 +10,20 @@
     def __repr__(self):
         return (
             f"<av.VideoStream #{self.index} {self.name}, "
             f"{self.format.name if self.format else None} {self.codec_context.width}x"
             f"{self.codec_context.height} at 0x{id(self):x}>"
         )
 
+    def __getattr__(self, name):
+        if name in ("framerate", "rate"):
+            raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
+
+        return getattr(self.codec_context, name)
+
     cpdef encode(self, VideoFrame frame=None):
         """
         Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.
 
         :rtype: list[Packet]
 
         .. seealso:: This is mostly a passthrough to :meth:`.CodecContext.encode`.
```

### Comparing `pyav-12.0.5/include/libav.pxd` & `pyav-12.1.0rc1/include/libav.pxd`

 * *Files 10% similar despite different names*

```diff
@@ -3,14 +3,15 @@
 include "libavutil/dict.pxd"
 include "libavutil/error.pxd"
 include "libavutil/frame.pxd"
 include "libavutil/samplefmt.pxd"
 include "libavutil/motion_vector.pxd"
 
 include "libavcodec/avcodec.pxd"
+include "libavcodec/bsf.pxd"
 include "libavdevice/avdevice.pxd"
 include "libavformat/avformat.pxd"
 include "libswresample/swresample.pxd"
 include "libswscale/swscale.pxd"
 
 include "libavfilter/avfilter.pxd"
 include "libavfilter/avfiltergraph.pxd"
```

### Comparing `pyav-12.0.5/include/libavcodec/avcodec.pxd` & `pyav-12.1.0rc1/include/libavcodec/avcodec.pxd`

 * *Files 1% similar despite different names*

```diff
@@ -6,16 +6,14 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     """
-
-    # custom
     cdef set pyav_get_available_codecs()
 
     cdef int   avcodec_version()
     cdef char* avcodec_configuration()
     cdef char* avcodec_license()
 
     cdef size_t AV_INPUT_BUFFER_PADDING_SIZE
@@ -322,14 +320,15 @@
         AV_FRAME_DATA_GOP_TIMECODE
         AV_FRAME_DATA_SPHERICAL
         AV_FRAME_DATA_CONTENT_LIGHT_LEVEL
         AV_FRAME_DATA_ICC_PROFILE
         AV_FRAME_DATA_QP_TABLE_PROPERTIES
         AV_FRAME_DATA_QP_TABLE_DATA
         AV_FRAME_DATA_SEI_UNREGISTERED
+        AV_FRAME_DATA_S12M_TIMECODE
 
     cdef struct AVFrameSideData:
         AVFrameSideDataType type
         uint8_t *data
         int size
         AVDictionary *metadata
```

### Comparing `pyav-12.0.5/include/libavfilter/avfilter.pxd` & `pyav-12.1.0rc1/include/libavfilter/avfilter.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavfilter/avfiltergraph.pxd` & `pyav-12.1.0rc1/include/libavfilter/avfiltergraph.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavformat/avformat.pxd` & `pyav-12.1.0rc1/include/libavformat/avformat.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavutil/avutil.pxd` & `pyav-12.1.0rc1/include/libavutil/avutil.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavutil/dict.pxd` & `pyav-12.1.0rc1/include/libavutil/dict.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavutil/error.pxd` & `pyav-12.1.0rc1/include/libavutil/error.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavutil/frame.pxd` & `pyav-12.1.0rc1/include/libavutil/frame.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libavutil/samplefmt.pxd` & `pyav-12.1.0rc1/include/libavutil/samplefmt.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libswresample/swresample.pxd` & `pyav-12.1.0rc1/include/libswresample/swresample.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/include/libswscale/swscale.pxd` & `pyav-12.1.0rc1/include/libswscale/swscale.pxd`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/pyav.egg-info/PKG-INFO` & `pyav-12.1.0rc1/pyav.egg-info/PKG-INFO`

 * *Files 9% similar despite different names*

```diff
@@ -1,19 +1,18 @@
 Metadata-Version: 2.1
 Name: pyav
-Version: 12.0.5
+Version: 12.1.0rc1
 Summary: Pythonic bindings for FFmpeg's libraries.
 Home-page: https://github.com/WyattBlue/pyav
 Author: WyattBlue
 Author-email: wyattblue@auto-editor.com
 License: BSD
 Project-URL: Bug Reports, https://github.com/WyattBlue/pyav/issues
 Project-URL: Documentation, https://pyav.basswood-io.com
 Project-URL: Download, https://pypi.org/project/pyav
-Platform: UNKNOWN
 Classifier: Topic :: Multimedia :: Sound/Audio
 Classifier: Topic :: Multimedia :: Sound/Audio :: Conversion
 Classifier: Topic :: Multimedia :: Video
 Classifier: Topic :: Multimedia :: Video :: Conversion
 Classifier: Topic :: Software Development :: Libraries :: Python Modules
 Classifier: License :: OSI Approved :: BSD License
 Classifier: Natural Language :: English
@@ -24,15 +23,15 @@
 Classifier: Operating System :: Unix
 Classifier: Operating System :: Microsoft :: Windows
 Classifier: Programming Language :: Cython
 Classifier: Programming Language :: Python :: 3.9
 Classifier: Programming Language :: Python :: 3.10
 Classifier: Programming Language :: Python :: 3.11
 Classifier: Programming Language :: Python :: 3.12
-Requires-Python: >=3.9
+Requires-Python: >=3.10
 Description-Content-Type: text/markdown
 License-File: LICENSE.txt
 
 # pyav
 
 Notice: [PyAV](https://github.com/PyAV-Org/PyAV) (upstream) and pyav have been merged! There is no reason to use `pyav` unless you want LGPLv3 builds!
 
@@ -63,9 +62,7 @@
 ./scripts/build-deps
 make
 deactivate
 pip install .
 ```
 
 Notice: `av` and `pyav` have been merged, there is no reason to use `pyav` for source builds!
-
-
```

#### html2text {}

```diff
@@ -1,25 +1,25 @@
-Metadata-Version: 2.1 Name: pyav Version: 12.0.5 Summary: Pythonic bindings for
-FFmpeg's libraries. Home-page: https://github.com/WyattBlue/pyav Author:
+Metadata-Version: 2.1 Name: pyav Version: 12.1.0rc1 Summary: Pythonic bindings
+for FFmpeg's libraries. Home-page: https://github.com/WyattBlue/pyav Author:
 WyattBlue Author-email: wyattblue@auto-editor.com License: BSD Project-URL: Bug
 Reports, https://github.com/WyattBlue/pyav/issues Project-URL: Documentation,
 https://pyav.basswood-io.com Project-URL: Download, https://pypi.org/project/
-pyav Platform: UNKNOWN Classifier: Topic :: Multimedia :: Sound/Audio
-Classifier: Topic :: Multimedia :: Sound/Audio :: Conversion Classifier: Topic
-:: Multimedia :: Video Classifier: Topic :: Multimedia :: Video :: Conversion
-Classifier: Topic :: Software Development :: Libraries :: Python Modules
-Classifier: License :: OSI Approved :: BSD License Classifier: Natural Language
-:: English Classifier: Intended Audience :: Developers Classifier: Development
-Status :: 5 - Production/Stable Classifier: Operating System :: MacOS :: MacOS
-X Classifier: Operating System :: POSIX Classifier: Operating System :: Unix
-Classifier: Operating System :: Microsoft :: Windows Classifier: Programming
-Language :: Cython Classifier: Programming Language :: Python :: 3.9
-Classifier: Programming Language :: Python :: 3.10 Classifier: Programming
-Language :: Python :: 3.11 Classifier: Programming Language :: Python :: 3.12
-Requires-Python: >=3.9 Description-Content-Type: text/markdown License-File:
+pyav Classifier: Topic :: Multimedia :: Sound/Audio Classifier: Topic ::
+Multimedia :: Sound/Audio :: Conversion Classifier: Topic :: Multimedia ::
+Video Classifier: Topic :: Multimedia :: Video :: Conversion Classifier: Topic
+:: Software Development :: Libraries :: Python Modules Classifier: License ::
+OSI Approved :: BSD License Classifier: Natural Language :: English Classifier:
+Intended Audience :: Developers Classifier: Development Status :: 5 -
+Production/Stable Classifier: Operating System :: MacOS :: MacOS X Classifier:
+Operating System :: POSIX Classifier: Operating System :: Unix Classifier:
+Operating System :: Microsoft :: Windows Classifier: Programming Language ::
+Cython Classifier: Programming Language :: Python :: 3.9 Classifier:
+Programming Language :: Python :: 3.10 Classifier: Programming Language ::
+Python :: 3.11 Classifier: Programming Language :: Python :: 3.12 Requires-
+Python: >=3.10 Description-Content-Type: text/markdown License-File:
 LICENSE.txt # pyav Notice: [PyAV](https://github.com/PyAV-Org/PyAV) (upstream)
 and pyav have been merged! There is no reason to use `pyav` unless you want
 LGPLv3 builds! --- [![Actions Status](https://github.com/WyattBlue/PyAV/
 workflows/tests/badge.svg)](https://github.com/wyattblue/PyAV/
 actions?workflow=tests) _[_C_o_d_e_ _s_t_y_l_e_:_ _b_l_a_c_k_]## Installing Just run: ``` pip
 install pyav ``` Running the command should install the binary wheel provided.
 Due to the complexity of the dependencies, pyav is not easy to install from
```

### Comparing `pyav-12.0.5/pyav.egg-info/SOURCES.txt` & `pyav-12.1.0rc1/pyav.egg-info/SOURCES.txt`

 * *Files 1% similar despite different names*

```diff
@@ -6,14 +6,17 @@
 av/__init__.pxd
 av/__init__.py
 av/__init__.pyi
 av/__main__.py
 av/_core.pyi
 av/_core.pyx
 av/about.py
+av/bitstream.pxd
+av/bitstream.pyi
+av/bitstream.pyx
 av/buffer.pxd
 av/buffer.pyi
 av/buffer.pyx
 av/bytesource.pxd
 av/bytesource.pyx
 av/datasets.py
 av/deprecation.py
@@ -164,14 +167,15 @@
 av/video/reformatter.pyi
 av/video/reformatter.pyx
 av/video/stream.pxd
 av/video/stream.pyi
 av/video/stream.pyx
 include/libav.pxd
 include/libavcodec/avcodec.pxd
+include/libavcodec/bsf.pxd
 include/libavdevice/avdevice.pxd
 include/libavfilter/avfilter.pxd
 include/libavfilter/avfiltergraph.pxd
 include/libavfilter/buffersink.pxd
 include/libavfilter/buffersrc.pxd
 include/libavformat/avformat.pxd
 include/libavutil/avutil.pxd
@@ -186,14 +190,15 @@
 pyav.egg-info/PKG-INFO
 pyav.egg-info/SOURCES.txt
 pyav.egg-info/dependency_links.txt
 pyav.egg-info/entry_points.txt
 pyav.egg-info/not-zip-safe
 pyav.egg-info/top_level.txt
 src/av/_core.c
+src/av/bitstream.c
 src/av/buffer.c
 src/av/bytesource.c
 src/av/descriptor.c
 src/av/dictionary.c
 src/av/enum.c
 src/av/error.c
 src/av/format.c
@@ -239,14 +244,15 @@
 tests/__init__.py
 tests/common.py
 tests/test_audiofifo.py
 tests/test_audioformat.py
 tests/test_audioframe.py
 tests/test_audiolayout.py
 tests/test_audioresampler.py
+tests/test_bitstream.py
 tests/test_codec.py
 tests/test_codec_context.py
 tests/test_colorspace.py
 tests/test_containerformat.py
 tests/test_decode.py
 tests/test_deprecation.py
 tests/test_dictionary.py
```

### Comparing `pyav-12.0.5/setup.py` & `pyav-12.1.0rc1/setup.py`

 * *Files 1% similar despite different names*

```diff
@@ -175,41 +175,43 @@
 # Read package metadata
 about = {}
 about_file = os.path.join(os.path.dirname(__file__), "av", "about.py")
 with open(about_file, encoding="utf-8") as fp:
     exec(fp.read(), about)
 
 package_folders = pathlib.Path("av").glob("**/")
-package_data = {".".join(pckg.parts): ["*.pxd", "*.pyi", "*.typed"] for pckg in package_folders}
+package_data = {
+    ".".join(pckg.parts): ["*.pxd", "*.pyi", "*.typed"] for pckg in package_folders
+}
 
 
 with open("README.md") as f:
     long_description = f.read()
 
 setup(
     name="pyav",
     version=about["__version__"],
     description="Pythonic bindings for FFmpeg's libraries.",
     long_description=long_description,
     long_description_content_type="text/markdown",
     license="BSD",
-    project_urls = {
+    project_urls={
         "Bug Reports": "https://github.com/WyattBlue/pyav/issues",
         "Documentation": "https://pyav.basswood-io.com",
         "Download": "https://pypi.org/project/pyav",
     },
     author="WyattBlue",
     author_email="wyattblue@auto-editor.com",
     url="https://github.com/WyattBlue/pyav",
     packages=find_packages(exclude=["build*", "examples*", "scratchpad*", "tests*"]),
     package_data=package_data,
     zip_safe=False,
     ext_modules=ext_modules,
     test_suite="tests",
-    python_requires=">=3.9",
+    python_requires=">=3.10",
     classifiers=[
         "Topic :: Multimedia :: Sound/Audio",
         "Topic :: Multimedia :: Sound/Audio :: Conversion",
         "Topic :: Multimedia :: Video",
         "Topic :: Multimedia :: Video :: Conversion",
         "Topic :: Software Development :: Libraries :: Python Modules",
         "License :: OSI Approved :: BSD License",
```

### Comparing `pyav-12.0.5/src/av/_core.c` & `pyav-12.1.0rc1/src/av/_core.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
```

### Comparing `pyav-12.0.5/src/av/audio/codeccontext.c` & `pyav-12.1.0rc1/src/av/audio/codeccontext.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1656,15 +1688,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1953,31 +1985,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2187,14 +2219,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2281,16 +2314,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2703,30 +2736,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -3019,15 +3052,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5audio_12codeccontext_17AudioCodecContext__init(struct __pyx_obj_2av_5audio_12codeccontext_AudioCodecContext *__pyx_v_self, struct AVCodecContext *__pyx_v_ptr, struct AVCodec const *__pyx_v_codec); /* proto*/
 static PyObject *__pyx_f_2av_5audio_12codeccontext_17AudioCodecContext__set_default_time_base(struct __pyx_obj_2av_5audio_12codeccontext_AudioCodecContext *__pyx_v_self); /* proto*/
@@ -5511,15 +5544,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_12codeccontext_AudioCodecContext = &__pyx_vtable_2av_5audio_12codeccontext_AudioCodecContext;
   __pyx_vtable_2av_5audio_12codeccontext_AudioCodecContext.__pyx_base = *__pyx_vtabptr_2av_5codec_7context_CodecContext;
   __pyx_vtable_2av_5audio_12codeccontext_AudioCodecContext.__pyx_base._init = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *))__pyx_f_2av_5audio_12codeccontext_17AudioCodecContext__init;
   __pyx_vtable_2av_5audio_12codeccontext_AudioCodecContext.__pyx_base._set_default_time_base = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *))__pyx_f_2av_5audio_12codeccontext_17AudioCodecContext__set_default_time_base;
   __pyx_vtable_2av_5audio_12codeccontext_AudioCodecContext.__pyx_base._prepare_frames_for_encode = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *))__pyx_f_2av_5audio_12codeccontext_17AudioCodecContext__prepare_frames_for_encode;
   __pyx_vtable_2av_5audio_12codeccontext_AudioCodecContext.__pyx_base._setup_decoded_frame = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *))__pyx_f_2av_5audio_12codeccontext_17AudioCodecContext__setup_decoded_frame;
@@ -5572,106 +5605,106 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(2, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(3, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(3, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(3, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(14, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(15, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(15, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(17, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(17, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(18, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(18, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(19, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(19, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(19, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.graph"); if (unlikely(!__pyx_t_1)) __PYX_ERR(20, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(20, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(20, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_6filter_5graph_Graph = (struct __pyx_vtabstruct_2av_6filter_5graph_Graph*)__Pyx_GetVtable(__pyx_ptype_2av_6filter_5graph_Graph); if (unlikely(!__pyx_vtabptr_2av_6filter_5graph_Graph)) __PYX_ERR(20, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.resampler"); if (unlikely(!__pyx_t_1)) __PYX_ERR(21, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_9resampler_AudioResampler = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.resampler", "AudioResampler", sizeof(struct __pyx_obj_2av_5audio_9resampler_AudioResampler), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_9resampler_AudioResampler),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_9resampler_AudioResampler) __PYX_ERR(21, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_9resampler_AudioResampler = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.resampler", "AudioResampler", sizeof(struct __pyx_obj_2av_5audio_9resampler_AudioResampler), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_9resampler_AudioResampler),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_9resampler_AudioResampler) __PYX_ERR(21, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_9resampler_AudioResampler = (struct __pyx_vtabstruct_2av_5audio_9resampler_AudioResampler*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_9resampler_AudioResampler); if (unlikely(!__pyx_vtabptr_2av_5audio_9resampler_AudioResampler)) __PYX_ERR(21, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -5692,27 +5725,27 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_audio_format", (void (**)(void))&__pyx_f_2av_5audio_6format_get_audio_format, "struct __pyx_obj_2av_5audio_6format_AudioFormat *(enum AVSampleFormat)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_audio_format", (void (**)(void))&__pyx_f_2av_5audio_6format_get_audio_format, "struct __pyx_obj_2av_5audio_6format_AudioFormat *(enum AVSampleFormat)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_audio_layout", (void (**)(void))&__pyx_f_2av_5audio_6layout_get_audio_layout, "struct __pyx_obj_2av_5audio_6layout_AudioLayout *(int, uint64_t)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_audio_layout", (void (**)(void))&__pyx_f_2av_5audio_6layout_get_audio_layout, "struct __pyx_obj_2av_5audio_6layout_AudioLayout *(int, uint64_t)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_audio_frame", (void (**)(void))&__pyx_f_2av_5audio_5frame_alloc_audio_frame, "struct __pyx_obj_2av_5audio_5frame_AudioFrame *(void)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_audio_frame", (void (**)(void))&__pyx_f_2av_5audio_5frame_alloc_audio_frame, "struct __pyx_obj_2av_5audio_5frame_AudioFrame *(void)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7383,18 +7416,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -7440,23 +7473,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -10374,17 +10407,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/audio/fifo.c` & `pyav-12.1.0rc1/src/av/audio/fifo.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1648,15 +1680,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1991,31 +2023,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2141,14 +2173,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2235,16 +2268,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2742,30 +2775,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
 
 /* FetchCommonType.proto */
 #if !CYTHON_USE_TYPE_SPECS
@@ -2986,15 +3019,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5audio_4fifo_9AudioFifo_write(struct __pyx_obj_2av_5audio_4fifo_AudioFifo *__pyx_v_self, struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame, int __pyx_skip_dispatch); /* proto*/
 static PyObject *__pyx_f_2av_5audio_4fifo_9AudioFifo_read(struct __pyx_obj_2av_5audio_4fifo_AudioFifo *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_4fifo_9AudioFifo_read *__pyx_optional_args); /* proto*/
@@ -6838,89 +6871,89 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(4, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(4, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(4, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(11, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(14, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(14, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(15, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(15, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(15, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(16, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(16, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(16, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(17, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(17, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(17, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(18, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(18, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -6941,23 +6974,23 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_audio_frame", (void (**)(void))&__pyx_f_2av_5audio_5frame_alloc_audio_frame, "struct __pyx_obj_2av_5audio_5frame_AudioFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_audio_frame", (void (**)(void))&__pyx_f_2av_5audio_5frame_alloc_audio_frame, "struct __pyx_obj_2av_5audio_5frame_AudioFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -9422,18 +9455,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9479,23 +9512,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -11999,17 +12032,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/audio/format.c` & `pyav-12.1.0rc1/src/av/audio/format.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
```

### Comparing `pyav-12.0.5/src/av/audio/frame.c` & `pyav-12.1.0rc1/src/av/audio/frame.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1648,15 +1680,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1967,31 +1999,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2126,14 +2158,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2220,16 +2253,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2780,30 +2813,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -3070,15 +3103,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5audio_5frame_10AudioFrame__init(struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_self, enum AVSampleFormat __pyx_v_format, uint64_t __pyx_v_layout, unsigned int __pyx_v_nb_samples, unsigned int __pyx_v_align); /* proto*/
 static PyObject *__pyx_f_2av_5audio_5frame_10AudioFrame__init_user_attributes(struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_self); /* proto*/
@@ -7411,15 +7444,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = &__pyx_vtable_2av_5audio_5frame_AudioFrame;
   __pyx_vtable_2av_5audio_5frame_AudioFrame.__pyx_base = *__pyx_vtabptr_2av_5frame_Frame;
   __pyx_vtable_2av_5audio_5frame_AudioFrame.__pyx_base._init_user_attributes = (PyObject *(*)(struct __pyx_obj_2av_5frame_Frame *))__pyx_f_2av_5audio_5frame_10AudioFrame__init_user_attributes;
   __pyx_vtable_2av_5audio_5frame_AudioFrame._init = (PyObject *(*)(struct __pyx_obj_2av_5audio_5frame_AudioFrame *, enum AVSampleFormat, uint64_t, unsigned int, unsigned int))__pyx_f_2av_5audio_5frame_10AudioFrame__init;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 39, __pyx_L1_error)
@@ -7464,89 +7497,89 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(2, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(3, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(3, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(3, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(7, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(7, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(7, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(8, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(8, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(10, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(13, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(13, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(14, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(14, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(14, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(15, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(15, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(15, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(15, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(15, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.plane"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 5, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(16, 5, __pyx_L1_error)
+  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(16, 5, __pyx_L1_error)
   __pyx_vtabptr_2av_5plane_Plane = (struct __pyx_vtabstruct_2av_5plane_Plane*)__Pyx_GetVtable(__pyx_ptype_2av_5plane_Plane); if (unlikely(!__pyx_vtabptr_2av_5plane_Plane)) __PYX_ERR(16, 5, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.plane"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5plane_AudioPlane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.plane", "AudioPlane", sizeof(struct __pyx_obj_2av_5audio_5plane_AudioPlane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5plane_AudioPlane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5plane_AudioPlane) __PYX_ERR(17, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5plane_AudioPlane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.plane", "AudioPlane", sizeof(struct __pyx_obj_2av_5audio_5plane_AudioPlane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5plane_AudioPlane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5plane_AudioPlane) __PYX_ERR(17, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5plane_AudioPlane = (struct __pyx_vtabstruct_2av_5audio_5plane_AudioPlane*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5plane_AudioPlane); if (unlikely(!__pyx_vtabptr_2av_5audio_5plane_AudioPlane)) __PYX_ERR(17, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -7567,32 +7600,32 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_audio_format", (void (**)(void))&__pyx_f_2av_5audio_6format_get_audio_format, "struct __pyx_obj_2av_5audio_6format_AudioFormat *(enum AVSampleFormat)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_audio_format", (void (**)(void))&__pyx_f_2av_5audio_6format_get_audio_format, "struct __pyx_obj_2av_5audio_6format_AudioFormat *(enum AVSampleFormat)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_audio_layout", (void (**)(void))&__pyx_f_2av_5audio_6layout_get_audio_layout, "struct __pyx_obj_2av_5audio_6layout_AudioLayout *(int, uint64_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_audio_layout", (void (**)(void))&__pyx_f_2av_5audio_6layout_get_audio_layout, "struct __pyx_obj_2av_5audio_6layout_AudioLayout *(int, uint64_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "check_ndarray", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray, "PyObject *(PyObject *, PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "check_ndarray_shape", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray_shape, "PyObject *(PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "check_ndarray", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray, "PyObject *(PyObject *, PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "check_ndarray_shape", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray_shape, "PyObject *(PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -10284,18 +10317,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -10341,23 +10374,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -13734,17 +13767,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/audio/layout.c` & `pyav-12.1.0rc1/src/av/audio/layout.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -6101,24 +6133,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct___init *__pyx_freelist_2av_5audio_6layout___pyx_scope_struct___init[8];
 static int __pyx_freecount_2av_5audio_6layout___pyx_scope_struct___init = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_5audio_6layout___pyx_scope_struct___init(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_5audio_6layout___pyx_scope_struct___init > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct___init)))) {
     o = (PyObject*)__pyx_freelist_2av_5audio_6layout___pyx_scope_struct___init[--__pyx_freecount_2av_5audio_6layout___pyx_scope_struct___init];
     memset(o, 0, sizeof(struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct___init));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -6137,15 +6171,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_5audio_6layout___pyx_scope_struct___init) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_5audio_6layout___pyx_scope_struct___init < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct___init)))) {
     __pyx_freelist_2av_5audio_6layout___pyx_scope_struct___init[__pyx_freecount_2av_5audio_6layout___pyx_scope_struct___init++] = ((struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct___init *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -6270,24 +6304,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct_1_genexpr *__pyx_freelist_2av_5audio_6layout___pyx_scope_struct_1_genexpr[8];
 static int __pyx_freecount_2av_5audio_6layout___pyx_scope_struct_1_genexpr = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_5audio_6layout___pyx_scope_struct_1_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_5audio_6layout___pyx_scope_struct_1_genexpr > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct_1_genexpr)))) {
     o = (PyObject*)__pyx_freelist_2av_5audio_6layout___pyx_scope_struct_1_genexpr[--__pyx_freecount_2av_5audio_6layout___pyx_scope_struct_1_genexpr];
     memset(o, 0, sizeof(struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct_1_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -6306,15 +6342,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_5audio_6layout___pyx_scope_struct_1_genexpr) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_5audio_6layout___pyx_scope_struct_1_genexpr < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct_1_genexpr)))) {
     __pyx_freelist_2av_5audio_6layout___pyx_scope_struct_1_genexpr[__pyx_freecount_2av_5audio_6layout___pyx_scope_struct_1_genexpr++] = ((struct __pyx_obj_2av_5audio_6layout___pyx_scope_struct_1_genexpr *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
```

### Comparing `pyav-12.0.5/src/av/audio/plane.c` & `pyav-12.1.0rc1/src/av/audio/plane.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1649,15 +1681,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1889,31 +1921,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2063,14 +2095,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2157,16 +2190,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2494,30 +2527,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2864,15 +2897,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static size_t __pyx_f_2av_5audio_5plane_10AudioPlane__buffer_size(struct __pyx_obj_2av_5audio_5plane_AudioPlane *__pyx_v_self); /* proto*/
 
@@ -4090,15 +4123,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.plane"); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5plane_Plane = (struct __pyx_vtabstruct_2av_5plane_Plane*)__Pyx_GetVtable(__pyx_ptype_2av_5plane_Plane); if (unlikely(!__pyx_vtabptr_2av_5plane_Plane)) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5plane_AudioPlane = &__pyx_vtable_2av_5audio_5plane_AudioPlane;
   __pyx_vtable_2av_5audio_5plane_AudioPlane.__pyx_base = *__pyx_vtabptr_2av_5plane_Plane;
   __pyx_vtable_2av_5audio_5plane_AudioPlane.__pyx_base.__pyx_base._buffer_size = (size_t (*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_5audio_5plane_10AudioPlane__buffer_size;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_5plane_Plane); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
@@ -4148,89 +4181,89 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(3, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(3, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(3, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(6, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(6, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(6, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(14, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(15, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(15, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(16, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(16, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(16, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(17, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(17, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(17, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(17, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(17, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(18, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(18, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -4251,15 +4284,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5506,18 +5539,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -5563,23 +5596,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -8791,17 +8824,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/audio/resampler.c` & `pyav-12.1.0rc1/src/av/audio/resampler.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1656,15 +1688,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1953,31 +1985,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2173,14 +2205,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2267,16 +2300,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2837,30 +2870,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
 
 /* ImportDottedModule.proto */
 static PyObject *__Pyx_ImportDottedModule(PyObject *name, PyObject *parts_tuple);
@@ -3079,15 +3112,15 @@
 static CYTHON_INLINE long __Pyx_PyInt_As_long(PyObject *);
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5audio_9resampler_14AudioResampler_resample(struct __pyx_obj_2av_5audio_9resampler_AudioResampler *__pyx_v_self, struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame, int __pyx_skip_dispatch); /* proto*/
 
@@ -6373,106 +6406,106 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(4, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(4, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(4, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(11, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(14, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(14, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(15, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(15, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(15, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(16, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(16, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(16, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(17, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(17, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(17, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(18, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(18, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(19, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(19, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(19, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(20, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(20, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(20, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(21, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(21, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(21, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.graph"); if (unlikely(!__pyx_t_1)) __PYX_ERR(22, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(22, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(22, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_6filter_5graph_Graph = (struct __pyx_vtabstruct_2av_6filter_5graph_Graph*)__Pyx_GetVtable(__pyx_ptype_2av_6filter_5graph_Graph); if (unlikely(!__pyx_vtabptr_2av_6filter_5graph_Graph)) __PYX_ERR(22, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -6493,15 +6526,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -9280,18 +9313,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9337,23 +9370,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -12228,17 +12261,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/audio/stream.c` & `pyav-12.1.0rc1/src/av/audio/stream.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1659,15 +1691,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1766,31 +1798,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2071,16 +2103,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2112,14 +2144,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2542,14 +2575,17 @@
 #define __Pyx_PyObject_Format(s, f) PyObject_Format(s, f)
 #endif
 
 /* JoinPyUnicode.proto */
 static PyObject* __Pyx_PyUnicode_Join(PyObject* value_tuple, Py_ssize_t value_count, Py_ssize_t result_ulength,
                                       Py_UCS4 max_char);
 
+/* GetAttr.proto */
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);
+
 /* PyDictVersioning.proto */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 #define __PYX_DICT_VERSION_INIT  ((PY_UINT64_T) -1)
 #define __PYX_GET_DICT_VERSION(dict)  (((PyDictObject*)(dict))->ma_version_tag)
 #define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)\
     (version_var) = __PYX_GET_DICT_VERSION(dict);\
     (cache_var) = (value);
@@ -2602,31 +2638,45 @@
 
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
+/* PyObject_GenericGetAttrNoDict.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
+#endif
+
+/* PyObject_GenericGetAttr.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
+#endif
+
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2649,28 +2699,14 @@
 #if CYTHON_COMPILING_IN_CPYTHON || CYTHON_COMPILING_IN_LIMITED_API || CYTHON_USE_TYPE_SPECS
 static int __Pyx_validate_bases_tuple(const char *type_name, Py_ssize_t dictoffset, PyObject *bases);
 #endif
 
 /* PyType_Ready.proto */
 CYTHON_UNUSED static int __Pyx_PyType_Ready(PyTypeObject *t);
 
-/* PyObject_GenericGetAttrNoDict.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
-#endif
-
-/* PyObject_GenericGetAttr.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
-#endif
-
 /* SetVTable.proto */
 static int __Pyx_SetVtable(PyTypeObject* typeptr , void* vtable);
 
 /* MergeVTables.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_MergeVtables(PyTypeObject *type);
 #endif
@@ -2893,15 +2929,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5audio_6stream_11AudioStream_encode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_encode *__pyx_optional_args); /* proto*/
 static PyObject *__pyx_f_2av_5audio_6stream_11AudioStream_decode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_decode *__pyx_optional_args); /* proto*/
@@ -3003,18 +3039,19 @@
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_av_audio_stream_pyx[] = "av/audio/stream.pyx";
 static const char __pyx_k_AudioStream___reduce_cython[] = "AudioStream.__reduce_cython__";
 static const char __pyx_k_AudioStream___setstate_cython[] = "AudioStream.__setstate_cython__";
 static const char __pyx_k_self_ptr_cannot_be_converted_to[] = "self.ptr cannot be converted to a Python object for pickling";
 /* #### Code section: decls ### */
 static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream___repr__(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_2encode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame); /* proto */
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_4decode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto */
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_2__getattr__(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_4encode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame); /* proto */
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_6decode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto */
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_5audio_6stream_AudioStream(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
   PyObject *__pyx_b;
   PyObject *__pyx_cython_runtime;
@@ -3735,20 +3772,90 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "av/audio/stream.pyx":14
  *         )
  * 
+ *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
+ *         return getattr(self.codec_context, name)
+ * 
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_3__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_3__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
+  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__getattr__ (wrapper)", 0);
+  __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
+  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_2__getattr__(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), ((PyObject *)__pyx_v_name));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_2__getattr__(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, PyObject *__pyx_v_name) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__getattr__", 1);
+
+  /* "av/audio/stream.pyx":15
+ * 
+ *     def __getattr__(self, name):
+ *         return getattr(self.codec_context, name)             # <<<<<<<<<<<<<<
+ * 
+ *     cpdef encode(self, AudioFrame frame=None):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = ((PyObject *)__pyx_v_self->__pyx_base.codec_context);
+  __Pyx_INCREF(__pyx_t_1);
+  __pyx_t_2 = __Pyx_GetAttr(__pyx_t_1, __pyx_v_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 15, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "av/audio/stream.pyx":14
+ *         )
+ * 
+ *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
+ *         return getattr(self.codec_context, name)
+ * 
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("av.audio.stream.AudioStream.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "av/audio/stream.pyx":17
+ *         return getattr(self.codec_context, name)
+ * 
  *     cpdef encode(self, AudioFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.
  */
 
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_3encode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_5encode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
 static PyObject *__pyx_f_2av_5audio_6stream_11AudioStream_encode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_encode *__pyx_optional_args) {
@@ -3779,17 +3886,17 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || __Pyx_PyType_HasFeature(Py_TYPE(((PyObject *)__pyx_v_self)), (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_typedict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_encode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 14, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_encode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 17, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5audio_6stream_11AudioStream_3encode)) {
+      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5audio_6stream_11AudioStream_5encode)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         #if CYTHON_UNPACK_METHODS
         if (unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -3802,15 +3909,15 @@
           }
         }
         #endif
         {
           PyObject *__pyx_callargs[2] = {__pyx_t_4, ((PyObject *)__pyx_v_frame)};
           __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 14, __pyx_L1_error)
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         }
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
@@ -3824,138 +3931,138 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "av/audio/stream.pyx":23
+  /* "av/audio/stream.pyx":26
  *         """
  * 
  *         packets = self.codec_context.encode(frame)             # <<<<<<<<<<<<<<
  *         cdef Packet packet
  *         for packet in packets:
  */
   __pyx_t_6.__pyx_n = 1;
   __pyx_t_6.frame = ((struct __pyx_obj_2av_5frame_Frame *)__pyx_v_frame);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->encode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 23, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->encode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_packets = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "av/audio/stream.pyx":25
+  /* "av/audio/stream.pyx":28
  *         packets = self.codec_context.encode(frame)
  *         cdef Packet packet
  *         for packet in packets:             # <<<<<<<<<<<<<<
  *             packet._stream = self
  *             packet.ptr.stream_index = self.ptr.index
  */
   if (likely(PyList_CheckExact(__pyx_v_packets)) || PyTuple_CheckExact(__pyx_v_packets)) {
     __pyx_t_1 = __pyx_v_packets; __Pyx_INCREF(__pyx_t_1);
     __pyx_t_7 = 0;
     __pyx_t_8 = NULL;
   } else {
-    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_packets); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 25, __pyx_L1_error)
+    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_packets); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 28, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_8 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 25, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 28, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_8)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         {
           Py_ssize_t __pyx_temp = __Pyx_PyList_GET_SIZE(__pyx_t_1);
           #if !CYTHON_ASSUME_SAFE_MACROS
-          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 25, __pyx_L1_error)
+          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
           #endif
           if (__pyx_t_7 >= __pyx_temp) break;
         }
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 25, __pyx_L1_error)
+        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
         #else
-        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       } else {
         {
           Py_ssize_t __pyx_temp = __Pyx_PyTuple_GET_SIZE(__pyx_t_1);
           #if !CYTHON_ASSUME_SAFE_MACROS
-          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 25, __pyx_L1_error)
+          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
           #endif
           if (__pyx_t_7 >= __pyx_temp) break;
         }
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 25, __pyx_L1_error)
+        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
         #else
-        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 25, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       }
     } else {
       __pyx_t_2 = __pyx_t_8(__pyx_t_1);
       if (unlikely(!__pyx_t_2)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 25, __pyx_L1_error)
+          else __PYX_ERR(0, 28, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_2);
     }
-    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_2av_6packet_Packet))))) __PYX_ERR(0, 25, __pyx_L1_error)
+    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_2av_6packet_Packet))))) __PYX_ERR(0, 28, __pyx_L1_error)
     __Pyx_XDECREF_SET(__pyx_v_packet, ((struct __pyx_obj_2av_6packet_Packet *)__pyx_t_2));
     __pyx_t_2 = 0;
 
-    /* "av/audio/stream.pyx":26
+    /* "av/audio/stream.pyx":29
  *         cdef Packet packet
  *         for packet in packets:
  *             packet._stream = self             # <<<<<<<<<<<<<<
  *             packet.ptr.stream_index = self.ptr.index
  * 
  */
     __Pyx_INCREF((PyObject *)__pyx_v_self);
     __Pyx_GIVEREF((PyObject *)__pyx_v_self);
     __Pyx_GOTREF((PyObject *)__pyx_v_packet->_stream);
     __Pyx_DECREF((PyObject *)__pyx_v_packet->_stream);
     __pyx_v_packet->_stream = ((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self);
 
-    /* "av/audio/stream.pyx":27
+    /* "av/audio/stream.pyx":30
  *         for packet in packets:
  *             packet._stream = self
  *             packet.ptr.stream_index = self.ptr.index             # <<<<<<<<<<<<<<
  * 
  *         return packets
  */
     __pyx_t_5 = __pyx_v_self->__pyx_base.ptr->index;
     __pyx_v_packet->ptr->stream_index = __pyx_t_5;
 
-    /* "av/audio/stream.pyx":25
+    /* "av/audio/stream.pyx":28
  *         packets = self.codec_context.encode(frame)
  *         cdef Packet packet
  *         for packet in packets:             # <<<<<<<<<<<<<<
  *             packet._stream = self
  *             packet.ptr.stream_index = self.ptr.index
  */
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "av/audio/stream.pyx":29
+  /* "av/audio/stream.pyx":32
  *             packet.ptr.stream_index = self.ptr.index
  * 
  *         return packets             # <<<<<<<<<<<<<<
  * 
  *     cpdef decode(self, Packet packet=None):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_packets);
   __pyx_r = __pyx_v_packets;
   goto __pyx_L0;
 
-  /* "av/audio/stream.pyx":14
- *         )
+  /* "av/audio/stream.pyx":17
+ *         return getattr(self.codec_context, name)
  * 
  *     cpdef encode(self, AudioFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.
  */
 
   /* function exit code */
@@ -3971,24 +4078,24 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_packet);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_3encode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_5encode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_2encode, "AudioStream.encode(AudioFrame frame=None)\n\n        Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.\n\n        :rtype: list[Packet]\n\n        .. seealso:: This is mostly a passthrough to :meth:`.CodecContext.encode`.\n        ");
-static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_3encode = {"encode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_3encode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_2encode};
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_3encode(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_4encode, "AudioStream.encode(AudioFrame frame=None)\n\n        Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.\n\n        :rtype: list[Packet]\n\n        .. seealso:: This is mostly a passthrough to :meth:`.CodecContext.encode`.\n        ");
+static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_5encode = {"encode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_5encode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_4encode};
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_5encode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame = 0;
@@ -4024,49 +4131,49 @@
       }
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_frame);
           if (value) { values[0] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 14, __pyx_L3_error)
+          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 17, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "encode") < 0)) __PYX_ERR(0, 14, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "encode") < 0)) __PYX_ERR(0, 17, __pyx_L3_error)
       }
     } else {
       switch (__pyx_nargs) {
         case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_frame = ((struct __pyx_obj_2av_5audio_5frame_AudioFrame *)values[0]);
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("encode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 14, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("encode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 17, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.audio.stream.AudioStream.encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5audio_5frame_AudioFrame, 1, "frame", 0))) __PYX_ERR(0, 14, __pyx_L1_error)
-  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_2encode(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), __pyx_v_frame);
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5audio_5frame_AudioFrame, 1, "frame", 0))) __PYX_ERR(0, 17, __pyx_L1_error)
+  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_4encode(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), __pyx_v_frame);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
   {
@@ -4075,27 +4182,27 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_2encode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame) {
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_4encode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_5audio_5frame_AudioFrame *__pyx_v_frame) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_encode __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("encode", 1);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.frame = __pyx_v_frame;
-  __pyx_t_1 = __pyx_vtabptr_2av_5audio_6stream_AudioStream->encode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 14, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_2av_5audio_6stream_AudioStream->encode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -4104,23 +4211,23 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/audio/stream.pyx":31
+/* "av/audio/stream.pyx":34
  *         return packets
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.AudioFrame`.
  */
 
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_5decode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_7decode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
 static PyObject *__pyx_f_2av_5audio_6stream_11AudioStream_decode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_decode *__pyx_optional_args) {
@@ -4147,17 +4254,17 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || __Pyx_PyType_HasFeature(Py_TYPE(((PyObject *)__pyx_v_self)), (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_typedict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 31, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 34, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5audio_6stream_11AudioStream_5decode)) {
+      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5audio_6stream_11AudioStream_7decode)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         #if CYTHON_UNPACK_METHODS
         if (unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -4170,15 +4277,15 @@
           }
         }
         #endif
         {
           PyObject *__pyx_callargs[2] = {__pyx_t_4, ((PyObject *)__pyx_v_packet)};
           __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 31, __pyx_L1_error)
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         }
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
@@ -4192,29 +4299,29 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "av/audio/stream.pyx":40
+  /* "av/audio/stream.pyx":43
  *         """
  * 
  *         return self.codec_context.decode(packet)             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_6.__pyx_n = 1;
   __pyx_t_6.packet = __pyx_v_packet;
-  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->decode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 40, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->decode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 43, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/audio/stream.pyx":31
+  /* "av/audio/stream.pyx":34
  *         return packets
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.AudioFrame`.
  */
 
@@ -4229,24 +4336,24 @@
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_5decode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_7decode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_4decode, "AudioStream.decode(Packet packet=None)\n\n        Decode a :class:`.Packet` and return a list of :class:`.AudioFrame`.\n\n        :rtype: list[AudioFrame]\n\n        .. seealso:: This is a passthrough to :meth:`.CodecContext.decode`.\n        ");
-static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_5decode = {"decode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_5decode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_4decode};
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_5decode(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_6decode, "AudioStream.decode(Packet packet=None)\n\n        Decode a :class:`.Packet` and return a list of :class:`.AudioFrame`.\n\n        :rtype: list[AudioFrame]\n\n        .. seealso:: This is a passthrough to :meth:`.CodecContext.decode`.\n        ");
+static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_7decode = {"decode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_7decode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_6decode};
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_7decode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet = 0;
@@ -4282,49 +4389,49 @@
       }
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_packet);
           if (value) { values[0] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 31, __pyx_L3_error)
+          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 34, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "decode") < 0)) __PYX_ERR(0, 31, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "decode") < 0)) __PYX_ERR(0, 34, __pyx_L3_error)
       }
     } else {
       switch (__pyx_nargs) {
         case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_packet = ((struct __pyx_obj_2av_6packet_Packet *)values[0]);
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("decode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 31, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("decode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 34, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.audio.stream.AudioStream.decode", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_packet), __pyx_ptype_2av_6packet_Packet, 1, "packet", 0))) __PYX_ERR(0, 31, __pyx_L1_error)
-  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_4decode(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), __pyx_v_packet);
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_packet), __pyx_ptype_2av_6packet_Packet, 1, "packet", 0))) __PYX_ERR(0, 34, __pyx_L1_error)
+  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_6decode(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), __pyx_v_packet);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
   {
@@ -4333,27 +4440,27 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_4decode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet) {
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_6decode(struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_decode __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("decode", 1);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.packet = __pyx_v_packet;
-  __pyx_t_1 = __pyx_vtabptr_2av_5audio_6stream_AudioStream->decode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 31, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_2av_5audio_6stream_AudioStream->decode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -4369,24 +4476,24 @@
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_7__reduce_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_9__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_6__reduce_cython__, "AudioStream.__reduce_cython__()");
-static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_7__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_6__reduce_cython__};
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_7__reduce_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_8__reduce_cython__, "AudioStream.__reduce_cython__()");
+static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_9__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_9__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_8__reduce_cython__};
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_9__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   #if !CYTHON_METH_FASTCALL
@@ -4403,22 +4510,22 @@
   __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
   #endif
   #endif
   __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
   if (unlikely(__pyx_nargs > 0)) {
     __Pyx_RaiseArgtupleInvalid("__reduce_cython__", 1, 0, 0, __pyx_nargs); return NULL;}
   if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__reduce_cython__", 0))) return NULL;
-  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_6__reduce_cython__(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self));
+  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_8__reduce_cython__(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self) {
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 1);
 
@@ -4450,24 +4557,24 @@
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_9__setstate_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_11__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_8__setstate_cython__, "AudioStream.__setstate_cython__(__pyx_state)");
-static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_9__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_8__setstate_cython__};
-static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_9__setstate_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5audio_6stream_11AudioStream_10__setstate_cython__, "AudioStream.__setstate_cython__(__pyx_state)");
+static PyMethodDef __pyx_mdef_2av_5audio_6stream_11AudioStream_11__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_11__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_10__setstate_cython__};
+static PyObject *__pyx_pw_2av_5audio_6stream_11AudioStream_11__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   CYTHON_UNUSED PyObject *__pyx_v___pyx_state = 0;
@@ -4533,28 +4640,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.audio.stream.AudioStream.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_8__setstate_cython__(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_5audio_6stream_11AudioStream_10__setstate_cython__(((struct __pyx_obj_2av_5audio_6stream_AudioStream *)__pyx_v_self), __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_5audio_6stream_11AudioStream_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5audio_6stream_AudioStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 1);
 
@@ -4599,27 +4706,38 @@
 }
 
 static int __pyx_tp_clear_2av_5audio_6stream_AudioStream(PyObject *o) {
   if (likely(__pyx_ptype_2av_6stream_Stream)) { if (__pyx_ptype_2av_6stream_Stream->tp_clear) __pyx_ptype_2av_6stream_Stream->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_2av_5audio_6stream_AudioStream);
   return 0;
 }
 
+static PyObject *__pyx_tp_getattro_2av_5audio_6stream_AudioStream(PyObject *o, PyObject *n) {
+  PyObject *v = __Pyx_PyObject_GenericGetAttr(o, n);
+  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
+    PyErr_Clear();
+    v = __pyx_pw_2av_5audio_6stream_11AudioStream_3__getattr__(o, n);
+  }
+  return v;
+}
+
 static PyObject *__pyx_specialmethod___pyx_pw_2av_5audio_6stream_11AudioStream_1__repr__(PyObject *self, CYTHON_UNUSED PyObject *arg) {
   return __pyx_pw_2av_5audio_6stream_11AudioStream_1__repr__(self);
 }
 
 static PyMethodDef __pyx_methods_2av_5audio_6stream_AudioStream[] = {
   {"__repr__", (PyCFunction)__pyx_specialmethod___pyx_pw_2av_5audio_6stream_11AudioStream_1__repr__, METH_NOARGS|METH_COEXIST, 0},
-  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_6__reduce_cython__},
-  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_8__setstate_cython__},
+  {"__getattr__", (PyCFunction)__pyx_pw_2av_5audio_6stream_11AudioStream_3__getattr__, METH_O|METH_COEXIST, 0},
+  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_9__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_8__reduce_cython__},
+  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5audio_6stream_11AudioStream_11__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5audio_6stream_11AudioStream_10__setstate_cython__},
   {0, 0, 0, 0}
 };
 #if CYTHON_USE_TYPE_SPECS
 static PyType_Slot __pyx_type_2av_5audio_6stream_AudioStream_slots[] = {
   {Py_tp_repr, (void *)__pyx_pw_2av_5audio_6stream_11AudioStream_1__repr__},
+  {Py_tp_getattro, (void *)__pyx_tp_getattro_2av_5audio_6stream_AudioStream},
   {Py_tp_traverse, (void *)__pyx_tp_traverse_2av_5audio_6stream_AudioStream},
   {Py_tp_clear, (void *)__pyx_tp_clear_2av_5audio_6stream_AudioStream},
   {Py_tp_methods, (void *)__pyx_methods_2av_5audio_6stream_AudioStream},
   {Py_tp_new, (void *)__pyx_tp_new_2av_5audio_6stream_AudioStream},
   {0, 0},
 };
 static PyType_Spec __pyx_type_2av_5audio_6stream_AudioStream_spec = {
@@ -4654,15 +4772,15 @@
   __pyx_pw_2av_5audio_6stream_11AudioStream_1__repr__, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
   0, /*tp_call*/
   0, /*tp_str*/
-  0, /*tp_getattro*/
+  __pyx_tp_getattro_2av_5audio_6stream_AudioStream, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC|Py_TPFLAGS_HAVE_FINALIZE, /*tp_flags*/
   0, /*tp_doc*/
   __pyx_tp_traverse_2av_5audio_6stream_AudioStream, /*tp_traverse*/
   __pyx_tp_clear_2av_5audio_6stream_AudioStream, /*tp_clear*/
   0, /*tp_richcompare*/
@@ -4791,40 +4909,40 @@
 }
 /* #### Code section: cached_constants ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__Pyx_InitCachedConstants", 0);
 
-  /* "av/audio/stream.pyx":14
- *         )
+  /* "av/audio/stream.pyx":17
+ *         return getattr(self.codec_context, name)
  * 
  *     cpdef encode(self, AudioFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.
  */
-  __pyx_tuple__4 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_frame); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(0, 14, __pyx_L1_error)
+  __pyx_tuple__4 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_frame); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(0, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__4);
   __Pyx_GIVEREF(__pyx_tuple__4);
-  __pyx_codeobj__5 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__4, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_audio_stream_pyx, __pyx_n_s_encode, 14, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__5)) __PYX_ERR(0, 14, __pyx_L1_error)
-  __pyx_tuple__6 = PyTuple_Pack(1, Py_None); if (unlikely(!__pyx_tuple__6)) __PYX_ERR(0, 14, __pyx_L1_error)
+  __pyx_codeobj__5 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__4, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_audio_stream_pyx, __pyx_n_s_encode, 17, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__5)) __PYX_ERR(0, 17, __pyx_L1_error)
+  __pyx_tuple__6 = PyTuple_Pack(1, Py_None); if (unlikely(!__pyx_tuple__6)) __PYX_ERR(0, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__6);
   __Pyx_GIVEREF(__pyx_tuple__6);
 
-  /* "av/audio/stream.pyx":31
+  /* "av/audio/stream.pyx":34
  *         return packets
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.AudioFrame`.
  */
-  __pyx_tuple__7 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_packet); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 31, __pyx_L1_error)
+  __pyx_tuple__7 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_packet); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__7);
   __Pyx_GIVEREF(__pyx_tuple__7);
-  __pyx_codeobj__8 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__7, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_audio_stream_pyx, __pyx_n_s_decode, 31, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__8)) __PYX_ERR(0, 31, __pyx_L1_error)
+  __pyx_codeobj__8 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__7, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_audio_stream_pyx, __pyx_n_s_decode, 34, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__8)) __PYX_ERR(0, 34, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
   __pyx_tuple__9 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__9)) __PYX_ERR(1, 1, __pyx_L1_error)
@@ -4902,15 +5020,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6stream_AudioStream = &__pyx_vtable_2av_5audio_6stream_AudioStream;
   __pyx_vtable_2av_5audio_6stream_AudioStream.__pyx_base = *__pyx_vtabptr_2av_6stream_Stream;
   __pyx_vtable_2av_5audio_6stream_AudioStream.encode = (PyObject *(*)(struct __pyx_obj_2av_5audio_6stream_AudioStream *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_encode *__pyx_optional_args))__pyx_f_2av_5audio_6stream_11AudioStream_encode;
   __pyx_vtable_2av_5audio_6stream_AudioStream.decode = (PyObject *(*)(struct __pyx_obj_2av_5audio_6stream_AudioStream *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5audio_6stream_11AudioStream_decode *__pyx_optional_args))__pyx_f_2av_5audio_6stream_11AudioStream_decode;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 6, __pyx_L1_error)
@@ -4928,19 +5046,14 @@
   #endif
   #if !CYTHON_USE_TYPE_SPECS
   if (__Pyx_PyType_Ready(__pyx_ptype_2av_5audio_6stream_AudioStream) < 0) __PYX_ERR(0, 6, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_5audio_6stream_AudioStream->tp_print = 0;
   #endif
-  #if !CYTHON_COMPILING_IN_LIMITED_API
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_5audio_6stream_AudioStream->tp_dictoffset && __pyx_ptype_2av_5audio_6stream_AudioStream->tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_ptype_2av_5audio_6stream_AudioStream->tp_getattro = __Pyx_PyObject_GenericGetAttr;
-  }
-  #endif
   if (__Pyx_SetVtable(__pyx_ptype_2av_5audio_6stream_AudioStream, __pyx_vtabptr_2av_5audio_6stream_AudioStream) < 0) __PYX_ERR(0, 6, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_MergeVtables(__pyx_ptype_2av_5audio_6stream_AudioStream) < 0) __PYX_ERR(0, 6, __pyx_L1_error)
   #endif
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_AudioStream, (PyObject *) __pyx_ptype_2av_5audio_6stream_AudioStream) < 0) __PYX_ERR(0, 6, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_5audio_6stream_AudioStream) < 0) __PYX_ERR(0, 6, __pyx_L1_error)
@@ -4961,84 +5074,84 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(6, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(6, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(6, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(6, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(6, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(7, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(7, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(7, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(14, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(14, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(15, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(15, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(15, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(15, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(15, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -5059,15 +5172,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5347,59 +5460,59 @@
   (void)__Pyx_modinit_variable_import_code();
   if (unlikely((__Pyx_modinit_function_import_code() < 0))) __PYX_ERR(0, 1, __pyx_L1_error)
   /*--- Execution code ---*/
   #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
   if (__Pyx_patch_abc() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   #endif
 
-  /* "av/audio/stream.pyx":14
- *         )
+  /* "av/audio/stream.pyx":17
+ *         return getattr(self.codec_context, name)
  * 
  *     cpdef encode(self, AudioFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.AudioFrame` and return a list of :class:`.Packet`.
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_3encode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream_encode, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__5)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 14, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_5encode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream_encode, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__5)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__6);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5audio_6stream_AudioStream, __pyx_n_s_encode, __pyx_t_2) < 0) __PYX_ERR(0, 14, __pyx_L1_error)
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5audio_6stream_AudioStream, __pyx_n_s_encode, __pyx_t_2) < 0) __PYX_ERR(0, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_2av_5audio_6stream_AudioStream);
 
-  /* "av/audio/stream.pyx":31
+  /* "av/audio/stream.pyx":34
  *         return packets
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.AudioFrame`.
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_5decode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream_decode, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 31, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_7decode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream_decode, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__6);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5audio_6stream_AudioStream, __pyx_n_s_decode, __pyx_t_2) < 0) __PYX_ERR(0, 31, __pyx_L1_error)
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5audio_6stream_AudioStream, __pyx_n_s_decode, __pyx_t_2) < 0) __PYX_ERR(0, 34, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_2av_5audio_6stream_AudioStream);
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_7__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream___reduce_cython, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__10)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_9__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream___reduce_cython, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__10)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_2) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_9__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream___setstate_cython, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5audio_6stream_11AudioStream_11__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_AudioStream___setstate_cython, NULL, __pyx_n_s_av_audio_stream, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_2) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "av/audio/stream.pyx":1
  * from av.packet cimport Packet             # <<<<<<<<<<<<<<
  * 
@@ -6220,14 +6333,27 @@
     CYTHON_UNUSED_VAR(max_char);
     CYTHON_UNUSED_VAR(result_ulength);
     CYTHON_UNUSED_VAR(value_count);
     return PyUnicode_Join(__pyx_empty_unicode, value_tuple);
 #endif
 }
 
+/* GetAttr */
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
+#if CYTHON_USE_TYPE_SLOTS
+#if PY_MAJOR_VERSION >= 3
+    if (likely(PyUnicode_Check(n)))
+#else
+    if (likely(PyString_Check(n)))
+#endif
+        return __Pyx_PyObject_GetAttrStr(o, n);
+#endif
+    return PyObject_GetAttr(o, n);
+}
+
 /* PyDictVersioning */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj) {
     PyObject *dict = Py_TYPE(obj)->tp_dict;
     return likely(dict) ? __PYX_GET_DICT_VERSION(dict) : 0;
 }
 static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj) {
@@ -6749,19 +6875,71 @@
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
+/* PyObject_GenericGetAttrNoDict */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
+    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
+    PyErr_Format(PyExc_AttributeError,
+#if PY_MAJOR_VERSION >= 3
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
+                 type_name, attr_name);
+#else
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
+                 type_name, PyString_AS_STRING(attr_name));
+#endif
+    __Pyx_DECREF_TypeName(type_name);
+    return NULL;
+}
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
+    PyObject *descr;
+    PyTypeObject *tp = Py_TYPE(obj);
+    if (unlikely(!PyString_Check(attr_name))) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    assert(!tp->tp_dictoffset);
+    descr = _PyType_Lookup(tp, attr_name);
+    if (unlikely(!descr)) {
+        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
+    }
+    Py_INCREF(descr);
+    #if PY_MAJOR_VERSION < 3
+    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
+    #endif
+    {
+        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
+        if (unlikely(f)) {
+            PyObject *res = f(descr, obj, (PyObject *)tp);
+            Py_DECREF(descr);
+            return res;
+        }
+    }
+    return descr;
+}
+#endif
+
+/* PyObject_GenericGetAttr */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
+    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
+}
+#endif
+
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -6807,23 +6985,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -7212,66 +7390,14 @@
     #endif
     }
 #endif
     return r;
 #endif
 }
 
-/* PyObject_GenericGetAttrNoDict */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
-    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
-    PyErr_Format(PyExc_AttributeError,
-#if PY_MAJOR_VERSION >= 3
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
-                 type_name, attr_name);
-#else
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
-                 type_name, PyString_AS_STRING(attr_name));
-#endif
-    __Pyx_DECREF_TypeName(type_name);
-    return NULL;
-}
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
-    PyObject *descr;
-    PyTypeObject *tp = Py_TYPE(obj);
-    if (unlikely(!PyString_Check(attr_name))) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    assert(!tp->tp_dictoffset);
-    descr = _PyType_Lookup(tp, attr_name);
-    if (unlikely(!descr)) {
-        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
-    }
-    Py_INCREF(descr);
-    #if PY_MAJOR_VERSION < 3
-    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
-    #endif
-    {
-        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
-        if (unlikely(f)) {
-            PyObject *res = f(descr, obj, (PyObject *)tp);
-            Py_DECREF(descr);
-            return res;
-        }
-    }
-    return descr;
-}
-#endif
-
-/* PyObject_GenericGetAttr */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
-    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
-}
-#endif
-
 /* SetVTable */
 static int __Pyx_SetVtable(PyTypeObject *type, void *vtable) {
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
     if (unlikely(!ob))
         goto bad;
 #if CYTHON_COMPILING_IN_LIMITED_API
     if (unlikely(PyObject_SetAttr((PyObject *) type, __pyx_n_s_pyx_vtable, ob) < 0))
@@ -9752,17 +9878,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/buffer.c` & `pyav-12.1.0rc1/src/av/buffer.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [],
         "include_dirs": [
             "/tmp/vendor/include"
@@ -65,18 +65,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -160,14 +160,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -221,14 +223,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -282,60 +286,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -418,14 +445,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -2037,30 +2067,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
 
 /* FetchCommonType.proto */
 #if !CYTHON_USE_TYPE_SPECS
@@ -2270,15 +2300,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4real_real(PyComplexObject *__pyx_v_self); /* proto*/
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4imag_imag(PyComplexObject *__pyx_v_self); /* proto*/
@@ -3025,70 +3055,70 @@
 #define __pyx_codeobj__9 __pyx_mstate_global->__pyx_codeobj__9
 #define __pyx_codeobj__11 __pyx_mstate_global->__pyx_codeobj__11
 /* #### Code section: module_code ### */
 
 /* "cpython/complex.pxd":19
  * 
  *         @property
- *         cdef inline double real(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double real(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.real
  * 
  */
 
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4real_real(PyComplexObject *__pyx_v_self) {
   double __pyx_r;
 
   /* "cpython/complex.pxd":20
  *         @property
- *         cdef inline double real(self):
+ *         cdef inline double real(self) noexcept:
  *             return self.cval.real             # <<<<<<<<<<<<<<
  * 
  *         @property
  */
   __pyx_r = __pyx_v_self->cval.real;
   goto __pyx_L0;
 
   /* "cpython/complex.pxd":19
  * 
  *         @property
- *         cdef inline double real(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double real(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.real
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
 }
 
 /* "cpython/complex.pxd":23
  * 
  *         @property
- *         cdef inline double imag(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double imag(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.imag
  * 
  */
 
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4imag_imag(PyComplexObject *__pyx_v_self) {
   double __pyx_r;
 
   /* "cpython/complex.pxd":24
  *         @property
- *         cdef inline double imag(self):
+ *         cdef inline double imag(self) noexcept:
  *             return self.cval.imag             # <<<<<<<<<<<<<<
  * 
  *     # PyTypeObject PyComplex_Type
  */
   __pyx_r = __pyx_v_self->cval.imag;
   goto __pyx_L0;
 
   /* "cpython/complex.pxd":23
  * 
  *         @property
- *         cdef inline double imag(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double imag(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.imag
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
@@ -5240,35 +5270,35 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_3_0_9(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_3_0_10(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyTypeObject),
+  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyTypeObject),
   #elif CYTHON_COMPILING_IN_LIMITED_API
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyTypeObject),
+  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(3, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(3, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_3_0_9(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(4, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_3_0_10(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(4, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_3_0_9(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(5, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_3_0_10(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(5, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5288,15 +5318,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "bytesource", (void (**)(void))&__pyx_f_2av_10bytesource_bytesource, "struct __pyx_obj_2av_10bytesource_ByteSource *(PyObject *, struct __pyx_opt_args_2av_10bytesource_bytesource *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "bytesource", (void (**)(void))&__pyx_f_2av_10bytesource_bytesource, "struct __pyx_obj_2av_10bytesource_ByteSource *(PyObject *, struct __pyx_opt_args_2av_10bytesource_bytesource *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7975,18 +8005,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -8032,23 +8062,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -10424,17 +10454,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/bytesource.c` & `pyav-12.1.0rc1/src/av/bytesource.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [],
         "include_dirs": [
             "/tmp/vendor/include"
@@ -48,18 +48,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -143,14 +143,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -204,14 +206,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -265,60 +269,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -401,14 +428,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
```

### Comparing `pyav-12.0.5/src/av/codec/codec.c` & `pyav-12.1.0rc1/src/av/codec/codec.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2228,30 +2260,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* Py3UpdateBases.proto */
 static PyObject* __Pyx_PEP560_update_bases(PyObject *bases);
 
 /* CalculateMetaclass.proto */
 static PyObject *__Pyx_CalculateMetaclass(PyTypeObject *metaclass, PyObject *bases);
@@ -2515,15 +2547,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5codec_5codec_5Codec__init(struct __pyx_obj_2av_5codec_5codec_Codec *__pyx_v_self, struct __pyx_opt_args_2av_5codec_5codec_5Codec__init *__pyx_optional_args); /* proto*/
 
@@ -7553,26 +7585,26 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(5, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(5, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(5, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7592,31 +7624,31 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_audio_format", (void (**)(void))&__pyx_f_2av_5audio_6format_get_audio_format, "struct __pyx_obj_2av_5audio_6format_AudioFormat *(enum AVSampleFormat)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_audio_format", (void (**)(void))&__pyx_f_2av_5audio_6format_get_audio_format, "struct __pyx_obj_2av_5audio_6format_AudioFormat *(enum AVSampleFormat)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_avclass", (void (**)(void))&__pyx_f_2av_10descriptor_wrap_avclass, "struct __pyx_obj_2av_10descriptor_Descriptor *(struct AVClass const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_avclass", (void (**)(void))&__pyx_f_2av_10descriptor_wrap_avclass, "struct __pyx_obj_2av_10descriptor_Descriptor *(struct AVClass const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_video_format", (void (**)(void))&__pyx_f_2av_5video_6format_get_video_format, "struct __pyx_obj_2av_5video_6format_VideoFormat *(enum AVPixelFormat, unsigned int, unsigned int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_video_format", (void (**)(void))&__pyx_f_2av_5video_6format_get_video_format, "struct __pyx_obj_2av_5video_6format_VideoFormat *(enum AVPixelFormat, unsigned int, unsigned int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -12056,18 +12088,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -12113,23 +12145,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -15203,17 +15235,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/codec/context.c` & `pyav-12.1.0rc1/src/av/codec/context.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1724,15 +1756,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 
 /* "av/bytesource.pxd":4
@@ -1917,31 +1949,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2129,16 +2161,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2170,14 +2202,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2667,30 +2700,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* ImportDottedModule.proto */
 static PyObject *__Pyx_ImportDottedModule(PyObject *name, PyObject *parts_tuple);
 #if PY_MAJOR_VERSION >= 3
 static PyObject *__Pyx_ImportDottedModule_WalkParts(PyObject *module, PyObject *name, PyObject *parts_tuple);
 #endif
@@ -3042,15 +3075,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__init(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct AVCodecContext *__pyx_v_ptr, struct AVCodec const *__pyx_v_codec); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext_open(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args); /* proto*/
@@ -3061,14 +3094,15 @@
 static struct __pyx_obj_2av_5frame_Frame *__pyx_f_2av_5codec_7context_12CodecContext__alloc_next_frame(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__recv_frame(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__recv_packet(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__prepare_and_time_rebase_frames_for_encode(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_frame); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext_encode(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__setup_encoded_packet(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext_decode(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args); /* proto*/
+static PyObject *__pyx_f_2av_5codec_7context_12CodecContext_flush_buffers(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_skip_dispatch); /* proto*/
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__setup_decoded_frame(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_frame, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto*/
 
 /* Module declarations from "libc.stdint" */
 
 /* Module declarations from "libav" */
 
 /* Module declarations from "cpython.buffer" */
@@ -3141,15 +3175,15 @@
 static const char __pyx_k_av[] = "<av.";
 static const char __pyx_k_gc[] = "gc";
 static const char __pyx_k_id[] = "id";
 static const char __pyx_k_4MV[] = "4MV";
 static const char __pyx_k_ALL[] = "ALL";
 static const char __pyx_k__10[] = ">";
 static const char __pyx_k__20[] = "*";
-static const char __pyx_k__48[] = "?";
+static const char __pyx_k__49[] = "?";
 static const char __pyx_k_get[] = "get";
 static const char __pyx_k_res[] = "res";
 static const char __pyx_k_AUTO[] = "AUTO";
 static const char __pyx_k_FAST[] = "FAST";
 static const char __pyx_k_GRAY[] = "GRAY";
 static const char __pyx_k_NONE[] = "NONE";
 static const char __pyx_k_PSNR[] = "PSNR";
@@ -3216,14 +3250,15 @@
 static const char __pyx_k_AC_PRED[] = "AC_PRED";
 static const char __pyx_k_DEFAULT[] = "DEFAULT";
 static const char __pyx_k_ac_pred[] = "ac_pred";
 static const char __pyx_k_disable[] = "disable";
 static const char __pyx_k_four_mv[] = "four_mv";
 static const char __pyx_k_in_data[] = "in_data";
 static const char __pyx_k_in_size[] = "in_size";
+static const char __pyx_k_is_open[] = "is_open";
 static const char __pyx_k_nocodec[] = "<nocodec>";
 static const char __pyx_k_packets[] = "packets";
 static const char __pyx_k_BITEXACT[] = "BITEXACT";
 static const char __pyx_k_NONINTRA[] = "NONINTRA";
 static const char __pyx_k_SHOW_ALL[] = "SHOW_ALL";
 static const char __pyx_k_SkipType[] = "SkipType";
 static const char __pyx_k_bitexact[] = "bitexact";
@@ -3289,14 +3324,15 @@
 static const char __pyx_k_GLOBAL_HEADER[] = "GLOBAL_HEADER";
 static const char __pyx_k_INTERLACED_ME[] = "INTERLACED_ME";
 static const char __pyx_k_No_parser_for[] = "No parser for ";
 static const char __pyx_k_RO_FLUSH_NOOP[] = "RO_FLUSH_NOOP";
 static const char __pyx_k_av_dictionary[] = "av.dictionary";
 static const char __pyx_k_class_getitem[] = "__class_getitem__";
 static const char __pyx_k_flag_property[] = "flag_property";
+static const char __pyx_k_flush_buffers[] = "flush_buffers";
 static const char __pyx_k_global_header[] = "global_header";
 static const char __pyx_k_interlaced_me[] = "interlaced_me";
 static const char __pyx_k_loop_filter_2[] = "loop_filter";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
 static const char __pyx_k_ro_flush_noop[] = "ro_flush_noop";
 static const char __pyx_k_INTERLACED_DCT[] = "INTERLACED_DCT";
 static const char __pyx_k_OUTPUT_CORRUPT[] = "OUTPUT_CORRUPT";
@@ -3331,14 +3367,15 @@
 static const char __pyx_k_Skip_bitstream_encoding[] = "Skip bitstream encoding.";
 static const char __pyx_k_CodecContext__get_flags2[] = "CodecContext._get_flags2";
 static const char __pyx_k_CodecContext__set_flags2[] = "CodecContext._set_flags2";
 static const char __pyx_k_CodecContext_encode_lazy[] = "CodecContext.encode_lazy";
 static const char __pyx_k_Cannot_allocate_extradata[] = "Cannot allocate extradata";
 static const char __pyx_k_Discard_all_non_reference[] = "Discard all non reference";
 static const char __pyx_k_av_subtitles_codeccontext[] = "av.subtitles.codeccontext";
+static const char __pyx_k_CodecContext_flush_buffers[] = "CodecContext.flush_buffers";
 static const char __pyx_k_cannot_decode_unknown_codec[] = "cannot decode unknown codec";
 static const char __pyx_k_CodecContext___reduce_cython[] = "CodecContext.__reduce_cython__";
 static const char __pyx_k_CodecContext_is_already_open[] = "CodecContext is already open.";
 static const char __pyx_k_Discard_all_non_intra_frames[] = "Discard all non intra frames";
 static const char __pyx_k_Flag_property_of_class_Flags[] = "Flag property of :class:`.Flags`.";
 static const char __pyx_k_Interlaced_motion_estimation[] = "Interlaced motion estimation";
 static const char __pyx_k_Only_decode_encode_grayscale[] = "Only decode/encode grayscale.";
@@ -3398,14 +3435,15 @@
 static void __pyx_pf_2av_5codec_7context_12CodecContext_16__dealloc__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_18__repr__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_20parse(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, PyObject *__pyx_v_raw_input); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_22_send_frame_and_recv(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_frame); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_25encode(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_frame); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_27encode_lazy(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_frame); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_30decode(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto */
+static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_32flush_buffers(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_4name___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_4type___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_7profile___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_9time_base___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static int __pyx_pf_2av_5codec_7context_12CodecContext_9time_base_2__set__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, PyObject *__pyx_v_value); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_9codec_tag___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static int __pyx_pf_2av_5codec_7context_12CodecContext_9codec_tag_2__set__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, PyObject *__pyx_v_value); /* proto */
@@ -3422,16 +3460,16 @@
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_10skip_frame___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static int __pyx_pf_2av_5codec_7context_12CodecContext_10skip_frame_2__set__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, PyObject *__pyx_v_value); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_5delay___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_5codec___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_7options___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
 static int __pyx_pf_2av_5codec_7context_12CodecContext_7options_2__set__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, PyObject *__pyx_v_value); /* proto */
 static int __pyx_pf_2av_5codec_7context_12CodecContext_7options_4__del__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_32__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_34__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_34__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_36__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_5codec_7context_CodecContext(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static PyObject *__pyx_tp_new_2av_5codec_7context___pyx_scope_struct_1_encode_lazy(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
@@ -3548,14 +3586,15 @@
   PyObject *__pyx_n_s_CodecContext__set_flags;
   PyObject *__pyx_n_s_CodecContext__set_flags2;
   PyObject *__pyx_n_s_CodecContext_close;
   PyObject *__pyx_n_s_CodecContext_create;
   PyObject *__pyx_n_s_CodecContext_decode;
   PyObject *__pyx_n_s_CodecContext_encode;
   PyObject *__pyx_n_s_CodecContext_encode_lazy;
+  PyObject *__pyx_n_s_CodecContext_flush_buffers;
   PyObject *__pyx_kp_s_CodecContext_is_already_closed;
   PyObject *__pyx_kp_s_CodecContext_is_already_open;
   PyObject *__pyx_n_s_CodecContext_open;
   PyObject *__pyx_n_s_CodecContext_parse;
   PyObject *__pyx_kp_s_Codec_tag_should_be_a_4_characte;
   PyObject *__pyx_n_s_DEFAULT;
   PyObject *__pyx_n_s_DROPCHANGED;
@@ -3633,15 +3672,15 @@
   PyObject *__pyx_kp_s_Use_qpel_MC;
   PyObject *__pyx_kp_s_Using_CodecContext_time_base_for;
   PyObject *__pyx_n_s_ValueError;
   PyObject *__pyx_n_s_VideoCodecContext;
   PyObject *__pyx_kp_s_Wrapping_CodecContext_with_misma;
   PyObject *__pyx_kp_u__10;
   PyObject *__pyx_n_s__20;
-  PyObject *__pyx_n_s__48;
+  PyObject *__pyx_n_s__49;
   PyObject *__pyx_kp_u__8;
   PyObject *__pyx_kp_u__9;
   PyObject *__pyx_n_s_ac_pred;
   PyObject *__pyx_n_s_args;
   PyObject *__pyx_n_s_ascii;
   PyObject *__pyx_n_s_asyncio_coroutines;
   PyObject *__pyx_kp_u_at_0x;
@@ -3677,14 +3716,15 @@
   PyObject *__pyx_n_s_encoding;
   PyObject *__pyx_kp_s_error_variables_will_be_set_duri;
   PyObject *__pyx_n_s_export_mvs;
   PyObject *__pyx_n_s_fast;
   PyObject *__pyx_n_s_flag_property;
   PyObject *__pyx_n_s_flags;
   PyObject *__pyx_n_s_flags2;
+  PyObject *__pyx_n_s_flush_buffers;
   PyObject *__pyx_n_s_four_mv;
   PyObject *__pyx_n_s_frame;
   PyObject *__pyx_n_s_from_bytes;
   PyObject *__pyx_kp_u_gc;
   PyObject *__pyx_n_s_get;
   PyObject *__pyx_n_s_get_2;
   PyObject *__pyx_n_s_get_flags;
@@ -3699,14 +3739,15 @@
   PyObject *__pyx_n_s_in_size;
   PyObject *__pyx_n_s_initializing;
   PyObject *__pyx_n_s_interlaced_dct;
   PyObject *__pyx_n_s_interlaced_me;
   PyObject *__pyx_n_s_is_coroutine;
   PyObject *__pyx_n_s_is_decoder;
   PyObject *__pyx_n_s_is_encoder;
+  PyObject *__pyx_n_s_is_open;
   PyObject *__pyx_kp_u_isenabled;
   PyObject *__pyx_n_s_little;
   PyObject *__pyx_n_s_local_header;
   PyObject *__pyx_kp_s_loop_filter;
   PyObject *__pyx_n_s_loop_filter_2;
   PyObject *__pyx_n_s_low_delay;
   PyObject *__pyx_n_s_main;
@@ -3791,29 +3832,30 @@
   PyObject *__pyx_tuple__34;
   PyObject *__pyx_tuple__36;
   PyObject *__pyx_tuple__37;
   PyObject *__pyx_tuple__39;
   PyObject *__pyx_tuple__40;
   PyObject *__pyx_tuple__42;
   PyObject *__pyx_tuple__43;
-  PyObject *__pyx_tuple__46;
+  PyObject *__pyx_tuple__47;
   PyObject *__pyx_codeobj__11;
   PyObject *__pyx_codeobj__14;
   PyObject *__pyx_codeobj__24;
   PyObject *__pyx_codeobj__27;
   PyObject *__pyx_codeobj__29;
   PyObject *__pyx_codeobj__30;
   PyObject *__pyx_codeobj__31;
   PyObject *__pyx_codeobj__33;
   PyObject *__pyx_codeobj__35;
   PyObject *__pyx_codeobj__38;
   PyObject *__pyx_codeobj__41;
   PyObject *__pyx_codeobj__44;
   PyObject *__pyx_codeobj__45;
-  PyObject *__pyx_codeobj__47;
+  PyObject *__pyx_codeobj__46;
+  PyObject *__pyx_codeobj__48;
 } __pyx_mstate;
 
 #if CYTHON_USE_MODULE_STATE
 #ifdef __cplusplus
 namespace {
   extern struct PyModuleDef __pyx_moduledef;
 } /* anonymous namespace */
@@ -3900,14 +3942,15 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext__set_flags);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext__set_flags2);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_close);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_create);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_decode);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_encode);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_encode_lazy);
+  Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_flush_buffers);
   Py_CLEAR(clear_module_state->__pyx_kp_s_CodecContext_is_already_closed);
   Py_CLEAR(clear_module_state->__pyx_kp_s_CodecContext_is_already_open);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_open);
   Py_CLEAR(clear_module_state->__pyx_n_s_CodecContext_parse);
   Py_CLEAR(clear_module_state->__pyx_kp_s_Codec_tag_should_be_a_4_characte);
   Py_CLEAR(clear_module_state->__pyx_n_s_DEFAULT);
   Py_CLEAR(clear_module_state->__pyx_n_s_DROPCHANGED);
@@ -3985,15 +4028,15 @@
   Py_CLEAR(clear_module_state->__pyx_kp_s_Use_qpel_MC);
   Py_CLEAR(clear_module_state->__pyx_kp_s_Using_CodecContext_time_base_for);
   Py_CLEAR(clear_module_state->__pyx_n_s_ValueError);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoCodecContext);
   Py_CLEAR(clear_module_state->__pyx_kp_s_Wrapping_CodecContext_with_misma);
   Py_CLEAR(clear_module_state->__pyx_kp_u__10);
   Py_CLEAR(clear_module_state->__pyx_n_s__20);
-  Py_CLEAR(clear_module_state->__pyx_n_s__48);
+  Py_CLEAR(clear_module_state->__pyx_n_s__49);
   Py_CLEAR(clear_module_state->__pyx_kp_u__8);
   Py_CLEAR(clear_module_state->__pyx_kp_u__9);
   Py_CLEAR(clear_module_state->__pyx_n_s_ac_pred);
   Py_CLEAR(clear_module_state->__pyx_n_s_args);
   Py_CLEAR(clear_module_state->__pyx_n_s_ascii);
   Py_CLEAR(clear_module_state->__pyx_n_s_asyncio_coroutines);
   Py_CLEAR(clear_module_state->__pyx_kp_u_at_0x);
@@ -4029,14 +4072,15 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_encoding);
   Py_CLEAR(clear_module_state->__pyx_kp_s_error_variables_will_be_set_duri);
   Py_CLEAR(clear_module_state->__pyx_n_s_export_mvs);
   Py_CLEAR(clear_module_state->__pyx_n_s_fast);
   Py_CLEAR(clear_module_state->__pyx_n_s_flag_property);
   Py_CLEAR(clear_module_state->__pyx_n_s_flags);
   Py_CLEAR(clear_module_state->__pyx_n_s_flags2);
+  Py_CLEAR(clear_module_state->__pyx_n_s_flush_buffers);
   Py_CLEAR(clear_module_state->__pyx_n_s_four_mv);
   Py_CLEAR(clear_module_state->__pyx_n_s_frame);
   Py_CLEAR(clear_module_state->__pyx_n_s_from_bytes);
   Py_CLEAR(clear_module_state->__pyx_kp_u_gc);
   Py_CLEAR(clear_module_state->__pyx_n_s_get);
   Py_CLEAR(clear_module_state->__pyx_n_s_get_2);
   Py_CLEAR(clear_module_state->__pyx_n_s_get_flags);
@@ -4051,14 +4095,15 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_in_size);
   Py_CLEAR(clear_module_state->__pyx_n_s_initializing);
   Py_CLEAR(clear_module_state->__pyx_n_s_interlaced_dct);
   Py_CLEAR(clear_module_state->__pyx_n_s_interlaced_me);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_coroutine);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_decoder);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_encoder);
+  Py_CLEAR(clear_module_state->__pyx_n_s_is_open);
   Py_CLEAR(clear_module_state->__pyx_kp_u_isenabled);
   Py_CLEAR(clear_module_state->__pyx_n_s_little);
   Py_CLEAR(clear_module_state->__pyx_n_s_local_header);
   Py_CLEAR(clear_module_state->__pyx_kp_s_loop_filter);
   Py_CLEAR(clear_module_state->__pyx_n_s_loop_filter_2);
   Py_CLEAR(clear_module_state->__pyx_n_s_low_delay);
   Py_CLEAR(clear_module_state->__pyx_n_s_main);
@@ -4143,29 +4188,30 @@
   Py_CLEAR(clear_module_state->__pyx_tuple__34);
   Py_CLEAR(clear_module_state->__pyx_tuple__36);
   Py_CLEAR(clear_module_state->__pyx_tuple__37);
   Py_CLEAR(clear_module_state->__pyx_tuple__39);
   Py_CLEAR(clear_module_state->__pyx_tuple__40);
   Py_CLEAR(clear_module_state->__pyx_tuple__42);
   Py_CLEAR(clear_module_state->__pyx_tuple__43);
-  Py_CLEAR(clear_module_state->__pyx_tuple__46);
+  Py_CLEAR(clear_module_state->__pyx_tuple__47);
   Py_CLEAR(clear_module_state->__pyx_codeobj__11);
   Py_CLEAR(clear_module_state->__pyx_codeobj__14);
   Py_CLEAR(clear_module_state->__pyx_codeobj__24);
   Py_CLEAR(clear_module_state->__pyx_codeobj__27);
   Py_CLEAR(clear_module_state->__pyx_codeobj__29);
   Py_CLEAR(clear_module_state->__pyx_codeobj__30);
   Py_CLEAR(clear_module_state->__pyx_codeobj__31);
   Py_CLEAR(clear_module_state->__pyx_codeobj__33);
   Py_CLEAR(clear_module_state->__pyx_codeobj__35);
   Py_CLEAR(clear_module_state->__pyx_codeobj__38);
   Py_CLEAR(clear_module_state->__pyx_codeobj__41);
   Py_CLEAR(clear_module_state->__pyx_codeobj__44);
   Py_CLEAR(clear_module_state->__pyx_codeobj__45);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__47);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__46);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__48);
   return 0;
 }
 #endif
 /* #### Code section: module_state_traverse ### */
 #if CYTHON_USE_MODULE_STATE
 static int __pyx_m_traverse(PyObject *m, visitproc visit, void *arg) {
   __pyx_mstate *traverse_module_state = __pyx_mstate(m);
@@ -4230,14 +4276,15 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext__set_flags);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext__set_flags2);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_close);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_create);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_decode);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_encode);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_encode_lazy);
+  Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_flush_buffers);
   Py_VISIT(traverse_module_state->__pyx_kp_s_CodecContext_is_already_closed);
   Py_VISIT(traverse_module_state->__pyx_kp_s_CodecContext_is_already_open);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_open);
   Py_VISIT(traverse_module_state->__pyx_n_s_CodecContext_parse);
   Py_VISIT(traverse_module_state->__pyx_kp_s_Codec_tag_should_be_a_4_characte);
   Py_VISIT(traverse_module_state->__pyx_n_s_DEFAULT);
   Py_VISIT(traverse_module_state->__pyx_n_s_DROPCHANGED);
@@ -4315,15 +4362,15 @@
   Py_VISIT(traverse_module_state->__pyx_kp_s_Use_qpel_MC);
   Py_VISIT(traverse_module_state->__pyx_kp_s_Using_CodecContext_time_base_for);
   Py_VISIT(traverse_module_state->__pyx_n_s_ValueError);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoCodecContext);
   Py_VISIT(traverse_module_state->__pyx_kp_s_Wrapping_CodecContext_with_misma);
   Py_VISIT(traverse_module_state->__pyx_kp_u__10);
   Py_VISIT(traverse_module_state->__pyx_n_s__20);
-  Py_VISIT(traverse_module_state->__pyx_n_s__48);
+  Py_VISIT(traverse_module_state->__pyx_n_s__49);
   Py_VISIT(traverse_module_state->__pyx_kp_u__8);
   Py_VISIT(traverse_module_state->__pyx_kp_u__9);
   Py_VISIT(traverse_module_state->__pyx_n_s_ac_pred);
   Py_VISIT(traverse_module_state->__pyx_n_s_args);
   Py_VISIT(traverse_module_state->__pyx_n_s_ascii);
   Py_VISIT(traverse_module_state->__pyx_n_s_asyncio_coroutines);
   Py_VISIT(traverse_module_state->__pyx_kp_u_at_0x);
@@ -4359,14 +4406,15 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_encoding);
   Py_VISIT(traverse_module_state->__pyx_kp_s_error_variables_will_be_set_duri);
   Py_VISIT(traverse_module_state->__pyx_n_s_export_mvs);
   Py_VISIT(traverse_module_state->__pyx_n_s_fast);
   Py_VISIT(traverse_module_state->__pyx_n_s_flag_property);
   Py_VISIT(traverse_module_state->__pyx_n_s_flags);
   Py_VISIT(traverse_module_state->__pyx_n_s_flags2);
+  Py_VISIT(traverse_module_state->__pyx_n_s_flush_buffers);
   Py_VISIT(traverse_module_state->__pyx_n_s_four_mv);
   Py_VISIT(traverse_module_state->__pyx_n_s_frame);
   Py_VISIT(traverse_module_state->__pyx_n_s_from_bytes);
   Py_VISIT(traverse_module_state->__pyx_kp_u_gc);
   Py_VISIT(traverse_module_state->__pyx_n_s_get);
   Py_VISIT(traverse_module_state->__pyx_n_s_get_2);
   Py_VISIT(traverse_module_state->__pyx_n_s_get_flags);
@@ -4381,14 +4429,15 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_in_size);
   Py_VISIT(traverse_module_state->__pyx_n_s_initializing);
   Py_VISIT(traverse_module_state->__pyx_n_s_interlaced_dct);
   Py_VISIT(traverse_module_state->__pyx_n_s_interlaced_me);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_coroutine);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_decoder);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_encoder);
+  Py_VISIT(traverse_module_state->__pyx_n_s_is_open);
   Py_VISIT(traverse_module_state->__pyx_kp_u_isenabled);
   Py_VISIT(traverse_module_state->__pyx_n_s_little);
   Py_VISIT(traverse_module_state->__pyx_n_s_local_header);
   Py_VISIT(traverse_module_state->__pyx_kp_s_loop_filter);
   Py_VISIT(traverse_module_state->__pyx_n_s_loop_filter_2);
   Py_VISIT(traverse_module_state->__pyx_n_s_low_delay);
   Py_VISIT(traverse_module_state->__pyx_n_s_main);
@@ -4473,29 +4522,30 @@
   Py_VISIT(traverse_module_state->__pyx_tuple__34);
   Py_VISIT(traverse_module_state->__pyx_tuple__36);
   Py_VISIT(traverse_module_state->__pyx_tuple__37);
   Py_VISIT(traverse_module_state->__pyx_tuple__39);
   Py_VISIT(traverse_module_state->__pyx_tuple__40);
   Py_VISIT(traverse_module_state->__pyx_tuple__42);
   Py_VISIT(traverse_module_state->__pyx_tuple__43);
-  Py_VISIT(traverse_module_state->__pyx_tuple__46);
+  Py_VISIT(traverse_module_state->__pyx_tuple__47);
   Py_VISIT(traverse_module_state->__pyx_codeobj__11);
   Py_VISIT(traverse_module_state->__pyx_codeobj__14);
   Py_VISIT(traverse_module_state->__pyx_codeobj__24);
   Py_VISIT(traverse_module_state->__pyx_codeobj__27);
   Py_VISIT(traverse_module_state->__pyx_codeobj__29);
   Py_VISIT(traverse_module_state->__pyx_codeobj__30);
   Py_VISIT(traverse_module_state->__pyx_codeobj__31);
   Py_VISIT(traverse_module_state->__pyx_codeobj__33);
   Py_VISIT(traverse_module_state->__pyx_codeobj__35);
   Py_VISIT(traverse_module_state->__pyx_codeobj__38);
   Py_VISIT(traverse_module_state->__pyx_codeobj__41);
   Py_VISIT(traverse_module_state->__pyx_codeobj__44);
   Py_VISIT(traverse_module_state->__pyx_codeobj__45);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__47);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__46);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__48);
   return 0;
 }
 #endif
 /* #### Code section: module_state_defines ### */
 #define __pyx_d __pyx_mstate_global->__pyx_d
 #define __pyx_b __pyx_mstate_global->__pyx_b
 #define __pyx_cython_runtime __pyx_mstate_global->__pyx_cython_runtime
@@ -4610,14 +4660,15 @@
 #define __pyx_n_s_CodecContext__set_flags __pyx_mstate_global->__pyx_n_s_CodecContext__set_flags
 #define __pyx_n_s_CodecContext__set_flags2 __pyx_mstate_global->__pyx_n_s_CodecContext__set_flags2
 #define __pyx_n_s_CodecContext_close __pyx_mstate_global->__pyx_n_s_CodecContext_close
 #define __pyx_n_s_CodecContext_create __pyx_mstate_global->__pyx_n_s_CodecContext_create
 #define __pyx_n_s_CodecContext_decode __pyx_mstate_global->__pyx_n_s_CodecContext_decode
 #define __pyx_n_s_CodecContext_encode __pyx_mstate_global->__pyx_n_s_CodecContext_encode
 #define __pyx_n_s_CodecContext_encode_lazy __pyx_mstate_global->__pyx_n_s_CodecContext_encode_lazy
+#define __pyx_n_s_CodecContext_flush_buffers __pyx_mstate_global->__pyx_n_s_CodecContext_flush_buffers
 #define __pyx_kp_s_CodecContext_is_already_closed __pyx_mstate_global->__pyx_kp_s_CodecContext_is_already_closed
 #define __pyx_kp_s_CodecContext_is_already_open __pyx_mstate_global->__pyx_kp_s_CodecContext_is_already_open
 #define __pyx_n_s_CodecContext_open __pyx_mstate_global->__pyx_n_s_CodecContext_open
 #define __pyx_n_s_CodecContext_parse __pyx_mstate_global->__pyx_n_s_CodecContext_parse
 #define __pyx_kp_s_Codec_tag_should_be_a_4_characte __pyx_mstate_global->__pyx_kp_s_Codec_tag_should_be_a_4_characte
 #define __pyx_n_s_DEFAULT __pyx_mstate_global->__pyx_n_s_DEFAULT
 #define __pyx_n_s_DROPCHANGED __pyx_mstate_global->__pyx_n_s_DROPCHANGED
@@ -4695,15 +4746,15 @@
 #define __pyx_kp_s_Use_qpel_MC __pyx_mstate_global->__pyx_kp_s_Use_qpel_MC
 #define __pyx_kp_s_Using_CodecContext_time_base_for __pyx_mstate_global->__pyx_kp_s_Using_CodecContext_time_base_for
 #define __pyx_n_s_ValueError __pyx_mstate_global->__pyx_n_s_ValueError
 #define __pyx_n_s_VideoCodecContext __pyx_mstate_global->__pyx_n_s_VideoCodecContext
 #define __pyx_kp_s_Wrapping_CodecContext_with_misma __pyx_mstate_global->__pyx_kp_s_Wrapping_CodecContext_with_misma
 #define __pyx_kp_u__10 __pyx_mstate_global->__pyx_kp_u__10
 #define __pyx_n_s__20 __pyx_mstate_global->__pyx_n_s__20
-#define __pyx_n_s__48 __pyx_mstate_global->__pyx_n_s__48
+#define __pyx_n_s__49 __pyx_mstate_global->__pyx_n_s__49
 #define __pyx_kp_u__8 __pyx_mstate_global->__pyx_kp_u__8
 #define __pyx_kp_u__9 __pyx_mstate_global->__pyx_kp_u__9
 #define __pyx_n_s_ac_pred __pyx_mstate_global->__pyx_n_s_ac_pred
 #define __pyx_n_s_args __pyx_mstate_global->__pyx_n_s_args
 #define __pyx_n_s_ascii __pyx_mstate_global->__pyx_n_s_ascii
 #define __pyx_n_s_asyncio_coroutines __pyx_mstate_global->__pyx_n_s_asyncio_coroutines
 #define __pyx_kp_u_at_0x __pyx_mstate_global->__pyx_kp_u_at_0x
@@ -4739,14 +4790,15 @@
 #define __pyx_n_s_encoding __pyx_mstate_global->__pyx_n_s_encoding
 #define __pyx_kp_s_error_variables_will_be_set_duri __pyx_mstate_global->__pyx_kp_s_error_variables_will_be_set_duri
 #define __pyx_n_s_export_mvs __pyx_mstate_global->__pyx_n_s_export_mvs
 #define __pyx_n_s_fast __pyx_mstate_global->__pyx_n_s_fast
 #define __pyx_n_s_flag_property __pyx_mstate_global->__pyx_n_s_flag_property
 #define __pyx_n_s_flags __pyx_mstate_global->__pyx_n_s_flags
 #define __pyx_n_s_flags2 __pyx_mstate_global->__pyx_n_s_flags2
+#define __pyx_n_s_flush_buffers __pyx_mstate_global->__pyx_n_s_flush_buffers
 #define __pyx_n_s_four_mv __pyx_mstate_global->__pyx_n_s_four_mv
 #define __pyx_n_s_frame __pyx_mstate_global->__pyx_n_s_frame
 #define __pyx_n_s_from_bytes __pyx_mstate_global->__pyx_n_s_from_bytes
 #define __pyx_kp_u_gc __pyx_mstate_global->__pyx_kp_u_gc
 #define __pyx_n_s_get __pyx_mstate_global->__pyx_n_s_get
 #define __pyx_n_s_get_2 __pyx_mstate_global->__pyx_n_s_get_2
 #define __pyx_n_s_get_flags __pyx_mstate_global->__pyx_n_s_get_flags
@@ -4761,14 +4813,15 @@
 #define __pyx_n_s_in_size __pyx_mstate_global->__pyx_n_s_in_size
 #define __pyx_n_s_initializing __pyx_mstate_global->__pyx_n_s_initializing
 #define __pyx_n_s_interlaced_dct __pyx_mstate_global->__pyx_n_s_interlaced_dct
 #define __pyx_n_s_interlaced_me __pyx_mstate_global->__pyx_n_s_interlaced_me
 #define __pyx_n_s_is_coroutine __pyx_mstate_global->__pyx_n_s_is_coroutine
 #define __pyx_n_s_is_decoder __pyx_mstate_global->__pyx_n_s_is_decoder
 #define __pyx_n_s_is_encoder __pyx_mstate_global->__pyx_n_s_is_encoder
+#define __pyx_n_s_is_open __pyx_mstate_global->__pyx_n_s_is_open
 #define __pyx_kp_u_isenabled __pyx_mstate_global->__pyx_kp_u_isenabled
 #define __pyx_n_s_little __pyx_mstate_global->__pyx_n_s_little
 #define __pyx_n_s_local_header __pyx_mstate_global->__pyx_n_s_local_header
 #define __pyx_kp_s_loop_filter __pyx_mstate_global->__pyx_kp_s_loop_filter
 #define __pyx_n_s_loop_filter_2 __pyx_mstate_global->__pyx_n_s_loop_filter_2
 #define __pyx_n_s_low_delay __pyx_mstate_global->__pyx_n_s_low_delay
 #define __pyx_n_s_main __pyx_mstate_global->__pyx_n_s_main
@@ -4853,29 +4906,30 @@
 #define __pyx_tuple__34 __pyx_mstate_global->__pyx_tuple__34
 #define __pyx_tuple__36 __pyx_mstate_global->__pyx_tuple__36
 #define __pyx_tuple__37 __pyx_mstate_global->__pyx_tuple__37
 #define __pyx_tuple__39 __pyx_mstate_global->__pyx_tuple__39
 #define __pyx_tuple__40 __pyx_mstate_global->__pyx_tuple__40
 #define __pyx_tuple__42 __pyx_mstate_global->__pyx_tuple__42
 #define __pyx_tuple__43 __pyx_mstate_global->__pyx_tuple__43
-#define __pyx_tuple__46 __pyx_mstate_global->__pyx_tuple__46
+#define __pyx_tuple__47 __pyx_mstate_global->__pyx_tuple__47
 #define __pyx_codeobj__11 __pyx_mstate_global->__pyx_codeobj__11
 #define __pyx_codeobj__14 __pyx_mstate_global->__pyx_codeobj__14
 #define __pyx_codeobj__24 __pyx_mstate_global->__pyx_codeobj__24
 #define __pyx_codeobj__27 __pyx_mstate_global->__pyx_codeobj__27
 #define __pyx_codeobj__29 __pyx_mstate_global->__pyx_codeobj__29
 #define __pyx_codeobj__30 __pyx_mstate_global->__pyx_codeobj__30
 #define __pyx_codeobj__31 __pyx_mstate_global->__pyx_codeobj__31
 #define __pyx_codeobj__33 __pyx_mstate_global->__pyx_codeobj__33
 #define __pyx_codeobj__35 __pyx_mstate_global->__pyx_codeobj__35
 #define __pyx_codeobj__38 __pyx_mstate_global->__pyx_codeobj__38
 #define __pyx_codeobj__41 __pyx_mstate_global->__pyx_codeobj__41
 #define __pyx_codeobj__44 __pyx_mstate_global->__pyx_codeobj__44
 #define __pyx_codeobj__45 __pyx_mstate_global->__pyx_codeobj__45
-#define __pyx_codeobj__47 __pyx_mstate_global->__pyx_codeobj__47
+#define __pyx_codeobj__46 __pyx_mstate_global->__pyx_codeobj__46
+#define __pyx_codeobj__48 __pyx_mstate_global->__pyx_codeobj__48
 /* #### Code section: module_code ### */
 
 /* "av/codec/context.pyx":23
  * 
  * 
  * cdef CodecContext wrap_codec_context(lib.AVCodecContext *c_ctx, const lib.AVCodec *c_codec):             # <<<<<<<<<<<<<<
  *     """Build an av.CodecContext for an existing AVCodecContext."""
@@ -10863,15 +10917,15 @@
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "av/codec/context.pyx":511
  *                 self._setup_decoded_frame(frame, packet)
  *             res.append(frame)
  *         return res             # <<<<<<<<<<<<<<
  * 
- *     cdef _setup_decoded_frame(self, Frame frame, Packet packet):
+ *     cpdef flush_buffers(self):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_res);
   __pyx_r = __pyx_v_res;
   goto __pyx_L0;
 
   /* "av/codec/context.pyx":492
@@ -11031,80 +11085,321 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "av/codec/context.pyx":513
  *         return res
  * 
+ *     cpdef flush_buffers(self):             # <<<<<<<<<<<<<<
+ *         """Reset the internal codec state and discard all internal buffers.
+ * 
+ */
+
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_33flush_buffers(PyObject *__pyx_v_self, 
+#if CYTHON_METH_FASTCALL
+PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
+#else
+PyObject *__pyx_args, PyObject *__pyx_kwds
+#endif
+); /*proto*/
+static PyObject *__pyx_f_2av_5codec_7context_12CodecContext_flush_buffers(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_skip_dispatch) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  PyObject *__pyx_t_3 = NULL;
+  PyObject *__pyx_t_4 = NULL;
+  int __pyx_t_5;
+  int __pyx_t_6;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("flush_buffers", 1);
+  /* Check if called by wrapper */
+  if (unlikely(__pyx_skip_dispatch)) ;
+  /* Check if overridden in Python */
+  else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || __Pyx_PyType_HasFeature(Py_TYPE(((PyObject *)__pyx_v_self)), (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
+    #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
+    static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
+    if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
+      PY_UINT64_T __pyx_typedict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
+      #endif
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_flush_buffers); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 513, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_1);
+      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5codec_7context_12CodecContext_33flush_buffers)) {
+        __Pyx_XDECREF(__pyx_r);
+        __Pyx_INCREF(__pyx_t_1);
+        __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
+        __pyx_t_5 = 0;
+        #if CYTHON_UNPACK_METHODS
+        if (unlikely(PyMethod_Check(__pyx_t_3))) {
+          __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
+          if (likely(__pyx_t_4)) {
+            PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+            __Pyx_INCREF(__pyx_t_4);
+            __Pyx_INCREF(function);
+            __Pyx_DECREF_SET(__pyx_t_3, function);
+            __pyx_t_5 = 1;
+          }
+        }
+        #endif
+        {
+          PyObject *__pyx_callargs[2] = {__pyx_t_4, NULL};
+          __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 0+__pyx_t_5);
+          __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 513, __pyx_L1_error)
+          __Pyx_GOTREF(__pyx_t_2);
+          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+        }
+        __pyx_r = __pyx_t_2;
+        __pyx_t_2 = 0;
+        __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+        goto __pyx_L0;
+      }
+      #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
+      __pyx_tp_dict_version = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
+      __pyx_obj_dict_version = __Pyx_get_object_dict_version(((PyObject *)__pyx_v_self));
+      if (unlikely(__pyx_typedict_guard != __pyx_tp_dict_version)) {
+        __pyx_tp_dict_version = __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
+      }
+      #endif
+      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+      #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
+    }
+    #endif
+  }
+
+  /* "av/codec/context.pyx":520
+ * 
+ *         """
+ *         if self.is_open:             # <<<<<<<<<<<<<<
+ *             with nogil:
+ *                 lib.avcodec_flush_buffers(self.ptr)
+ */
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_is_open); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 520, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely((__pyx_t_6 < 0))) __PYX_ERR(0, 520, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  if (__pyx_t_6) {
+
+    /* "av/codec/context.pyx":521
+ *         """
+ *         if self.is_open:
+ *             with nogil:             # <<<<<<<<<<<<<<
+ *                 lib.avcodec_flush_buffers(self.ptr)
+ * 
+ */
+    {
+        #ifdef WITH_THREAD
+        PyThreadState *_save;
+        _save = NULL;
+        Py_UNBLOCK_THREADS
+        __Pyx_FastGIL_Remember();
+        #endif
+        /*try:*/ {
+
+          /* "av/codec/context.pyx":522
+ *         if self.is_open:
+ *             with nogil:
+ *                 lib.avcodec_flush_buffers(self.ptr)             # <<<<<<<<<<<<<<
+ * 
+ *     cdef _setup_decoded_frame(self, Frame frame, Packet packet):
+ */
+          avcodec_flush_buffers(__pyx_v_self->ptr);
+        }
+
+        /* "av/codec/context.pyx":521
+ *         """
+ *         if self.is_open:
+ *             with nogil:             # <<<<<<<<<<<<<<
+ *                 lib.avcodec_flush_buffers(self.ptr)
+ * 
+ */
+        /*finally:*/ {
+          /*normal exit:*/{
+            #ifdef WITH_THREAD
+            __Pyx_FastGIL_Forget();
+            Py_BLOCK_THREADS
+            #endif
+            goto __pyx_L6;
+          }
+          __pyx_L6:;
+        }
+    }
+
+    /* "av/codec/context.pyx":520
+ * 
+ *         """
+ *         if self.is_open:             # <<<<<<<<<<<<<<
+ *             with nogil:
+ *                 lib.avcodec_flush_buffers(self.ptr)
+ */
+  }
+
+  /* "av/codec/context.pyx":513
+ *         return res
+ * 
+ *     cpdef flush_buffers(self):             # <<<<<<<<<<<<<<
+ *         """Reset the internal codec state and discard all internal buffers.
+ * 
+ */
+
+  /* function exit code */
+  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_XDECREF(__pyx_t_4);
+  __Pyx_AddTraceback("av.codec.context.CodecContext.flush_buffers", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = 0;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* Python wrapper */
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_33flush_buffers(PyObject *__pyx_v_self, 
+#if CYTHON_METH_FASTCALL
+PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
+#else
+PyObject *__pyx_args, PyObject *__pyx_kwds
+#endif
+); /*proto*/
+PyDoc_STRVAR(__pyx_doc_2av_5codec_7context_12CodecContext_32flush_buffers, "CodecContext.flush_buffers()\nReset the internal codec state and discard all internal buffers.\n\n        Should be called before you start decoding from a new position e.g.\n        when seeking or when switching to a different stream.\n\n        ");
+static PyMethodDef __pyx_mdef_2av_5codec_7context_12CodecContext_33flush_buffers = {"flush_buffers", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_33flush_buffers, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_32flush_buffers};
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_33flush_buffers(PyObject *__pyx_v_self, 
+#if CYTHON_METH_FASTCALL
+PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
+#else
+PyObject *__pyx_args, PyObject *__pyx_kwds
+#endif
+) {
+  #if !CYTHON_METH_FASTCALL
+  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
+  #endif
+  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("flush_buffers (wrapper)", 0);
+  #if !CYTHON_METH_FASTCALL
+  #if CYTHON_ASSUME_SAFE_MACROS
+  __pyx_nargs = PyTuple_GET_SIZE(__pyx_args);
+  #else
+  __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
+  #endif
+  #endif
+  __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
+  if (unlikely(__pyx_nargs > 0)) {
+    __Pyx_RaiseArgtupleInvalid("flush_buffers", 1, 0, 0, __pyx_nargs); return NULL;}
+  if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "flush_buffers", 0))) return NULL;
+  __pyx_r = __pyx_pf_2av_5codec_7context_12CodecContext_32flush_buffers(((struct __pyx_obj_2av_5codec_7context_CodecContext *)__pyx_v_self));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_32flush_buffers(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("flush_buffers", 1);
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = __pyx_f_2av_5codec_7context_12CodecContext_flush_buffers(__pyx_v_self, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 513, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_r = __pyx_t_1;
+  __pyx_t_1 = 0;
+  goto __pyx_L0;
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_AddTraceback("av.codec.context.CodecContext.flush_buffers", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "av/codec/context.pyx":524
+ *                 lib.avcodec_flush_buffers(self.ptr)
+ * 
  *     cdef _setup_decoded_frame(self, Frame frame, Packet packet):             # <<<<<<<<<<<<<<
  * 
  *         # Propagate our manual times.
  */
 
 static PyObject *__pyx_f_2av_5codec_7context_12CodecContext__setup_decoded_frame(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_frame, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   AVRational __pyx_t_2;
   __Pyx_RefNannySetupContext("_setup_decoded_frame", 1);
 
-  /* "av/codec/context.pyx":520
+  /* "av/codec/context.pyx":531
  *         # TODO: Somehow get this from the stream so we can not pass the
  *         # packet here (because flushing packets are bogus).
  *         if packet is not None:             # <<<<<<<<<<<<<<
  *             frame._time_base = packet._time_base
  * 
  */
   __pyx_t_1 = (((PyObject *)__pyx_v_packet) != Py_None);
   if (__pyx_t_1) {
 
-    /* "av/codec/context.pyx":521
+    /* "av/codec/context.pyx":532
  *         # packet here (because flushing packets are bogus).
  *         if packet is not None:
  *             frame._time_base = packet._time_base             # <<<<<<<<<<<<<<
  * 
  *         frame.index = self.ptr.frame_number - 1
  */
     __pyx_t_2 = __pyx_v_packet->_time_base;
     __pyx_v_frame->_time_base = __pyx_t_2;
 
-    /* "av/codec/context.pyx":520
+    /* "av/codec/context.pyx":531
  *         # TODO: Somehow get this from the stream so we can not pass the
  *         # packet here (because flushing packets are bogus).
  *         if packet is not None:             # <<<<<<<<<<<<<<
  *             frame._time_base = packet._time_base
  * 
  */
   }
 
-  /* "av/codec/context.pyx":523
+  /* "av/codec/context.pyx":534
  *             frame._time_base = packet._time_base
  * 
  *         frame.index = self.ptr.frame_number - 1             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __pyx_v_frame->index = (__pyx_v_self->ptr->frame_number - 1);
 
-  /* "av/codec/context.pyx":513
- *         return res
+  /* "av/codec/context.pyx":524
+ *                 lib.avcodec_flush_buffers(self.ptr)
  * 
  *     cdef _setup_decoded_frame(self, Frame frame, Packet packet):             # <<<<<<<<<<<<<<
  * 
  *         # Propagate our manual times.
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":525
+/* "av/codec/context.pyx":536
  *         frame.index = self.ptr.frame_number - 1
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def name(self):
  *         return self.codec.name
  */
 
@@ -11128,29 +11423,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":527
+  /* "av/codec/context.pyx":538
  *     @property
  *     def name(self):
  *         return self.codec.name             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codec), __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 527, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codec), __pyx_n_s_name); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 538, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":525
+  /* "av/codec/context.pyx":536
  *         frame.index = self.ptr.frame_number - 1
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def name(self):
  *         return self.codec.name
  */
 
@@ -11161,15 +11456,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":529
+/* "av/codec/context.pyx":540
  *         return self.codec.name
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         return self.codec.type
  */
 
@@ -11193,29 +11488,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":531
+  /* "av/codec/context.pyx":542
  *     @property
  *     def type(self):
  *         return self.codec.type             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codec), __pyx_n_s_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 531, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codec), __pyx_n_s_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 542, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":529
+  /* "av/codec/context.pyx":540
  *         return self.codec.name
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         return self.codec.type
  */
 
@@ -11226,15 +11521,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":533
+/* "av/codec/context.pyx":544
  *         return self.codec.type
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def profile(self):
  *         if self.ptr.codec and lib.av_get_profile_name(self.ptr.codec, self.ptr.profile):
  */
 
@@ -11260,15 +11555,15 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":535
+  /* "av/codec/context.pyx":546
  *     @property
  *     def profile(self):
  *         if self.ptr.codec and lib.av_get_profile_name(self.ptr.codec, self.ptr.profile):             # <<<<<<<<<<<<<<
  *             return lib.av_get_profile_name(self.ptr.codec, self.ptr.profile)
  * 
  */
   __pyx_t_2 = (__pyx_v_self->ptr->codec != 0);
@@ -11278,38 +11573,38 @@
     goto __pyx_L4_bool_binop_done;
   }
   __pyx_t_2 = (av_get_profile_name(__pyx_v_self->ptr->codec, __pyx_v_self->ptr->profile) != 0);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (__pyx_t_1) {
 
-    /* "av/codec/context.pyx":536
+    /* "av/codec/context.pyx":547
  *     def profile(self):
  *         if self.ptr.codec and lib.av_get_profile_name(self.ptr.codec, self.ptr.profile):
  *             return lib.av_get_profile_name(self.ptr.codec, self.ptr.profile)             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = __Pyx_PyStr_FromString(av_get_profile_name(__pyx_v_self->ptr->codec, __pyx_v_self->ptr->profile)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 536, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyStr_FromString(av_get_profile_name(__pyx_v_self->ptr->codec, __pyx_v_self->ptr->profile)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 547, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_r = __pyx_t_3;
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "av/codec/context.pyx":535
+    /* "av/codec/context.pyx":546
  *     @property
  *     def profile(self):
  *         if self.ptr.codec and lib.av_get_profile_name(self.ptr.codec, self.ptr.profile):             # <<<<<<<<<<<<<<
  *             return lib.av_get_profile_name(self.ptr.codec, self.ptr.profile)
  * 
  */
   }
 
-  /* "av/codec/context.pyx":533
+  /* "av/codec/context.pyx":544
  *         return self.codec.type
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def profile(self):
  *         if self.ptr.codec and lib.av_get_profile_name(self.ptr.codec, self.ptr.profile):
  */
 
@@ -11322,15 +11617,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":538
+/* "av/codec/context.pyx":549
  *             return lib.av_get_profile_name(self.ptr.codec, self.ptr.profile)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def time_base(self):
  *         if self.is_decoder:
  */
 
@@ -11359,48 +11654,48 @@
   PyObject *__pyx_t_5 = NULL;
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":540
+  /* "av/codec/context.pyx":551
  *     @property
  *     def time_base(self):
  *         if self.is_decoder:             # <<<<<<<<<<<<<<
  *             warnings.warn(
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_is_decoder); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 540, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_is_decoder); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 551, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely((__pyx_t_2 < 0))) __PYX_ERR(0, 540, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely((__pyx_t_2 < 0))) __PYX_ERR(0, 551, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
-    /* "av/codec/context.pyx":541
+    /* "av/codec/context.pyx":552
  *     def time_base(self):
  *         if self.is_decoder:
  *             warnings.warn(             # <<<<<<<<<<<<<<
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  *                 AVDeprecationWarning
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_warnings); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 541, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_warnings); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 552, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_warn); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 541, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_warn); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 552, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "av/codec/context.pyx":543
+    /* "av/codec/context.pyx":554
  *             warnings.warn(
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  *                 AVDeprecationWarning             # <<<<<<<<<<<<<<
  *             )
  *         return avrational_to_fraction(&self.ptr.time_base)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_AVDeprecationWarning); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 543, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_AVDeprecationWarning); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 554, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_5 = NULL;
     __pyx_t_6 = 0;
     #if CYTHON_UNPACK_METHODS
     if (unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_5)) {
@@ -11413,44 +11708,44 @@
     }
     #endif
     {
       PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_kp_s_Using_CodecContext_time_base_for, __pyx_t_3};
       __pyx_t_1 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 541, __pyx_L1_error)
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 552, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     }
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "av/codec/context.pyx":540
+    /* "av/codec/context.pyx":551
  *     @property
  *     def time_base(self):
  *         if self.is_decoder:             # <<<<<<<<<<<<<<
  *             warnings.warn(
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  */
   }
 
-  /* "av/codec/context.pyx":545
+  /* "av/codec/context.pyx":556
  *                 AVDeprecationWarning
  *             )
  *         return avrational_to_fraction(&self.ptr.time_base)             # <<<<<<<<<<<<<<
  * 
  *     @time_base.setter
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 545, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 556, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":538
+  /* "av/codec/context.pyx":549
  *             return lib.av_get_profile_name(self.ptr.codec, self.ptr.profile)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def time_base(self):
  *         if self.is_decoder:
  */
 
@@ -11464,15 +11759,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":547
+/* "av/codec/context.pyx":558
  *         return avrational_to_fraction(&self.ptr.time_base)
  * 
  *     @time_base.setter             # <<<<<<<<<<<<<<
  *     def time_base(self, value):
  *         if self.is_decoder:
  */
 
@@ -11501,48 +11796,48 @@
   PyObject *__pyx_t_5 = NULL;
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 1);
 
-  /* "av/codec/context.pyx":549
+  /* "av/codec/context.pyx":560
  *     @time_base.setter
  *     def time_base(self, value):
  *         if self.is_decoder:             # <<<<<<<<<<<<<<
  *             warnings.warn(
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_is_decoder); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 549, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_is_decoder); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 560, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely((__pyx_t_2 < 0))) __PYX_ERR(0, 549, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely((__pyx_t_2 < 0))) __PYX_ERR(0, 560, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
-    /* "av/codec/context.pyx":550
+    /* "av/codec/context.pyx":561
  *     def time_base(self, value):
  *         if self.is_decoder:
  *             warnings.warn(             # <<<<<<<<<<<<<<
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  *                 AVDeprecationWarning
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_warnings); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 550, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_warnings); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 561, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_warn); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 550, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_warn); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 561, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "av/codec/context.pyx":552
+    /* "av/codec/context.pyx":563
  *             warnings.warn(
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  *                 AVDeprecationWarning             # <<<<<<<<<<<<<<
  *             )
  *         to_avrational(value, &self.ptr.time_base)
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_AVDeprecationWarning); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 552, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_AVDeprecationWarning); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 563, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_5 = NULL;
     __pyx_t_6 = 0;
     #if CYTHON_UNPACK_METHODS
     if (unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_5)) {
@@ -11555,41 +11850,41 @@
     }
     #endif
     {
       PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_kp_s_Using_CodecContext_time_base_for, __pyx_t_3};
       __pyx_t_1 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 550, __pyx_L1_error)
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 561, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     }
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "av/codec/context.pyx":549
+    /* "av/codec/context.pyx":560
  *     @time_base.setter
  *     def time_base(self, value):
  *         if self.is_decoder:             # <<<<<<<<<<<<<<
  *             warnings.warn(
  *                 "Using CodecContext.time_base for decoders is deprecated.",
  */
   }
 
-  /* "av/codec/context.pyx":554
+  /* "av/codec/context.pyx":565
  *                 AVDeprecationWarning
  *             )
  *         to_avrational(value, &self.ptr.time_base)             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
-  __pyx_t_1 = __pyx_f_2av_5utils_to_avrational(__pyx_v_value, (&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 554, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_to_avrational(__pyx_v_value, (&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 565, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "av/codec/context.pyx":547
+  /* "av/codec/context.pyx":558
  *         return avrational_to_fraction(&self.ptr.time_base)
  * 
  *     @time_base.setter             # <<<<<<<<<<<<<<
  *     def time_base(self, value):
  *         if self.is_decoder:
  */
 
@@ -11604,15 +11899,15 @@
   __Pyx_AddTraceback("av.codec.context.CodecContext.time_base.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":556
+/* "av/codec/context.pyx":567
  *         to_avrational(value, &self.ptr.time_base)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def codec_tag(self):
  *         return self.ptr.codec_tag.to_bytes(4, byteorder="little", signed=False).decode(
  */
 
@@ -11638,66 +11933,66 @@
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":558
+  /* "av/codec/context.pyx":569
  *     @property
  *     def codec_tag(self):
  *         return self.ptr.codec_tag.to_bytes(4, byteorder="little", signed=False).decode(             # <<<<<<<<<<<<<<
  *             encoding="ascii")
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ptr->codec_tag); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 558, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_unsigned_int(__pyx_v_self->ptr->codec_tag); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_to_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 558, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_to_bytes); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 558, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_byteorder, __pyx_n_s_little) < 0) __PYX_ERR(0, 558, __pyx_L1_error)
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_signed, Py_False) < 0) __PYX_ERR(0, 558, __pyx_L1_error)
-  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__16, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 558, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_byteorder, __pyx_n_s_little) < 0) __PYX_ERR(0, 569, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_signed, Py_False) < 0) __PYX_ERR(0, 569, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__16, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 558, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/codec/context.pyx":559
+  /* "av/codec/context.pyx":570
  *     def codec_tag(self):
  *         return self.ptr.codec_tag.to_bytes(4, byteorder="little", signed=False).decode(
  *             encoding="ascii")             # <<<<<<<<<<<<<<
  * 
  *     @codec_tag.setter
  */
-  __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 559, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 570, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_encoding, __pyx_n_s_ascii) < 0) __PYX_ERR(0, 559, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_3, __pyx_n_s_encoding, __pyx_n_s_ascii) < 0) __PYX_ERR(0, 570, __pyx_L1_error)
 
-  /* "av/codec/context.pyx":558
+  /* "av/codec/context.pyx":569
  *     @property
  *     def codec_tag(self):
  *         return self.ptr.codec_tag.to_bytes(4, byteorder="little", signed=False).decode(             # <<<<<<<<<<<<<<
  *             encoding="ascii")
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_empty_tuple, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 558, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_1, __pyx_empty_tuple, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":556
+  /* "av/codec/context.pyx":567
  *         to_avrational(value, &self.ptr.time_base)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def codec_tag(self):
  *         return self.ptr.codec_tag.to_bytes(4, byteorder="little", signed=False).decode(
  */
 
@@ -11710,15 +12005,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":561
+/* "av/codec/context.pyx":572
  *             encoding="ascii")
  * 
  *     @codec_tag.setter             # <<<<<<<<<<<<<<
  *     def codec_tag(self, value):
  *         if isinstance(value, str) and len(value) == 4:
  */
 
@@ -11749,112 +12044,112 @@
   PyObject *__pyx_t_7 = NULL;
   unsigned int __pyx_t_8;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 1);
 
-  /* "av/codec/context.pyx":563
+  /* "av/codec/context.pyx":574
  *     @codec_tag.setter
  *     def codec_tag(self, value):
  *         if isinstance(value, str) and len(value) == 4:             # <<<<<<<<<<<<<<
  *             self.ptr.codec_tag = int.from_bytes(value.encode(encoding="ascii"),
  *                                                 byteorder="little", signed=False)
  */
   __pyx_t_2 = PyString_Check(__pyx_v_value); 
   if (__pyx_t_2) {
   } else {
     __pyx_t_1 = __pyx_t_2;
     goto __pyx_L4_bool_binop_done;
   }
-  __pyx_t_3 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 563, __pyx_L1_error)
+  __pyx_t_3 = PyObject_Length(__pyx_v_value); if (unlikely(__pyx_t_3 == ((Py_ssize_t)-1))) __PYX_ERR(0, 574, __pyx_L1_error)
   __pyx_t_2 = (__pyx_t_3 == 4);
   __pyx_t_1 = __pyx_t_2;
   __pyx_L4_bool_binop_done:;
   if (likely(__pyx_t_1)) {
 
-    /* "av/codec/context.pyx":564
+    /* "av/codec/context.pyx":575
  *     def codec_tag(self, value):
  *         if isinstance(value, str) and len(value) == 4:
  *             self.ptr.codec_tag = int.from_bytes(value.encode(encoding="ascii"),             # <<<<<<<<<<<<<<
  *                                                 byteorder="little", signed=False)
  *         else:
  */
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)(&PyInt_Type)), __pyx_n_s_from_bytes); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 564, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)(&PyInt_Type)), __pyx_n_s_from_bytes); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 564, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_v_value, __pyx_n_s_encode); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_6 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 564, __pyx_L1_error)
+    __pyx_t_6 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
-    if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_encoding, __pyx_n_s_ascii) < 0) __PYX_ERR(0, 564, __pyx_L1_error)
-    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_empty_tuple, __pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 564, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_t_6, __pyx_n_s_encoding, __pyx_n_s_ascii) < 0) __PYX_ERR(0, 575, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_empty_tuple, __pyx_t_6); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 564, __pyx_L1_error)
+    __pyx_t_6 = PyTuple_New(1); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_6);
     __Pyx_GIVEREF(__pyx_t_7);
-    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_7)) __PYX_ERR(0, 564, __pyx_L1_error);
+    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_7)) __PYX_ERR(0, 575, __pyx_L1_error);
     __pyx_t_7 = 0;
 
-    /* "av/codec/context.pyx":565
+    /* "av/codec/context.pyx":576
  *         if isinstance(value, str) and len(value) == 4:
  *             self.ptr.codec_tag = int.from_bytes(value.encode(encoding="ascii"),
  *                                                 byteorder="little", signed=False)             # <<<<<<<<<<<<<<
  *         else:
  *             raise ValueError("Codec tag should be a 4 character string.")
  */
-    __pyx_t_7 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 565, __pyx_L1_error)
+    __pyx_t_7 = __Pyx_PyDict_NewPresized(2); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 576, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_7);
-    if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_byteorder, __pyx_n_s_little) < 0) __PYX_ERR(0, 565, __pyx_L1_error)
-    if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_signed, Py_False) < 0) __PYX_ERR(0, 565, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_byteorder, __pyx_n_s_little) < 0) __PYX_ERR(0, 576, __pyx_L1_error)
+    if (PyDict_SetItem(__pyx_t_7, __pyx_n_s_signed, Py_False) < 0) __PYX_ERR(0, 576, __pyx_L1_error)
 
-    /* "av/codec/context.pyx":564
+    /* "av/codec/context.pyx":575
  *     def codec_tag(self, value):
  *         if isinstance(value, str) and len(value) == 4:
  *             self.ptr.codec_tag = int.from_bytes(value.encode(encoding="ascii"),             # <<<<<<<<<<<<<<
  *                                                 byteorder="little", signed=False)
  *         else:
  */
-    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 564, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_6, __pyx_t_7); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-    __pyx_t_8 = __Pyx_PyInt_As_unsigned_int(__pyx_t_5); if (unlikely((__pyx_t_8 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 564, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyInt_As_unsigned_int(__pyx_t_5); if (unlikely((__pyx_t_8 == (unsigned int)-1) && PyErr_Occurred())) __PYX_ERR(0, 575, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __pyx_v_self->ptr->codec_tag = __pyx_t_8;
 
-    /* "av/codec/context.pyx":563
+    /* "av/codec/context.pyx":574
  *     @codec_tag.setter
  *     def codec_tag(self, value):
  *         if isinstance(value, str) and len(value) == 4:             # <<<<<<<<<<<<<<
  *             self.ptr.codec_tag = int.from_bytes(value.encode(encoding="ascii"),
  *                                                 byteorder="little", signed=False)
  */
     goto __pyx_L3;
   }
 
-  /* "av/codec/context.pyx":567
+  /* "av/codec/context.pyx":578
  *                                                 byteorder="little", signed=False)
  *         else:
  *             raise ValueError("Codec tag should be a 4 character string.")             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   /*else*/ {
-    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__17, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 567, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple__17, NULL); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 578, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_Raise(__pyx_t_5, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    __PYX_ERR(0, 567, __pyx_L1_error)
+    __PYX_ERR(0, 578, __pyx_L1_error)
   }
   __pyx_L3:;
 
-  /* "av/codec/context.pyx":561
+  /* "av/codec/context.pyx":572
  *             encoding="ascii")
  * 
  *     @codec_tag.setter             # <<<<<<<<<<<<<<
  *     def codec_tag(self, value):
  *         if isinstance(value, str) and len(value) == 4:
  */
 
@@ -11869,15 +12164,15 @@
   __Pyx_AddTraceback("av.codec.context.CodecContext.codec_tag.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":569
+/* "av/codec/context.pyx":580
  *             raise ValueError("Codec tag should be a 4 character string.")
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def ticks_per_frame(self):
  *         return self.ptr.ticks_per_frame
  */
 
@@ -11901,29 +12196,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":571
+  /* "av/codec/context.pyx":582
  *     @property
  *     def ticks_per_frame(self):
  *         return self.ptr.ticks_per_frame             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->ticks_per_frame); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 571, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->ticks_per_frame); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 582, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":569
+  /* "av/codec/context.pyx":580
  *             raise ValueError("Codec tag should be a 4 character string.")
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def ticks_per_frame(self):
  *         return self.ptr.ticks_per_frame
  */
 
@@ -11934,15 +12229,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":573
+/* "av/codec/context.pyx":584
  *         return self.ptr.ticks_per_frame
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def bit_rate(self):
  *         return self.ptr.bit_rate if self.ptr.bit_rate > 0 else None
  */
 
@@ -11968,37 +12263,37 @@
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":575
+  /* "av/codec/context.pyx":586
  *     @property
  *     def bit_rate(self):
  *         return self.ptr.bit_rate if self.ptr.bit_rate > 0 else None             # <<<<<<<<<<<<<<
  * 
  *     @bit_rate.setter
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2 = (__pyx_v_self->ptr->bit_rate > 0);
   if (__pyx_t_2) {
-    __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->bit_rate); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 575, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->bit_rate); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 586, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __pyx_t_1 = __pyx_t_3;
     __pyx_t_3 = 0;
   } else {
     __Pyx_INCREF(Py_None);
     __pyx_t_1 = Py_None;
   }
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":573
+  /* "av/codec/context.pyx":584
  *         return self.ptr.ticks_per_frame
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def bit_rate(self):
  *         return self.ptr.bit_rate if self.ptr.bit_rate > 0 else None
  */
 
@@ -12010,15 +12305,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":577
+/* "av/codec/context.pyx":588
  *         return self.ptr.bit_rate if self.ptr.bit_rate > 0 else None
  * 
  *     @bit_rate.setter             # <<<<<<<<<<<<<<
  *     def bit_rate(self, int value):
  *         self.ptr.bit_rate = value
  */
 
@@ -12031,15 +12326,15 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
   assert(__pyx_arg_value); {
-    __pyx_v_value = __Pyx_PyInt_As_int(__pyx_arg_value); if (unlikely((__pyx_v_value == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 578, __pyx_L3_error)
+    __pyx_v_value = __Pyx_PyInt_As_int(__pyx_arg_value); if (unlikely((__pyx_v_value == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 589, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("av.codec.context.CodecContext.bit_rate.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
@@ -12049,37 +12344,37 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static int __pyx_pf_2av_5codec_7context_12CodecContext_8bit_rate_2__set__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_v_value) {
   int __pyx_r;
 
-  /* "av/codec/context.pyx":579
+  /* "av/codec/context.pyx":590
  *     @bit_rate.setter
  *     def bit_rate(self, int value):
  *         self.ptr.bit_rate = value             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __pyx_v_self->ptr->bit_rate = __pyx_v_value;
 
-  /* "av/codec/context.pyx":577
+  /* "av/codec/context.pyx":588
  *         return self.ptr.bit_rate if self.ptr.bit_rate > 0 else None
  * 
  *     @bit_rate.setter             # <<<<<<<<<<<<<<
  *     def bit_rate(self, int value):
  *         self.ptr.bit_rate = value
  */
 
   /* function exit code */
   __pyx_r = 0;
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":581
+/* "av/codec/context.pyx":592
  *         self.ptr.bit_rate = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def max_bit_rate(self):
  *         if self.ptr.rc_max_rate > 0:
  */
 
@@ -12104,61 +12399,61 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":583
+  /* "av/codec/context.pyx":594
  *     @property
  *     def max_bit_rate(self):
  *         if self.ptr.rc_max_rate > 0:             # <<<<<<<<<<<<<<
  *             return self.ptr.rc_max_rate
  *         else:
  */
   __pyx_t_1 = (__pyx_v_self->ptr->rc_max_rate > 0);
   if (__pyx_t_1) {
 
-    /* "av/codec/context.pyx":584
+    /* "av/codec/context.pyx":595
  *     def max_bit_rate(self):
  *         if self.ptr.rc_max_rate > 0:
  *             return self.ptr.rc_max_rate             # <<<<<<<<<<<<<<
  *         else:
  *             return None
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->rc_max_rate); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 584, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->rc_max_rate); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 595, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "av/codec/context.pyx":583
+    /* "av/codec/context.pyx":594
  *     @property
  *     def max_bit_rate(self):
  *         if self.ptr.rc_max_rate > 0:             # <<<<<<<<<<<<<<
  *             return self.ptr.rc_max_rate
  *         else:
  */
   }
 
-  /* "av/codec/context.pyx":586
+  /* "av/codec/context.pyx":597
  *             return self.ptr.rc_max_rate
  *         else:
  *             return None             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
   }
 
-  /* "av/codec/context.pyx":581
+  /* "av/codec/context.pyx":592
  *         self.ptr.bit_rate = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def max_bit_rate(self):
  *         if self.ptr.rc_max_rate > 0:
  */
 
@@ -12169,15 +12464,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":588
+/* "av/codec/context.pyx":599
  *             return None
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def bit_rate_tolerance(self):
  *         self.ptr.bit_rate_tolerance
  */
 
@@ -12197,39 +12492,39 @@
 }
 
 static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_18bit_rate_tolerance___get__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":590
+  /* "av/codec/context.pyx":601
  *     @property
  *     def bit_rate_tolerance(self):
  *         self.ptr.bit_rate_tolerance             # <<<<<<<<<<<<<<
  * 
  *     @bit_rate_tolerance.setter
  */
   (void)(__pyx_v_self->ptr->bit_rate_tolerance);
 
-  /* "av/codec/context.pyx":588
+  /* "av/codec/context.pyx":599
  *             return None
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def bit_rate_tolerance(self):
  *         self.ptr.bit_rate_tolerance
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":592
+/* "av/codec/context.pyx":603
  *         self.ptr.bit_rate_tolerance
  * 
  *     @bit_rate_tolerance.setter             # <<<<<<<<<<<<<<
  *     def bit_rate_tolerance(self, int value):
  *         self.ptr.bit_rate_tolerance = value
  */
 
@@ -12242,15 +12537,15 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
   assert(__pyx_arg_value); {
-    __pyx_v_value = __Pyx_PyInt_As_int(__pyx_arg_value); if (unlikely((__pyx_v_value == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 593, __pyx_L3_error)
+    __pyx_v_value = __Pyx_PyInt_As_int(__pyx_arg_value); if (unlikely((__pyx_v_value == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 604, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("av.codec.context.CodecContext.bit_rate_tolerance.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
@@ -12260,37 +12555,37 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static int __pyx_pf_2av_5codec_7context_12CodecContext_18bit_rate_tolerance_2__set__(struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, int __pyx_v_value) {
   int __pyx_r;
 
-  /* "av/codec/context.pyx":594
+  /* "av/codec/context.pyx":605
  *     @bit_rate_tolerance.setter
  *     def bit_rate_tolerance(self, int value):
  *         self.ptr.bit_rate_tolerance = value             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __pyx_v_self->ptr->bit_rate_tolerance = __pyx_v_value;
 
-  /* "av/codec/context.pyx":592
+  /* "av/codec/context.pyx":603
  *         self.ptr.bit_rate_tolerance
  * 
  *     @bit_rate_tolerance.setter             # <<<<<<<<<<<<<<
  *     def bit_rate_tolerance(self, int value):
  *         self.ptr.bit_rate_tolerance = value
  */
 
   /* function exit code */
   __pyx_r = 0;
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":596
+/* "av/codec/context.pyx":607
  *         self.ptr.bit_rate_tolerance = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def thread_count(self):
  *         """How many threads to use; 0 means auto.
  */
 
@@ -12314,29 +12609,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":603
+  /* "av/codec/context.pyx":614
  * 
  *         """
  *         return self.ptr.thread_count             # <<<<<<<<<<<<<<
  * 
  *     @thread_count.setter
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->thread_count); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 603, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->thread_count); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 614, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":596
+  /* "av/codec/context.pyx":607
  *         self.ptr.bit_rate_tolerance = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def thread_count(self):
  *         """How many threads to use; 0 means auto.
  */
 
@@ -12347,15 +12642,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":605
+/* "av/codec/context.pyx":616
  *         return self.ptr.thread_count
  * 
  *     @thread_count.setter             # <<<<<<<<<<<<<<
  *     def thread_count(self, int value):
  *         if lib.avcodec_is_open(self.ptr):
  */
 
@@ -12368,15 +12663,15 @@
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__set__ (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
   assert(__pyx_arg_value); {
-    __pyx_v_value = __Pyx_PyInt_As_int(__pyx_arg_value); if (unlikely((__pyx_v_value == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 606, __pyx_L3_error)
+    __pyx_v_value = __Pyx_PyInt_As_int(__pyx_arg_value); if (unlikely((__pyx_v_value == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 617, __pyx_L3_error)
   }
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   __Pyx_AddTraceback("av.codec.context.CodecContext.thread_count.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
@@ -12393,56 +12688,56 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 1);
 
-  /* "av/codec/context.pyx":607
+  /* "av/codec/context.pyx":618
  *     @thread_count.setter
  *     def thread_count(self, int value):
  *         if lib.avcodec_is_open(self.ptr):             # <<<<<<<<<<<<<<
  *             raise RuntimeError("Cannot change thread_count after codec is open.")
  *         self.ptr.thread_count = value
  */
   __pyx_t_1 = (avcodec_is_open(__pyx_v_self->ptr) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "av/codec/context.pyx":608
+    /* "av/codec/context.pyx":619
  *     def thread_count(self, int value):
  *         if lib.avcodec_is_open(self.ptr):
  *             raise RuntimeError("Cannot change thread_count after codec is open.")             # <<<<<<<<<<<<<<
  *         self.ptr.thread_count = value
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__18, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 608, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__18, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 619, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 608, __pyx_L1_error)
+    __PYX_ERR(0, 619, __pyx_L1_error)
 
-    /* "av/codec/context.pyx":607
+    /* "av/codec/context.pyx":618
  *     @thread_count.setter
  *     def thread_count(self, int value):
  *         if lib.avcodec_is_open(self.ptr):             # <<<<<<<<<<<<<<
  *             raise RuntimeError("Cannot change thread_count after codec is open.")
  *         self.ptr.thread_count = value
  */
   }
 
-  /* "av/codec/context.pyx":609
+  /* "av/codec/context.pyx":620
  *         if lib.avcodec_is_open(self.ptr):
  *             raise RuntimeError("Cannot change thread_count after codec is open.")
  *         self.ptr.thread_count = value             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __pyx_v_self->ptr->thread_count = __pyx_v_value;
 
-  /* "av/codec/context.pyx":605
+  /* "av/codec/context.pyx":616
  *         return self.ptr.thread_count
  * 
  *     @thread_count.setter             # <<<<<<<<<<<<<<
  *     def thread_count(self, int value):
  *         if lib.avcodec_is_open(self.ptr):
  */
 
@@ -12454,15 +12749,15 @@
   __Pyx_AddTraceback("av.codec.context.CodecContext.thread_count.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":611
+/* "av/codec/context.pyx":622
  *         self.ptr.thread_count = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def thread_type(self):
  *         """One of :class:`.ThreadType`.
  */
 
@@ -12489,47 +12784,47 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":618
+  /* "av/codec/context.pyx":629
  * 
  *         """
  *         return ThreadType.get(self.ptr.thread_type, create=True)             # <<<<<<<<<<<<<<
  * 
  *     @thread_type.setter
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_ThreadType); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_ThreadType); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_get); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->thread_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->thread_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1)) __PYX_ERR(0, 618, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1)) __PYX_ERR(0, 629, __pyx_L1_error);
   __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 618, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_create, Py_True) < 0) __PYX_ERR(0, 618, __pyx_L1_error)
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 618, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_create, Py_True) < 0) __PYX_ERR(0, 629, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 629, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":611
+  /* "av/codec/context.pyx":622
  *         self.ptr.thread_count = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def thread_type(self):
  *         """One of :class:`.ThreadType`.
  */
 
@@ -12543,15 +12838,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":620
+/* "av/codec/context.pyx":631
  *         return ThreadType.get(self.ptr.thread_type, create=True)
  * 
  *     @thread_type.setter             # <<<<<<<<<<<<<<
  *     def thread_type(self, value):
  *         if lib.avcodec_is_open(self.ptr):
  */
 
@@ -12578,66 +12873,66 @@
   PyObject *__pyx_t_3 = NULL;
   int __pyx_t_4;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 1);
 
-  /* "av/codec/context.pyx":622
+  /* "av/codec/context.pyx":633
  *     @thread_type.setter
  *     def thread_type(self, value):
  *         if lib.avcodec_is_open(self.ptr):             # <<<<<<<<<<<<<<
  *             raise RuntimeError("Cannot change thread_type after codec is open.")
  *         self.ptr.thread_type = ThreadType[value].value
  */
   __pyx_t_1 = (avcodec_is_open(__pyx_v_self->ptr) != 0);
   if (unlikely(__pyx_t_1)) {
 
-    /* "av/codec/context.pyx":623
+    /* "av/codec/context.pyx":634
  *     def thread_type(self, value):
  *         if lib.avcodec_is_open(self.ptr):
  *             raise RuntimeError("Cannot change thread_type after codec is open.")             # <<<<<<<<<<<<<<
  *         self.ptr.thread_type = ThreadType[value].value
  * 
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__19, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 623, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple__19, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 634, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 623, __pyx_L1_error)
+    __PYX_ERR(0, 634, __pyx_L1_error)
 
-    /* "av/codec/context.pyx":622
+    /* "av/codec/context.pyx":633
  *     @thread_type.setter
  *     def thread_type(self, value):
  *         if lib.avcodec_is_open(self.ptr):             # <<<<<<<<<<<<<<
  *             raise RuntimeError("Cannot change thread_type after codec is open.")
  *         self.ptr.thread_type = ThreadType[value].value
  */
   }
 
-  /* "av/codec/context.pyx":624
+  /* "av/codec/context.pyx":635
  *         if lib.avcodec_is_open(self.ptr):
  *             raise RuntimeError("Cannot change thread_type after codec is open.")
  *         self.ptr.thread_type = ThreadType[value].value             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ThreadType); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 624, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_ThreadType); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 635, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_3 = __Pyx_PyObject_GetItem(__pyx_t_2, __pyx_v_value); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 624, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetItem(__pyx_t_2, __pyx_v_value); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 635, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 624, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 635, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_2); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 624, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyInt_As_int(__pyx_t_2); if (unlikely((__pyx_t_4 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 635, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_v_self->ptr->thread_type = __pyx_t_4;
 
-  /* "av/codec/context.pyx":620
+  /* "av/codec/context.pyx":631
  *         return ThreadType.get(self.ptr.thread_type, create=True)
  * 
  *     @thread_type.setter             # <<<<<<<<<<<<<<
  *     def thread_type(self, value):
  *         if lib.avcodec_is_open(self.ptr):
  */
 
@@ -12650,15 +12945,15 @@
   __Pyx_AddTraceback("av.codec.context.CodecContext.thread_type.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":626
+/* "av/codec/context.pyx":637
  *         self.ptr.thread_type = ThreadType[value].value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def skip_frame(self):
  *         """One of :class:`.SkipType`.
  */
 
@@ -12685,47 +12980,47 @@
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":633
+  /* "av/codec/context.pyx":644
  * 
  *         """
  *         return SkipType._get(self.ptr.skip_frame, create=True)             # <<<<<<<<<<<<<<
  * 
  *     @skip_frame.setter
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_SkipType); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 633, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_SkipType); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_get_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 633, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_1, __pyx_n_s_get_2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 644, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyInt_From_enum__AVDiscard(__pyx_v_self->ptr->skip_frame); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 633, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_enum__AVDiscard(__pyx_v_self->ptr->skip_frame); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 633, __pyx_L1_error)
+  __pyx_t_3 = PyTuple_New(1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 644, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_1);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1)) __PYX_ERR(0, 633, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error);
   __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 633, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 644, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_create, Py_True) < 0) __PYX_ERR(0, 633, __pyx_L1_error)
-  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 633, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_t_1, __pyx_n_s_create, Py_True) < 0) __PYX_ERR(0, 644, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_3, __pyx_t_1); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 644, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":626
+  /* "av/codec/context.pyx":637
  *         self.ptr.thread_type = ThreadType[value].value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def skip_frame(self):
  *         """One of :class:`.SkipType`.
  */
 
@@ -12739,15 +13034,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":635
+/* "av/codec/context.pyx":646
  *         return SkipType._get(self.ptr.skip_frame, create=True)
  * 
  *     @skip_frame.setter             # <<<<<<<<<<<<<<
  *     def skip_frame(self, value):
  *         self.ptr.skip_frame = SkipType[value].value
  */
 
@@ -12773,34 +13068,34 @@
   PyObject *__pyx_t_2 = NULL;
   enum AVDiscard __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__set__", 1);
 
-  /* "av/codec/context.pyx":637
+  /* "av/codec/context.pyx":648
  *     @skip_frame.setter
  *     def skip_frame(self, value):
  *         self.ptr.skip_frame = SkipType[value].value             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_SkipType); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 637, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_1, __pyx_n_s_SkipType); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 648, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_t_1, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 637, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_t_1, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 648, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_value); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 637, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_value); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 648, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_3 = ((enum AVDiscard)__Pyx_PyInt_As_enum__AVDiscard(__pyx_t_1)); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 637, __pyx_L1_error)
+  __pyx_t_3 = ((enum AVDiscard)__Pyx_PyInt_As_enum__AVDiscard(__pyx_t_1)); if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 648, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_self->ptr->skip_frame = __pyx_t_3;
 
-  /* "av/codec/context.pyx":635
+  /* "av/codec/context.pyx":646
  *         return SkipType._get(self.ptr.skip_frame, create=True)
  * 
  *     @skip_frame.setter             # <<<<<<<<<<<<<<
  *     def skip_frame(self, value):
  *         self.ptr.skip_frame = SkipType[value].value
  */
 
@@ -12813,15 +13108,15 @@
   __Pyx_AddTraceback("av.codec.context.CodecContext.skip_frame.__set__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/codec/context.pyx":639
+/* "av/codec/context.pyx":650
  *         self.ptr.skip_frame = SkipType[value].value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def delay(self):
  *         """Codec delay.
  */
 
@@ -12845,27 +13140,27 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/codec/context.pyx":646
+  /* "av/codec/context.pyx":657
  * 
  *         """
  *         return self.ptr.delay             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->delay); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 646, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->delay); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 657, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/codec/context.pyx":639
+  /* "av/codec/context.pyx":650
  *         self.ptr.skip_frame = SkipType[value].value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def delay(self):
  *         """Codec delay.
  */
 
@@ -13036,24 +13331,24 @@
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_33__reduce_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_35__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5codec_7context_12CodecContext_32__reduce_cython__, "CodecContext.__reduce_cython__()");
-static PyMethodDef __pyx_mdef_2av_5codec_7context_12CodecContext_33__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_33__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_32__reduce_cython__};
-static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_33__reduce_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5codec_7context_12CodecContext_34__reduce_cython__, "CodecContext.__reduce_cython__()");
+static PyMethodDef __pyx_mdef_2av_5codec_7context_12CodecContext_35__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_35__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_34__reduce_cython__};
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_35__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   #if !CYTHON_METH_FASTCALL
@@ -13070,22 +13365,22 @@
   __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
   #endif
   #endif
   __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
   if (unlikely(__pyx_nargs > 0)) {
     __Pyx_RaiseArgtupleInvalid("__reduce_cython__", 1, 0, 0, __pyx_nargs); return NULL;}
   if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__reduce_cython__", 0))) return NULL;
-  __pyx_r = __pyx_pf_2av_5codec_7context_12CodecContext_32__reduce_cython__(((struct __pyx_obj_2av_5codec_7context_CodecContext *)__pyx_v_self));
+  __pyx_r = __pyx_pf_2av_5codec_7context_12CodecContext_34__reduce_cython__(((struct __pyx_obj_2av_5codec_7context_CodecContext *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_32__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self) {
+static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_34__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 1);
 
@@ -13117,24 +13412,24 @@
  * def __reduce_cython__(self):
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_35__setstate_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_37__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5codec_7context_12CodecContext_34__setstate_cython__, "CodecContext.__setstate_cython__(__pyx_state)");
-static PyMethodDef __pyx_mdef_2av_5codec_7context_12CodecContext_35__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_35__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_34__setstate_cython__};
-static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_35__setstate_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5codec_7context_12CodecContext_36__setstate_cython__, "CodecContext.__setstate_cython__(__pyx_state)");
+static PyMethodDef __pyx_mdef_2av_5codec_7context_12CodecContext_37__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_37__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_36__setstate_cython__};
+static PyObject *__pyx_pw_2av_5codec_7context_12CodecContext_37__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   CYTHON_UNUSED PyObject *__pyx_v___pyx_state = 0;
@@ -13200,28 +13495,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.codec.context.CodecContext.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_5codec_7context_12CodecContext_34__setstate_cython__(((struct __pyx_obj_2av_5codec_7context_CodecContext *)__pyx_v_self), __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_5codec_7context_12CodecContext_36__setstate_cython__(((struct __pyx_obj_2av_5codec_7context_CodecContext *)__pyx_v_self), __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_34__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_5codec_7context_12CodecContext_36__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 1);
 
@@ -13516,16 +13811,16 @@
   {"_set_flags", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_7_set_flags, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_6_set_flags},
   {"_get_flags2", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_9_get_flags2, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_8_get_flags2},
   {"_set_flags2", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_11_set_flags2, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_10_set_flags2},
   {"__repr__", (PyCFunction)__pyx_specialmethod___pyx_pw_2av_5codec_7context_12CodecContext_19__repr__, METH_NOARGS|METH_COEXIST, 0},
   {"parse", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_21parse, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_20parse},
   {"_send_frame_and_recv", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_23_send_frame_and_recv, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_22_send_frame_and_recv},
   {"encode_lazy", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_28encode_lazy, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_27encode_lazy},
-  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_33__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_32__reduce_cython__},
-  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_35__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_34__setstate_cython__},
+  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_35__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_34__reduce_cython__},
+  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5codec_7context_12CodecContext_37__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5codec_7context_12CodecContext_36__setstate_cython__},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_2av_5codec_7context_CodecContext[] = {
   {(char *)"extradata", __pyx_getprop_2av_5codec_7context_12CodecContext_extradata, __pyx_setprop_2av_5codec_7context_12CodecContext_extradata, (char *)0, 0},
   {(char *)"extradata_size", __pyx_getprop_2av_5codec_7context_12CodecContext_extradata_size, 0, (char *)0, 0},
   {(char *)"is_open", __pyx_getprop_2av_5codec_7context_12CodecContext_is_open, 0, (char *)0, 0},
@@ -13646,24 +13941,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv *__pyx_freelist_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv[8];
 static int __pyx_freecount_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv)))) {
     o = (PyObject*)__pyx_freelist_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv[--__pyx_freecount_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv];
     memset(o, 0, sizeof(struct __pyx_obj_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -13684,15 +13981,15 @@
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_frame);
   Py_CLEAR(p->__pyx_v_packet);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv)))) {
     __pyx_freelist_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv[__pyx_freecount_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv++] = ((struct __pyx_obj_2av_5codec_7context___pyx_scope_struct___send_frame_and_recv *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -13813,24 +14110,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_5codec_7context___pyx_scope_struct_1_encode_lazy *__pyx_freelist_2av_5codec_7context___pyx_scope_struct_1_encode_lazy[8];
 static int __pyx_freecount_2av_5codec_7context___pyx_scope_struct_1_encode_lazy = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_5codec_7context___pyx_scope_struct_1_encode_lazy(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_5codec_7context___pyx_scope_struct_1_encode_lazy > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_5codec_7context___pyx_scope_struct_1_encode_lazy)))) {
     o = (PyObject*)__pyx_freelist_2av_5codec_7context___pyx_scope_struct_1_encode_lazy[--__pyx_freecount_2av_5codec_7context___pyx_scope_struct_1_encode_lazy];
     memset(o, 0, sizeof(struct __pyx_obj_2av_5codec_7context___pyx_scope_struct_1_encode_lazy));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -13853,15 +14152,15 @@
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_frame);
   Py_CLEAR(p->__pyx_v_packet);
   Py_CLEAR(p->__pyx_v_self);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_5codec_7context___pyx_scope_struct_1_encode_lazy < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_5codec_7context___pyx_scope_struct_1_encode_lazy)))) {
     __pyx_freelist_2av_5codec_7context___pyx_scope_struct_1_encode_lazy[__pyx_freecount_2av_5codec_7context___pyx_scope_struct_1_encode_lazy++] = ((struct __pyx_obj_2av_5codec_7context___pyx_scope_struct_1_encode_lazy *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -14037,14 +14336,15 @@
     {&__pyx_n_s_CodecContext__set_flags, __pyx_k_CodecContext__set_flags, sizeof(__pyx_k_CodecContext__set_flags), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext__set_flags2, __pyx_k_CodecContext__set_flags2, sizeof(__pyx_k_CodecContext__set_flags2), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext_close, __pyx_k_CodecContext_close, sizeof(__pyx_k_CodecContext_close), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext_create, __pyx_k_CodecContext_create, sizeof(__pyx_k_CodecContext_create), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext_decode, __pyx_k_CodecContext_decode, sizeof(__pyx_k_CodecContext_decode), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext_encode, __pyx_k_CodecContext_encode, sizeof(__pyx_k_CodecContext_encode), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext_encode_lazy, __pyx_k_CodecContext_encode_lazy, sizeof(__pyx_k_CodecContext_encode_lazy), 0, 0, 1, 1},
+    {&__pyx_n_s_CodecContext_flush_buffers, __pyx_k_CodecContext_flush_buffers, sizeof(__pyx_k_CodecContext_flush_buffers), 0, 0, 1, 1},
     {&__pyx_kp_s_CodecContext_is_already_closed, __pyx_k_CodecContext_is_already_closed, sizeof(__pyx_k_CodecContext_is_already_closed), 0, 0, 1, 0},
     {&__pyx_kp_s_CodecContext_is_already_open, __pyx_k_CodecContext_is_already_open, sizeof(__pyx_k_CodecContext_is_already_open), 0, 0, 1, 0},
     {&__pyx_n_s_CodecContext_open, __pyx_k_CodecContext_open, sizeof(__pyx_k_CodecContext_open), 0, 0, 1, 1},
     {&__pyx_n_s_CodecContext_parse, __pyx_k_CodecContext_parse, sizeof(__pyx_k_CodecContext_parse), 0, 0, 1, 1},
     {&__pyx_kp_s_Codec_tag_should_be_a_4_characte, __pyx_k_Codec_tag_should_be_a_4_characte, sizeof(__pyx_k_Codec_tag_should_be_a_4_characte), 0, 0, 1, 0},
     {&__pyx_n_s_DEFAULT, __pyx_k_DEFAULT, sizeof(__pyx_k_DEFAULT), 0, 0, 1, 1},
     {&__pyx_n_s_DROPCHANGED, __pyx_k_DROPCHANGED, sizeof(__pyx_k_DROPCHANGED), 0, 0, 1, 1},
@@ -14122,15 +14422,15 @@
     {&__pyx_kp_s_Use_qpel_MC, __pyx_k_Use_qpel_MC, sizeof(__pyx_k_Use_qpel_MC), 0, 0, 1, 0},
     {&__pyx_kp_s_Using_CodecContext_time_base_for, __pyx_k_Using_CodecContext_time_base_for, sizeof(__pyx_k_Using_CodecContext_time_base_for), 0, 0, 1, 0},
     {&__pyx_n_s_ValueError, __pyx_k_ValueError, sizeof(__pyx_k_ValueError), 0, 0, 1, 1},
     {&__pyx_n_s_VideoCodecContext, __pyx_k_VideoCodecContext, sizeof(__pyx_k_VideoCodecContext), 0, 0, 1, 1},
     {&__pyx_kp_s_Wrapping_CodecContext_with_misma, __pyx_k_Wrapping_CodecContext_with_misma, sizeof(__pyx_k_Wrapping_CodecContext_with_misma), 0, 0, 1, 0},
     {&__pyx_kp_u__10, __pyx_k__10, sizeof(__pyx_k__10), 0, 1, 0, 0},
     {&__pyx_n_s__20, __pyx_k__20, sizeof(__pyx_k__20), 0, 0, 1, 1},
-    {&__pyx_n_s__48, __pyx_k__48, sizeof(__pyx_k__48), 0, 0, 1, 1},
+    {&__pyx_n_s__49, __pyx_k__49, sizeof(__pyx_k__49), 0, 0, 1, 1},
     {&__pyx_kp_u__8, __pyx_k__8, sizeof(__pyx_k__8), 0, 1, 0, 0},
     {&__pyx_kp_u__9, __pyx_k__9, sizeof(__pyx_k__9), 0, 1, 0, 0},
     {&__pyx_n_s_ac_pred, __pyx_k_ac_pred, sizeof(__pyx_k_ac_pred), 0, 0, 1, 1},
     {&__pyx_n_s_args, __pyx_k_args, sizeof(__pyx_k_args), 0, 0, 1, 1},
     {&__pyx_n_s_ascii, __pyx_k_ascii, sizeof(__pyx_k_ascii), 0, 0, 1, 1},
     {&__pyx_n_s_asyncio_coroutines, __pyx_k_asyncio_coroutines, sizeof(__pyx_k_asyncio_coroutines), 0, 0, 1, 1},
     {&__pyx_kp_u_at_0x, __pyx_k_at_0x, sizeof(__pyx_k_at_0x), 0, 1, 0, 0},
@@ -14166,14 +14466,15 @@
     {&__pyx_n_s_encoding, __pyx_k_encoding, sizeof(__pyx_k_encoding), 0, 0, 1, 1},
     {&__pyx_kp_s_error_variables_will_be_set_duri, __pyx_k_error_variables_will_be_set_duri, sizeof(__pyx_k_error_variables_will_be_set_duri), 0, 0, 1, 0},
     {&__pyx_n_s_export_mvs, __pyx_k_export_mvs, sizeof(__pyx_k_export_mvs), 0, 0, 1, 1},
     {&__pyx_n_s_fast, __pyx_k_fast, sizeof(__pyx_k_fast), 0, 0, 1, 1},
     {&__pyx_n_s_flag_property, __pyx_k_flag_property, sizeof(__pyx_k_flag_property), 0, 0, 1, 1},
     {&__pyx_n_s_flags, __pyx_k_flags, sizeof(__pyx_k_flags), 0, 0, 1, 1},
     {&__pyx_n_s_flags2, __pyx_k_flags2, sizeof(__pyx_k_flags2), 0, 0, 1, 1},
+    {&__pyx_n_s_flush_buffers, __pyx_k_flush_buffers, sizeof(__pyx_k_flush_buffers), 0, 0, 1, 1},
     {&__pyx_n_s_four_mv, __pyx_k_four_mv, sizeof(__pyx_k_four_mv), 0, 0, 1, 1},
     {&__pyx_n_s_frame, __pyx_k_frame, sizeof(__pyx_k_frame), 0, 0, 1, 1},
     {&__pyx_n_s_from_bytes, __pyx_k_from_bytes, sizeof(__pyx_k_from_bytes), 0, 0, 1, 1},
     {&__pyx_kp_u_gc, __pyx_k_gc, sizeof(__pyx_k_gc), 0, 1, 0, 0},
     {&__pyx_n_s_get, __pyx_k_get, sizeof(__pyx_k_get), 0, 0, 1, 1},
     {&__pyx_n_s_get_2, __pyx_k_get_2, sizeof(__pyx_k_get_2), 0, 0, 1, 1},
     {&__pyx_n_s_get_flags, __pyx_k_get_flags, sizeof(__pyx_k_get_flags), 0, 0, 1, 1},
@@ -14188,14 +14489,15 @@
     {&__pyx_n_s_in_size, __pyx_k_in_size, sizeof(__pyx_k_in_size), 0, 0, 1, 1},
     {&__pyx_n_s_initializing, __pyx_k_initializing, sizeof(__pyx_k_initializing), 0, 0, 1, 1},
     {&__pyx_n_s_interlaced_dct, __pyx_k_interlaced_dct, sizeof(__pyx_k_interlaced_dct), 0, 0, 1, 1},
     {&__pyx_n_s_interlaced_me, __pyx_k_interlaced_me, sizeof(__pyx_k_interlaced_me), 0, 0, 1, 1},
     {&__pyx_n_s_is_coroutine, __pyx_k_is_coroutine, sizeof(__pyx_k_is_coroutine), 0, 0, 1, 1},
     {&__pyx_n_s_is_decoder, __pyx_k_is_decoder, sizeof(__pyx_k_is_decoder), 0, 0, 1, 1},
     {&__pyx_n_s_is_encoder, __pyx_k_is_encoder, sizeof(__pyx_k_is_encoder), 0, 0, 1, 1},
+    {&__pyx_n_s_is_open, __pyx_k_is_open, sizeof(__pyx_k_is_open), 0, 0, 1, 1},
     {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
     {&__pyx_n_s_little, __pyx_k_little, sizeof(__pyx_k_little), 0, 0, 1, 1},
     {&__pyx_n_s_local_header, __pyx_k_local_header, sizeof(__pyx_k_local_header), 0, 0, 1, 1},
     {&__pyx_kp_s_loop_filter, __pyx_k_loop_filter, sizeof(__pyx_k_loop_filter), 0, 0, 1, 0},
     {&__pyx_n_s_loop_filter_2, __pyx_k_loop_filter_2, sizeof(__pyx_k_loop_filter_2), 0, 0, 1, 1},
     {&__pyx_n_s_low_delay, __pyx_k_low_delay, sizeof(__pyx_k_low_delay), 0, 0, 1, 1},
     {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
@@ -14373,55 +14675,55 @@
  * 
  *         self.open(strict=False)
  */
   __pyx_tuple__15 = PyTuple_Pack(1, __pyx_kp_s_cannot_decode_unknown_codec); if (unlikely(!__pyx_tuple__15)) __PYX_ERR(0, 502, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__15);
   __Pyx_GIVEREF(__pyx_tuple__15);
 
-  /* "av/codec/context.pyx":558
+  /* "av/codec/context.pyx":569
  *     @property
  *     def codec_tag(self):
  *         return self.ptr.codec_tag.to_bytes(4, byteorder="little", signed=False).decode(             # <<<<<<<<<<<<<<
  *             encoding="ascii")
  * 
  */
-  __pyx_tuple__16 = PyTuple_Pack(1, __pyx_int_4); if (unlikely(!__pyx_tuple__16)) __PYX_ERR(0, 558, __pyx_L1_error)
+  __pyx_tuple__16 = PyTuple_Pack(1, __pyx_int_4); if (unlikely(!__pyx_tuple__16)) __PYX_ERR(0, 569, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__16);
   __Pyx_GIVEREF(__pyx_tuple__16);
 
-  /* "av/codec/context.pyx":567
+  /* "av/codec/context.pyx":578
  *                                                 byteorder="little", signed=False)
  *         else:
  *             raise ValueError("Codec tag should be a 4 character string.")             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
-  __pyx_tuple__17 = PyTuple_Pack(1, __pyx_kp_s_Codec_tag_should_be_a_4_characte); if (unlikely(!__pyx_tuple__17)) __PYX_ERR(0, 567, __pyx_L1_error)
+  __pyx_tuple__17 = PyTuple_Pack(1, __pyx_kp_s_Codec_tag_should_be_a_4_characte); if (unlikely(!__pyx_tuple__17)) __PYX_ERR(0, 578, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__17);
   __Pyx_GIVEREF(__pyx_tuple__17);
 
-  /* "av/codec/context.pyx":608
+  /* "av/codec/context.pyx":619
  *     def thread_count(self, int value):
  *         if lib.avcodec_is_open(self.ptr):
  *             raise RuntimeError("Cannot change thread_count after codec is open.")             # <<<<<<<<<<<<<<
  *         self.ptr.thread_count = value
  * 
  */
-  __pyx_tuple__18 = PyTuple_Pack(1, __pyx_kp_s_Cannot_change_thread_count_after); if (unlikely(!__pyx_tuple__18)) __PYX_ERR(0, 608, __pyx_L1_error)
+  __pyx_tuple__18 = PyTuple_Pack(1, __pyx_kp_s_Cannot_change_thread_count_after); if (unlikely(!__pyx_tuple__18)) __PYX_ERR(0, 619, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__18);
   __Pyx_GIVEREF(__pyx_tuple__18);
 
-  /* "av/codec/context.pyx":623
+  /* "av/codec/context.pyx":634
  *     def thread_type(self, value):
  *         if lib.avcodec_is_open(self.ptr):
  *             raise RuntimeError("Cannot change thread_type after codec is open.")             # <<<<<<<<<<<<<<
  *         self.ptr.thread_type = ThreadType[value].value
  * 
  */
-  __pyx_tuple__19 = PyTuple_Pack(1, __pyx_kp_s_Cannot_change_thread_type_after); if (unlikely(!__pyx_tuple__19)) __PYX_ERR(0, 623, __pyx_L1_error)
+  __pyx_tuple__19 = PyTuple_Pack(1, __pyx_kp_s_Cannot_change_thread_type_after); if (unlikely(!__pyx_tuple__19)) __PYX_ERR(0, 634, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__19);
   __Pyx_GIVEREF(__pyx_tuple__19);
 
   /* "av/codec/context.pyx":47
  * 
  * ThreadType = define_enum("ThreadType", __name__, (
  *     ("NONE", 0),             # <<<<<<<<<<<<<<
@@ -14583,31 +14885,40 @@
  * 
  */
   __pyx_tuple__43 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_packet); if (unlikely(!__pyx_tuple__43)) __PYX_ERR(0, 492, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple__43);
   __Pyx_GIVEREF(__pyx_tuple__43);
   __pyx_codeobj__44 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__43, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_codec_context_pyx, __pyx_n_s_decode, 492, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__44)) __PYX_ERR(0, 492, __pyx_L1_error)
 
+  /* "av/codec/context.pyx":513
+ *         return res
+ * 
+ *     cpdef flush_buffers(self):             # <<<<<<<<<<<<<<
+ *         """Reset the internal codec state and discard all internal buffers.
+ * 
+ */
+  __pyx_codeobj__45 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__26, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_codec_context_pyx, __pyx_n_s_flush_buffers, 513, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(0, 513, __pyx_L1_error)
+
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_codeobj__45 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__26, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__45)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_codeobj__46 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__26, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__46)) __PYX_ERR(1, 1, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  */
-  __pyx_tuple__46 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__46)) __PYX_ERR(1, 3, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__46);
-  __Pyx_GIVEREF(__pyx_tuple__46);
-  __pyx_codeobj__47 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__46, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__47)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_tuple__47 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__47)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__47);
+  __Pyx_GIVEREF(__pyx_tuple__47);
+  __pyx_codeobj__48 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__47, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__48)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 /* #### Code section: init_constants ### */
@@ -14678,14 +14989,15 @@
   __pyx_vtabptr_2av_5codec_7context_CodecContext = &__pyx_vtable_2av_5codec_7context_CodecContext;
   __pyx_vtable_2av_5codec_7context_CodecContext._init = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *))__pyx_f_2av_5codec_7context_12CodecContext__init;
   __pyx_vtable_2av_5codec_7context_CodecContext.open = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args))__pyx_f_2av_5codec_7context_12CodecContext_open;
   __pyx_vtable_2av_5codec_7context_CodecContext.close = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args))__pyx_f_2av_5codec_7context_12CodecContext_close;
   __pyx_vtable_2av_5codec_7context_CodecContext._set_default_time_base = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *))__pyx_f_2av_5codec_7context_12CodecContext__set_default_time_base;
   __pyx_vtable_2av_5codec_7context_CodecContext.encode = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args))__pyx_f_2av_5codec_7context_12CodecContext_encode;
   __pyx_vtable_2av_5codec_7context_CodecContext.decode = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args))__pyx_f_2av_5codec_7context_12CodecContext_decode;
+  __pyx_vtable_2av_5codec_7context_CodecContext.flush_buffers = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch))__pyx_f_2av_5codec_7context_12CodecContext_flush_buffers;
   __pyx_vtable_2av_5codec_7context_CodecContext._prepare_and_time_rebase_frames_for_encode = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *))__pyx_f_2av_5codec_7context_12CodecContext__prepare_and_time_rebase_frames_for_encode;
   __pyx_vtable_2av_5codec_7context_CodecContext._prepare_frames_for_encode = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *))__pyx_f_2av_5codec_7context_12CodecContext__prepare_frames_for_encode;
   __pyx_vtable_2av_5codec_7context_CodecContext._setup_encoded_packet = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *))__pyx_f_2av_5codec_7context_12CodecContext__setup_encoded_packet;
   __pyx_vtable_2av_5codec_7context_CodecContext._setup_decoded_frame = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *))__pyx_f_2av_5codec_7context_12CodecContext__setup_decoded_frame;
   __pyx_vtable_2av_5codec_7context_CodecContext._recv_packet = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *))__pyx_f_2av_5codec_7context_12CodecContext__recv_packet;
   __pyx_vtable_2av_5codec_7context_CodecContext._send_packet_and_recv = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *))__pyx_f_2av_5codec_7context_12CodecContext__send_packet_and_recv;
   __pyx_vtable_2av_5codec_7context_CodecContext._recv_frame = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *))__pyx_f_2av_5codec_7context_12CodecContext__recv_frame;
@@ -14768,68 +15080,68 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(13, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -14850,36 +15162,36 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "bytesource", (void (**)(void))&__pyx_f_2av_10bytesource_bytesource, "struct __pyx_obj_2av_10bytesource_ByteSource *(PyObject *, struct __pyx_opt_args_2av_10bytesource_bytesource *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "bytesource", (void (**)(void))&__pyx_f_2av_10bytesource_bytesource, "struct __pyx_obj_2av_10bytesource_ByteSource *(PyObject *, struct __pyx_opt_args_2av_10bytesource_bytesource *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_codec", (void (**)(void))&__pyx_f_2av_5codec_5codec_wrap_codec, "struct __pyx_obj_2av_5codec_5codec_Codec *(struct AVCodec const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_codec", (void (**)(void))&__pyx_f_2av_5codec_5codec_wrap_codec, "struct __pyx_obj_2av_5codec_5codec_Codec *(struct AVCodec const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -17577,31 +17889,44 @@
   __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5codec_7context_12CodecContext_31decode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_CodecContext_decode, NULL, __pyx_n_s_av_codec_context, __pyx_d, ((PyObject *)__pyx_codeobj__44)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 492, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_3, __pyx_tuple__25);
   if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5codec_7context_CodecContext, __pyx_n_s_decode, __pyx_t_3) < 0) __PYX_ERR(0, 492, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   PyType_Modified(__pyx_ptype_2av_5codec_7context_CodecContext);
 
+  /* "av/codec/context.pyx":513
+ *         return res
+ * 
+ *     cpdef flush_buffers(self):             # <<<<<<<<<<<<<<
+ *         """Reset the internal codec state and discard all internal buffers.
+ * 
+ */
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5codec_7context_12CodecContext_33flush_buffers, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_CodecContext_flush_buffers, NULL, __pyx_n_s_av_codec_context, __pyx_d, ((PyObject *)__pyx_codeobj__45)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 513, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5codec_7context_CodecContext, __pyx_n_s_flush_buffers, __pyx_t_3) < 0) __PYX_ERR(0, 513, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  PyType_Modified(__pyx_ptype_2av_5codec_7context_CodecContext);
+
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5codec_7context_12CodecContext_33__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_CodecContext___reduce_cython, NULL, __pyx_n_s_av_codec_context, __pyx_d, ((PyObject *)__pyx_codeobj__45)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5codec_7context_12CodecContext_35__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_CodecContext___reduce_cython, NULL, __pyx_n_s_av_codec_context, __pyx_d, ((PyObject *)__pyx_codeobj__46)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_3) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5codec_7context_12CodecContext_35__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_CodecContext___setstate_cython, NULL, __pyx_n_s_av_codec_context, __pyx_d, ((PyObject *)__pyx_codeobj__47)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5codec_7context_12CodecContext_37__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_CodecContext___setstate_cython, NULL, __pyx_n_s_av_codec_context, __pyx_d, ((PyObject *)__pyx_codeobj__48)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_3) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
   /* "av/codec/context.pyx":1
  * import warnings             # <<<<<<<<<<<<<<
  * 
@@ -19862,18 +20187,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -19919,23 +20244,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -22627,15 +22952,15 @@
 __Pyx_PyType_GetName(PyTypeObject* tp)
 {
     PyObject *name = __Pyx_PyObject_GetAttrStr((PyObject *)tp,
                                                __pyx_n_s_name_2);
     if (unlikely(name == NULL) || unlikely(!PyUnicode_Check(name))) {
         PyErr_Clear();
         Py_XDECREF(name);
-        name = __Pyx_NewRef(__pyx_n_s__48);
+        name = __Pyx_NewRef(__pyx_n_s__49);
     }
     return name;
 }
 #endif
 
 /* CIntToPy */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
@@ -24417,17 +24742,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/container/core.c` & `pyav-12.1.0rc1/src/av/container/core.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1664,15 +1696,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_opt_args_2av_4enum_define_enum;
 
@@ -1833,31 +1865,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2088,16 +2120,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2129,14 +2161,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2793,30 +2826,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
 
 /* ImportDottedModule.proto */
 static PyObject *__Pyx_ImportDottedModule(PyObject *name, PyObject *parts_tuple);
@@ -3140,15 +3173,15 @@
 static int __pyx_Generator_init(PyObject *module);
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static int __pyx_f_2av_9container_4core_9Container_err_check(struct __pyx_obj_2av_9container_4core_Container *__pyx_v_self, int __pyx_v_value); /* proto*/
 static PyObject *__pyx_f_2av_9container_4core_9Container_set_timeout(struct __pyx_obj_2av_9container_4core_Container *__pyx_v_self, PyObject *__pyx_v_timeout); /* proto*/
@@ -10136,24 +10169,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9container_4core___pyx_scope_struct__genexpr *__pyx_freelist_2av_9container_4core___pyx_scope_struct__genexpr[8];
 static int __pyx_freecount_2av_9container_4core___pyx_scope_struct__genexpr = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9container_4core___pyx_scope_struct__genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9container_4core___pyx_scope_struct__genexpr > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_4core___pyx_scope_struct__genexpr)))) {
     o = (PyObject*)__pyx_freelist_2av_9container_4core___pyx_scope_struct__genexpr[--__pyx_freecount_2av_9container_4core___pyx_scope_struct__genexpr];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9container_4core___pyx_scope_struct__genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -10174,15 +10209,15 @@
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_genexpr_arg_0);
   Py_CLEAR(p->__pyx_v_log);
   Py_CLEAR(p->__pyx_t_0);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9container_4core___pyx_scope_struct__genexpr < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_4core___pyx_scope_struct__genexpr)))) {
     __pyx_freelist_2av_9container_4core___pyx_scope_struct__genexpr[__pyx_freecount_2av_9container_4core___pyx_scope_struct__genexpr++] = ((struct __pyx_obj_2av_9container_4core___pyx_scope_struct__genexpr *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -10808,78 +10843,78 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(3, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(3, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(6, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(6, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(6, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(7, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(7, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(7, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(9, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(9, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(9, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(9, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(9, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(10, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(10, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(10, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(11, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(11, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(11, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(13, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(14, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.input"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_5input_InputContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.input", "InputContainer", sizeof(struct __pyx_obj_2av_9container_5input_InputContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_5input_InputContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_5input_InputContainer) __PYX_ERR(15, 7, __pyx_L1_error)
+  __pyx_ptype_2av_9container_5input_InputContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.input", "InputContainer", sizeof(struct __pyx_obj_2av_9container_5input_InputContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_5input_InputContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_5input_InputContainer) __PYX_ERR(15, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_5input_InputContainer = (struct __pyx_vtabstruct_2av_9container_5input_InputContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_5input_InputContainer); if (unlikely(!__pyx_vtabptr_2av_9container_5input_InputContainer)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.output"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_6output_OutputContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.output", "OutputContainer", sizeof(struct __pyx_obj_2av_9container_6output_OutputContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_6output_OutputContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_6output_OutputContainer) __PYX_ERR(16, 7, __pyx_L1_error)
+  __pyx_ptype_2av_9container_6output_OutputContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.output", "OutputContainer", sizeof(struct __pyx_obj_2av_9container_6output_OutputContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_6output_OutputContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_6output_OutputContainer) __PYX_ERR(16, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_6output_OutputContainer = (struct __pyx_vtabstruct_2av_9container_6output_OutputContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_6output_OutputContainer); if (unlikely(!__pyx_vtabptr_2av_9container_6output_OutputContainer)) __PYX_ERR(16, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -10900,37 +10935,37 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "pyio_close_gil", (void (**)(void))&__pyx_f_2av_9container_4pyio_pyio_close_gil, "void (struct AVIOContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "pyio_close_custom_gil", (void (**)(void))&__pyx_f_2av_9container_4pyio_pyio_close_custom_gil, "void (struct AVIOContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "pyio_close_gil", (void (**)(void))&__pyx_f_2av_9container_4pyio_pyio_close_gil, "void (struct AVIOContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "pyio_close_custom_gil", (void (**)(void))&__pyx_f_2av_9container_4pyio_pyio_close_custom_gil, "void (struct AVIOContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "build_container_format", (void (**)(void))&__pyx_f_2av_6format_build_container_format, "struct __pyx_obj_2av_6format_ContainerFormat *(struct AVInputFormat *, struct AVOutputFormat *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "build_container_format", (void (**)(void))&__pyx_f_2av_6format_build_container_format, "struct __pyx_obj_2av_6format_ContainerFormat *(struct AVInputFormat *, struct AVOutputFormat *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "stash_exception", (void (**)(void))&__pyx_f_2av_5error_stash_exception, "int (struct __pyx_opt_args_2av_5error_stash_exception *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "stash_exception", (void (**)(void))&__pyx_f_2av_5error_stash_exception, "int (struct __pyx_opt_args_2av_5error_stash_exception *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avdict_to_dict", (void (**)(void))&__pyx_f_2av_5utils_avdict_to_dict, "PyObject *(AVDictionary *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avdict_to_dict", (void (**)(void))&__pyx_f_2av_5utils_avdict_to_dict, "PyObject *(AVDictionary *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -15005,18 +15040,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -15062,23 +15097,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -18996,17 +19031,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/container/input.c` & `pyav-12.1.0rc1/src/av/container/input.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1663,15 +1695,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1821,31 +1853,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2091,16 +2123,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2132,14 +2164,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2633,30 +2666,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -3018,15 +3051,15 @@
 static int __pyx_Generator_init(PyObject *module);
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_9container_5input_14InputContainer_flush_buffers(struct __pyx_obj_2av_9container_5input_InputContainer *__pyx_v_self); /* proto*/
 
@@ -3119,15 +3152,14 @@
 static const char __pyx_k_kwargs[] = "kwargs";
 static const char __pyx_k_offset[] = "offset";
 static const char __pyx_k_packet[] = "packet";
 static const char __pyx_k_reduce[] = "__reduce__";
 static const char __pyx_k_stream[] = "stream";
 static const char __pyx_k_update[] = "update";
 static const char __pyx_k_disable[] = "disable";
-static const char __pyx_k_is_open[] = "is_open";
 static const char __pyx_k_streams[] = "streams";
 static const char __pyx_k_EOFError[] = "EOFError";
 static const char __pyx_k_backward[] = "backward";
 static const char __pyx_k_c_offset[] = "c_offset";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_setstate[] = "__setstate__";
 static const char __pyx_k_TypeError[] = "TypeError";
@@ -3304,15 +3336,14 @@
   PyObject *__pyx_n_s_getstate;
   PyObject *__pyx_n_s_i;
   PyObject *__pyx_n_s_id;
   PyObject *__pyx_n_s_import;
   PyObject *__pyx_n_s_include_stream;
   PyObject *__pyx_n_s_index;
   PyObject *__pyx_n_s_is_coroutine;
-  PyObject *__pyx_n_s_is_open;
   PyObject *__pyx_kp_u_isenabled;
   PyObject *__pyx_n_s_kwargs;
   PyObject *__pyx_n_s_main;
   PyObject *__pyx_n_s_name;
   PyObject *__pyx_kp_s_no_default___reduce___due_to_non;
   PyObject *__pyx_n_s_offset;
   PyObject *__pyx_kp_u_out_of_range;
@@ -3448,15 +3479,14 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_getstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_i);
   Py_CLEAR(clear_module_state->__pyx_n_s_id);
   Py_CLEAR(clear_module_state->__pyx_n_s_import);
   Py_CLEAR(clear_module_state->__pyx_n_s_include_stream);
   Py_CLEAR(clear_module_state->__pyx_n_s_index);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_coroutine);
-  Py_CLEAR(clear_module_state->__pyx_n_s_is_open);
   Py_CLEAR(clear_module_state->__pyx_kp_u_isenabled);
   Py_CLEAR(clear_module_state->__pyx_n_s_kwargs);
   Py_CLEAR(clear_module_state->__pyx_n_s_main);
   Py_CLEAR(clear_module_state->__pyx_n_s_name);
   Py_CLEAR(clear_module_state->__pyx_kp_s_no_default___reduce___due_to_non);
   Py_CLEAR(clear_module_state->__pyx_n_s_offset);
   Py_CLEAR(clear_module_state->__pyx_kp_u_out_of_range);
@@ -3570,15 +3600,14 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_getstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_i);
   Py_VISIT(traverse_module_state->__pyx_n_s_id);
   Py_VISIT(traverse_module_state->__pyx_n_s_import);
   Py_VISIT(traverse_module_state->__pyx_n_s_include_stream);
   Py_VISIT(traverse_module_state->__pyx_n_s_index);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_coroutine);
-  Py_VISIT(traverse_module_state->__pyx_n_s_is_open);
   Py_VISIT(traverse_module_state->__pyx_kp_u_isenabled);
   Py_VISIT(traverse_module_state->__pyx_n_s_kwargs);
   Py_VISIT(traverse_module_state->__pyx_n_s_main);
   Py_VISIT(traverse_module_state->__pyx_n_s_name);
   Py_VISIT(traverse_module_state->__pyx_kp_s_no_default___reduce___due_to_non);
   Py_VISIT(traverse_module_state->__pyx_n_s_offset);
   Py_VISIT(traverse_module_state->__pyx_kp_u_out_of_range);
@@ -3742,15 +3771,14 @@
 #define __pyx_n_s_getstate __pyx_mstate_global->__pyx_n_s_getstate
 #define __pyx_n_s_i __pyx_mstate_global->__pyx_n_s_i
 #define __pyx_n_s_id __pyx_mstate_global->__pyx_n_s_id
 #define __pyx_n_s_import __pyx_mstate_global->__pyx_n_s_import
 #define __pyx_n_s_include_stream __pyx_mstate_global->__pyx_n_s_include_stream
 #define __pyx_n_s_index __pyx_mstate_global->__pyx_n_s_index
 #define __pyx_n_s_is_coroutine __pyx_mstate_global->__pyx_n_s_is_coroutine
-#define __pyx_n_s_is_open __pyx_mstate_global->__pyx_n_s_is_open
 #define __pyx_kp_u_isenabled __pyx_mstate_global->__pyx_kp_u_isenabled
 #define __pyx_n_s_kwargs __pyx_mstate_global->__pyx_n_s_kwargs
 #define __pyx_n_s_main __pyx_mstate_global->__pyx_n_s_main
 #define __pyx_n_s_name __pyx_mstate_global->__pyx_n_s_name
 #define __pyx_kp_s_no_default___reduce___due_to_non __pyx_mstate_global->__pyx_kp_s_no_default___reduce___due_to_non
 #define __pyx_n_s_offset __pyx_mstate_global->__pyx_n_s_offset
 #define __pyx_kp_u_out_of_range __pyx_mstate_global->__pyx_kp_u_out_of_range
@@ -6734,15 +6762,14 @@
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   PyObject *(*__pyx_t_3)(PyObject *);
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
-  int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("flush_buffers", 1);
 
   /* "av/container/input.pyx":274
  * 
@@ -6756,15 +6783,15 @@
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "av/container/input.pyx":279
  *         cdef CodecContext codec_context
  * 
  *         for stream in self.streams:             # <<<<<<<<<<<<<<
  *             codec_context = stream.codec_context
- *             if codec_context and codec_context.is_open:
+ *             if codec_context:
  */
   if (likely(PyList_CheckExact(((PyObject *)__pyx_v_self->__pyx_base.streams))) || PyTuple_CheckExact(((PyObject *)__pyx_v_self->__pyx_base.streams))) {
     __pyx_t_1 = ((PyObject *)__pyx_v_self->__pyx_base.streams); __Pyx_INCREF(__pyx_t_1);
     __pyx_t_2 = 0;
     __pyx_t_3 = NULL;
   } else {
     __pyx_t_2 = -1; __pyx_t_1 = PyObject_GetIter(((PyObject *)__pyx_v_self->__pyx_base.streams)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 279, __pyx_L1_error)
@@ -6818,99 +6845,54 @@
     __Pyx_XDECREF_SET(__pyx_v_stream, ((struct __pyx_obj_2av_6stream_Stream *)__pyx_t_4));
     __pyx_t_4 = 0;
 
     /* "av/container/input.pyx":280
  * 
  *         for stream in self.streams:
  *             codec_context = stream.codec_context             # <<<<<<<<<<<<<<
- *             if codec_context and codec_context.is_open:
- *                 with nogil:
+ *             if codec_context:
+ *                 codec_context.flush_buffers()
  */
     __pyx_t_4 = ((PyObject *)__pyx_v_stream->codec_context);
     __Pyx_INCREF(__pyx_t_4);
     __Pyx_XDECREF_SET(__pyx_v_codec_context, ((struct __pyx_obj_2av_5codec_7context_CodecContext *)__pyx_t_4));
     __pyx_t_4 = 0;
 
     /* "av/container/input.pyx":281
  *         for stream in self.streams:
  *             codec_context = stream.codec_context
- *             if codec_context and codec_context.is_open:             # <<<<<<<<<<<<<<
- *                 with nogil:
- *                     lib.avcodec_flush_buffers(codec_context.ptr)
+ *             if codec_context:             # <<<<<<<<<<<<<<
+ *                 codec_context.flush_buffers()
  */
-    __pyx_t_6 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_codec_context)); if (unlikely((__pyx_t_6 < 0))) __PYX_ERR(0, 281, __pyx_L1_error)
-    if (__pyx_t_6) {
-    } else {
-      __pyx_t_5 = __pyx_t_6;
-      goto __pyx_L6_bool_binop_done;
-    }
-    __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_codec_context), __pyx_n_s_is_open); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 281, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely((__pyx_t_6 < 0))) __PYX_ERR(0, 281, __pyx_L1_error)
-    __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    __pyx_t_5 = __pyx_t_6;
-    __pyx_L6_bool_binop_done:;
+    __pyx_t_5 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_codec_context)); if (unlikely((__pyx_t_5 < 0))) __PYX_ERR(0, 281, __pyx_L1_error)
     if (__pyx_t_5) {
 
       /* "av/container/input.pyx":282
  *             codec_context = stream.codec_context
- *             if codec_context and codec_context.is_open:
- *                 with nogil:             # <<<<<<<<<<<<<<
- *                     lib.avcodec_flush_buffers(codec_context.ptr)
- */
-      {
-          #ifdef WITH_THREAD
-          PyThreadState *_save;
-          _save = NULL;
-          Py_UNBLOCK_THREADS
-          __Pyx_FastGIL_Remember();
-          #endif
-          /*try:*/ {
-
-            /* "av/container/input.pyx":283
- *             if codec_context and codec_context.is_open:
- *                 with nogil:
- *                     lib.avcodec_flush_buffers(codec_context.ptr)             # <<<<<<<<<<<<<<
- */
-            avcodec_flush_buffers(__pyx_v_codec_context->ptr);
-          }
-
-          /* "av/container/input.pyx":282
- *             codec_context = stream.codec_context
- *             if codec_context and codec_context.is_open:
- *                 with nogil:             # <<<<<<<<<<<<<<
- *                     lib.avcodec_flush_buffers(codec_context.ptr)
+ *             if codec_context:
+ *                 codec_context.flush_buffers()             # <<<<<<<<<<<<<<
  */
-          /*finally:*/ {
-            /*normal exit:*/{
-              #ifdef WITH_THREAD
-              __Pyx_FastGIL_Forget();
-              Py_BLOCK_THREADS
-              #endif
-              goto __pyx_L12;
-            }
-            __pyx_L12:;
-          }
-      }
+      __pyx_t_4 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_codec_context->__pyx_vtab)->flush_buffers(__pyx_v_codec_context, 0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 282, __pyx_L1_error)
+      __Pyx_GOTREF(__pyx_t_4);
+      __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
       /* "av/container/input.pyx":281
  *         for stream in self.streams:
  *             codec_context = stream.codec_context
- *             if codec_context and codec_context.is_open:             # <<<<<<<<<<<<<<
- *                 with nogil:
- *                     lib.avcodec_flush_buffers(codec_context.ptr)
+ *             if codec_context:             # <<<<<<<<<<<<<<
+ *                 codec_context.flush_buffers()
  */
     }
 
     /* "av/container/input.pyx":279
  *         cdef CodecContext codec_context
  * 
  *         for stream in self.streams:             # <<<<<<<<<<<<<<
  *             codec_context = stream.codec_context
- *             if codec_context and codec_context.is_open:
+ *             if codec_context:
  */
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
   /* "av/container/input.pyx":273
  *         self.flush_buffers()
  * 
@@ -7331,24 +7313,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9container_5input___pyx_scope_struct__demux *__pyx_freelist_2av_9container_5input___pyx_scope_struct__demux[8];
 static int __pyx_freecount_2av_9container_5input___pyx_scope_struct__demux = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9container_5input___pyx_scope_struct__demux(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9container_5input___pyx_scope_struct__demux > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_5input___pyx_scope_struct__demux)))) {
     o = (PyObject*)__pyx_freelist_2av_9container_5input___pyx_scope_struct__demux[--__pyx_freecount_2av_9container_5input___pyx_scope_struct__demux];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9container_5input___pyx_scope_struct__demux));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -7372,15 +7356,15 @@
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_args);
   Py_CLEAR(p->__pyx_v_kwargs);
   Py_CLEAR(p->__pyx_v_packet);
   Py_CLEAR(p->__pyx_v_self);
   Py_CLEAR(p->__pyx_v_stream);
   Py_CLEAR(p->__pyx_v_streams);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9container_5input___pyx_scope_struct__demux < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_5input___pyx_scope_struct__demux)))) {
     __pyx_freelist_2av_9container_5input___pyx_scope_struct__demux[__pyx_freecount_2av_9container_5input___pyx_scope_struct__demux++] = ((struct __pyx_obj_2av_9container_5input___pyx_scope_struct__demux *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -7510,24 +7494,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9container_5input___pyx_scope_struct_1_decode *__pyx_freelist_2av_9container_5input___pyx_scope_struct_1_decode[8];
 static int __pyx_freecount_2av_9container_5input___pyx_scope_struct_1_decode = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9container_5input___pyx_scope_struct_1_decode(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9container_5input___pyx_scope_struct_1_decode > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_5input___pyx_scope_struct_1_decode)))) {
     o = (PyObject*)__pyx_freelist_2av_9container_5input___pyx_scope_struct_1_decode[--__pyx_freecount_2av_9container_5input___pyx_scope_struct_1_decode];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9container_5input___pyx_scope_struct_1_decode));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -7552,15 +7538,15 @@
   Py_CLEAR(p->__pyx_v_args);
   Py_CLEAR(p->__pyx_v_frame);
   Py_CLEAR(p->__pyx_v_kwargs);
   Py_CLEAR(p->__pyx_v_packet);
   Py_CLEAR(p->__pyx_v_self);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_1);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9container_5input___pyx_scope_struct_1_decode < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_5input___pyx_scope_struct_1_decode)))) {
     __pyx_freelist_2av_9container_5input___pyx_scope_struct_1_decode[__pyx_freecount_2av_9container_5input___pyx_scope_struct_1_decode++] = ((struct __pyx_obj_2av_9container_5input___pyx_scope_struct_1_decode *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -7749,15 +7735,14 @@
     {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
     {&__pyx_n_s_i, __pyx_k_i, sizeof(__pyx_k_i), 0, 0, 1, 1},
     {&__pyx_n_s_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 0, 1, 1},
     {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
     {&__pyx_n_s_include_stream, __pyx_k_include_stream, sizeof(__pyx_k_include_stream), 0, 0, 1, 1},
     {&__pyx_n_s_index, __pyx_k_index, sizeof(__pyx_k_index), 0, 0, 1, 1},
     {&__pyx_n_s_is_coroutine, __pyx_k_is_coroutine, sizeof(__pyx_k_is_coroutine), 0, 0, 1, 1},
-    {&__pyx_n_s_is_open, __pyx_k_is_open, sizeof(__pyx_k_is_open), 0, 0, 1, 1},
     {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
     {&__pyx_n_s_kwargs, __pyx_k_kwargs, sizeof(__pyx_k_kwargs), 0, 0, 1, 1},
     {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
     {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
     {&__pyx_kp_s_no_default___reduce___due_to_non, __pyx_k_no_default___reduce___due_to_non, sizeof(__pyx_k_no_default___reduce___due_to_non), 0, 0, 1, 0},
     {&__pyx_n_s_offset, __pyx_k_offset, sizeof(__pyx_k_offset), 0, 0, 1, 1},
     {&__pyx_kp_u_out_of_range, __pyx_k_out_of_range, sizeof(__pyx_k_out_of_range), 0, 1, 0, 0},
@@ -7931,15 +7916,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_5input_InputContainer = &__pyx_vtable_2av_9container_5input_InputContainer;
   __pyx_vtable_2av_9container_5input_InputContainer.__pyx_base = *__pyx_vtabptr_2av_9container_4core_Container;
   __pyx_vtable_2av_9container_5input_InputContainer.flush_buffers = (PyObject *(*)(struct __pyx_obj_2av_9container_5input_InputContainer *))__pyx_f_2av_9container_5input_14InputContainer_flush_buffers;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
@@ -8026,69 +8011,69 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(2, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(2, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(6, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(6, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(8, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -8108,31 +8093,31 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_codec_context", (void (**)(void))&__pyx_f_2av_5codec_7context_wrap_codec_context, "struct __pyx_obj_2av_5codec_7context_CodecContext *(struct AVCodecContext *, struct AVCodec const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_codec_context", (void (**)(void))&__pyx_f_2av_5codec_7context_wrap_codec_context, "struct __pyx_obj_2av_5codec_7context_CodecContext *(struct AVCodecContext *, struct AVCodec const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_stream", (void (**)(void))&__pyx_f_2av_6stream_wrap_stream, "struct __pyx_obj_2av_6stream_Stream *(struct __pyx_obj_2av_9container_4core_Container *, struct AVStream *, struct __pyx_obj_2av_5codec_7context_CodecContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_stream", (void (**)(void))&__pyx_f_2av_6stream_wrap_stream, "struct __pyx_obj_2av_6stream_Stream *(struct __pyx_obj_2av_9container_4core_Container *, struct AVStream *, struct __pyx_obj_2av_5codec_7context_CodecContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avdict_to_dict", (void (**)(void))&__pyx_f_2av_5utils_avdict_to_dict, "PyObject *(AVDictionary *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avdict_to_dict", (void (**)(void))&__pyx_f_2av_5utils_avdict_to_dict, "PyObject *(AVDictionary *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -10465,18 +10450,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -10522,23 +10507,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -15414,17 +15399,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/container/output.c` & `pyav-12.1.0rc1/src/av/container/output.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1659,15 +1691,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1817,31 +1849,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2043,16 +2075,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2084,14 +2116,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2661,30 +2694,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2957,15 +2990,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_9container_6output_15OutputContainer_start_encoding(struct __pyx_obj_2av_9container_6output_OutputContainer *__pyx_v_self, int __pyx_skip_dispatch); /* proto*/
 
@@ -7768,15 +7801,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_6output_OutputContainer = &__pyx_vtable_2av_9container_6output_OutputContainer;
   __pyx_vtable_2av_9container_6output_OutputContainer.__pyx_base = *__pyx_vtabptr_2av_9container_4core_Container;
   __pyx_vtable_2av_9container_6output_OutputContainer.start_encoding = (PyObject *(*)(struct __pyx_obj_2av_9container_6output_OutputContainer *, int __pyx_skip_dispatch))__pyx_f_2av_9container_6output_15OutputContainer_start_encoding;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 31, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
@@ -7825,69 +7858,69 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(2, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(2, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(6, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(6, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(8, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7907,32 +7940,32 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_codec_context", (void (**)(void))&__pyx_f_2av_5codec_7context_wrap_codec_context, "struct __pyx_obj_2av_5codec_7context_CodecContext *(struct AVCodecContext *, struct AVCodec const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_codec_context", (void (**)(void))&__pyx_f_2av_5codec_7context_wrap_codec_context, "struct __pyx_obj_2av_5codec_7context_CodecContext *(struct AVCodecContext *, struct AVCodec const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_stream", (void (**)(void))&__pyx_f_2av_6stream_wrap_stream, "struct __pyx_obj_2av_6stream_Stream *(struct __pyx_obj_2av_9container_4core_Container *, struct AVStream *, struct __pyx_obj_2av_5codec_7context_CodecContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_stream", (void (**)(void))&__pyx_f_2av_6stream_wrap_stream, "struct __pyx_obj_2av_6stream_Stream *(struct __pyx_obj_2av_9container_4core_Container *, struct AVStream *, struct __pyx_obj_2av_5codec_7context_CodecContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "dict_to_avdict", (void (**)(void))&__pyx_f_2av_5utils_dict_to_avdict, "PyObject *(AVDictionary **, PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "dict_to_avdict", (void (**)(void))&__pyx_f_2av_5utils_dict_to_avdict, "PyObject *(AVDictionary **, PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -10630,18 +10663,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-    #ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+    #ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -10687,23 +10720,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -13766,17 +13799,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-    #ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+    #ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/container/pyio.c` & `pyav-12.1.0rc1/src/av/container/pyio.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2238,15 +2270,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -5571,15 +5603,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "stash_exception", (void (**)(void))&__pyx_f_2av_5error_stash_exception, "int (struct __pyx_opt_args_2av_5error_stash_exception *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "stash_exception", (void (**)(void))&__pyx_f_2av_5error_stash_exception, "int (struct __pyx_opt_args_2av_5error_stash_exception *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -10859,17 +10891,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/container/streams.c` & `pyav-12.1.0rc1/src/av/container/streams.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1652,15 +1684,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1752,31 +1784,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2006,16 +2038,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2047,14 +2079,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2604,30 +2637,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
 
 /* FetchCommonType.proto */
 #if !CYTHON_USE_TYPE_SPECS
@@ -2945,15 +2978,15 @@
 static int __pyx_Generator_init(PyObject *module);
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_9container_7streams_15StreamContainer_add_stream(struct __pyx_obj_2av_9container_7streams_StreamContainer *__pyx_v_self, struct __pyx_obj_2av_6stream_Stream *__pyx_v_stream); /* proto*/
 
@@ -6054,24 +6087,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9container_7streams___pyx_scope_struct___flatten *__pyx_freelist_2av_9container_7streams___pyx_scope_struct___flatten[8];
 static int __pyx_freecount_2av_9container_7streams___pyx_scope_struct___flatten = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9container_7streams___pyx_scope_struct___flatten(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9container_7streams___pyx_scope_struct___flatten > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_7streams___pyx_scope_struct___flatten)))) {
     o = (PyObject*)__pyx_freelist_2av_9container_7streams___pyx_scope_struct___flatten[--__pyx_freecount_2av_9container_7streams___pyx_scope_struct___flatten];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9container_7streams___pyx_scope_struct___flatten));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -6094,15 +6129,15 @@
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_input_);
   Py_CLEAR(p->__pyx_v_x);
   Py_CLEAR(p->__pyx_v_y);
   Py_CLEAR(p->__pyx_t_0);
   Py_CLEAR(p->__pyx_t_3);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9container_7streams___pyx_scope_struct___flatten < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9container_7streams___pyx_scope_struct___flatten)))) {
     __pyx_freelist_2av_9container_7streams___pyx_scope_struct___flatten[__pyx_freecount_2av_9container_7streams___pyx_scope_struct___flatten++] = ((struct __pyx_obj_2av_9container_7streams___pyx_scope_struct___flatten *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -6487,68 +6522,68 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(5, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(5, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(7, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(7, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(7, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(7, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(7, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(8, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(8, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(8, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(9, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(9, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(9, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(10, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(10, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(13, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(13, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -6569,15 +6604,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 2, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -8971,18 +9006,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9028,23 +9063,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -12606,17 +12641,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/data/stream.c` & `pyav-12.1.0rc1/src/av/data/stream.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1652,15 +1684,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1752,31 +1784,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -1996,16 +2028,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2037,14 +2069,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2407,56 +2440,56 @@
 #define __Pyx_PyObject_Format(s, f) PyObject_Format(s, f)
 #endif
 
 /* JoinPyUnicode.proto */
 static PyObject* __Pyx_PyUnicode_Join(PyObject* value_tuple, Py_ssize_t value_count, Py_ssize_t result_ulength,
                                       Py_UCS4 max_char);
 
-/* RaiseDoubleKeywords.proto */
-static void __Pyx_RaiseDoubleKeywordsError(const char* func_name, PyObject* kw_name);
-
-/* ParseKeywords.proto */
-static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject *const *kwvalues,
-    PyObject **argnames[],
-    PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,
-    const char* function_name);
-
 /* RaiseArgTupleInvalid.proto */
 static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
     Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found);
 
 /* KeywordStringCheck.proto */
 static int __Pyx_CheckKeywordStrings(PyObject *kw, const char* function_name, int kw_allowed);
 
 /* RaiseException.proto */
 static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
 
+/* RaiseDoubleKeywords.proto */
+static void __Pyx_RaiseDoubleKeywordsError(const char* func_name, PyObject* kw_name);
+
+/* ParseKeywords.proto */
+static int __Pyx_ParseOptionalKeywords(PyObject *kwds, PyObject *const *kwvalues,
+    PyObject **argnames[],
+    PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,
+    const char* function_name);
+
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2749,15 +2782,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -2803,37 +2836,29 @@
 /* Implementation of "av.data.stream" */
 /* #### Code section: global_var ### */
 static PyObject *__pyx_builtin_id;
 static PyObject *__pyx_builtin_TypeError;
 /* #### Code section: string_decls ### */
 static const char __pyx_k_[] = " #";
 static const char __pyx_k_x[] = "x";
-static const char __pyx_k__2[] = " ";
-static const char __pyx_k__3[] = "/";
-static const char __pyx_k__4[] = ">";
+static const char __pyx_k__2[] = ">";
+static const char __pyx_k__7[] = "?";
 static const char __pyx_k_av[] = "<av.";
 static const char __pyx_k_gc[] = "gc";
 static const char __pyx_k_id[] = "id";
-static const char __pyx_k__15[] = "?";
+static const char __pyx_k_data[] = " data/";
 static const char __pyx_k_main[] = "__main__";
 static const char __pyx_k_name[] = "__name__";
 static const char __pyx_k_self[] = "self";
 static const char __pyx_k_test[] = "__test__";
-static const char __pyx_k_type[] = "type";
 static const char __pyx_k_at_0x[] = " at 0x";
 static const char __pyx_k_class[] = "__class__";
-static const char __pyx_k_count[] = "count";
-static const char __pyx_k_frame[] = "frame";
 static const char __pyx_k_index[] = "index";
-static const char __pyx_k_decode[] = "decode";
 static const char __pyx_k_enable[] = "enable";
-static const char __pyx_k_encode[] = "encode";
 static const char __pyx_k_name_2[] = "name";
-static const char __pyx_k_notype[] = "<notype>";
-static const char __pyx_k_packet[] = "packet";
 static const char __pyx_k_reduce[] = "__reduce__";
 static const char __pyx_k_disable[] = "disable";
 static const char __pyx_k_nocodec[] = "<nocodec>";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_setstate[] = "__setstate__";
 static const char __pyx_k_TypeError[] = "TypeError";
 static const char __pyx_k_isenabled[] = "isenabled";
@@ -2842,29 +2867,24 @@
 static const char __pyx_k_DataStream[] = "DataStream";
 static const char __pyx_k_pyx_vtable[] = "__pyx_vtable__";
 static const char __pyx_k_is_coroutine[] = "_is_coroutine";
 static const char __pyx_k_stringsource[] = "<stringsource>";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
 static const char __pyx_k_av_data_stream[] = "av.data.stream";
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
-static const char __pyx_k_DataStream_decode[] = "DataStream.decode";
-static const char __pyx_k_DataStream_encode[] = "DataStream.encode";
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
-static const char __pyx_k_av_data_stream_pyx[] = "av/data/stream.pyx";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_DataStream___reduce_cython[] = "DataStream.__reduce_cython__";
 static const char __pyx_k_DataStream___setstate_cython[] = "DataStream.__setstate_cython__";
 static const char __pyx_k_self_ptr_cannot_be_converted_to[] = "self.ptr cannot be converted to a Python object for pickling";
 /* #### Code section: decls ### */
 static PyObject *__pyx_pf_2av_4data_6stream_10DataStream___repr__(struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_2encode(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_frame); /* proto */
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_4decode(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_packet, CYTHON_UNUSED PyObject *__pyx_v_count); /* proto */
 static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_4name___get__(struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_2__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_4__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_4data_6stream_DataStream(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
   PyObject *__pyx_b;
   PyObject *__pyx_cython_runtime;
@@ -2939,70 +2959,52 @@
   PyObject *__pyx_type_2av_4data_6stream_DataStream;
   #endif
   PyTypeObject *__pyx_ptype_2av_4data_6stream_DataStream;
   PyObject *__pyx_kp_u_;
   PyObject *__pyx_n_s_DataStream;
   PyObject *__pyx_n_s_DataStream___reduce_cython;
   PyObject *__pyx_n_s_DataStream___setstate_cython;
-  PyObject *__pyx_n_s_DataStream_decode;
-  PyObject *__pyx_n_s_DataStream_encode;
   PyObject *__pyx_n_s_TypeError;
-  PyObject *__pyx_n_s__15;
   PyObject *__pyx_kp_u__2;
-  PyObject *__pyx_kp_u__3;
-  PyObject *__pyx_kp_u__4;
+  PyObject *__pyx_n_s__7;
   PyObject *__pyx_n_s_asyncio_coroutines;
   PyObject *__pyx_kp_u_at_0x;
   PyObject *__pyx_kp_u_av;
   PyObject *__pyx_n_s_av_data_stream;
-  PyObject *__pyx_kp_s_av_data_stream_pyx;
   PyObject *__pyx_n_s_class;
   PyObject *__pyx_n_s_cline_in_traceback;
-  PyObject *__pyx_n_s_count;
-  PyObject *__pyx_n_s_decode;
+  PyObject *__pyx_kp_u_data;
   PyObject *__pyx_kp_u_disable;
   PyObject *__pyx_kp_u_enable;
-  PyObject *__pyx_n_s_encode;
-  PyObject *__pyx_n_s_frame;
   PyObject *__pyx_kp_u_gc;
   PyObject *__pyx_n_s_getstate;
   PyObject *__pyx_n_s_id;
   PyObject *__pyx_n_s_index;
   PyObject *__pyx_n_s_is_coroutine;
   PyObject *__pyx_kp_u_isenabled;
   PyObject *__pyx_n_s_main;
   PyObject *__pyx_n_s_name;
   PyObject *__pyx_n_s_name_2;
   PyObject *__pyx_kp_s_nocodec;
-  PyObject *__pyx_kp_s_notype;
-  PyObject *__pyx_n_s_packet;
   PyObject *__pyx_n_s_pyx_state;
   PyObject *__pyx_n_s_pyx_vtable;
   PyObject *__pyx_n_s_reduce;
   PyObject *__pyx_n_s_reduce_cython;
   PyObject *__pyx_n_s_reduce_ex;
   PyObject *__pyx_n_s_self;
   PyObject *__pyx_kp_s_self_ptr_cannot_be_converted_to;
   PyObject *__pyx_n_s_setstate;
   PyObject *__pyx_n_s_setstate_cython;
   PyObject *__pyx_kp_s_stringsource;
   PyObject *__pyx_n_s_test;
-  PyObject *__pyx_n_s_type;
   PyObject *__pyx_n_u_x;
-  PyObject *__pyx_int_0;
+  PyObject *__pyx_tuple__3;
   PyObject *__pyx_tuple__5;
-  PyObject *__pyx_tuple__7;
-  PyObject *__pyx_tuple__8;
-  PyObject *__pyx_tuple__10;
-  PyObject *__pyx_tuple__11;
-  PyObject *__pyx_tuple__13;
+  PyObject *__pyx_codeobj__4;
   PyObject *__pyx_codeobj__6;
-  PyObject *__pyx_codeobj__9;
-  PyObject *__pyx_codeobj__12;
-  PyObject *__pyx_codeobj__14;
 } __pyx_mstate;
 
 #if CYTHON_USE_MODULE_STATE
 #ifdef __cplusplus
 namespace {
   extern struct PyModuleDef __pyx_moduledef;
 } /* anonymous namespace */
@@ -3057,70 +3059,52 @@
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_6stream_Stream);
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_4data_6stream_DataStream);
   Py_CLEAR(clear_module_state->__pyx_type_2av_4data_6stream_DataStream);
   Py_CLEAR(clear_module_state->__pyx_kp_u_);
   Py_CLEAR(clear_module_state->__pyx_n_s_DataStream);
   Py_CLEAR(clear_module_state->__pyx_n_s_DataStream___reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_DataStream___setstate_cython);
-  Py_CLEAR(clear_module_state->__pyx_n_s_DataStream_decode);
-  Py_CLEAR(clear_module_state->__pyx_n_s_DataStream_encode);
   Py_CLEAR(clear_module_state->__pyx_n_s_TypeError);
-  Py_CLEAR(clear_module_state->__pyx_n_s__15);
   Py_CLEAR(clear_module_state->__pyx_kp_u__2);
-  Py_CLEAR(clear_module_state->__pyx_kp_u__3);
-  Py_CLEAR(clear_module_state->__pyx_kp_u__4);
+  Py_CLEAR(clear_module_state->__pyx_n_s__7);
   Py_CLEAR(clear_module_state->__pyx_n_s_asyncio_coroutines);
   Py_CLEAR(clear_module_state->__pyx_kp_u_at_0x);
   Py_CLEAR(clear_module_state->__pyx_kp_u_av);
   Py_CLEAR(clear_module_state->__pyx_n_s_av_data_stream);
-  Py_CLEAR(clear_module_state->__pyx_kp_s_av_data_stream_pyx);
   Py_CLEAR(clear_module_state->__pyx_n_s_class);
   Py_CLEAR(clear_module_state->__pyx_n_s_cline_in_traceback);
-  Py_CLEAR(clear_module_state->__pyx_n_s_count);
-  Py_CLEAR(clear_module_state->__pyx_n_s_decode);
+  Py_CLEAR(clear_module_state->__pyx_kp_u_data);
   Py_CLEAR(clear_module_state->__pyx_kp_u_disable);
   Py_CLEAR(clear_module_state->__pyx_kp_u_enable);
-  Py_CLEAR(clear_module_state->__pyx_n_s_encode);
-  Py_CLEAR(clear_module_state->__pyx_n_s_frame);
   Py_CLEAR(clear_module_state->__pyx_kp_u_gc);
   Py_CLEAR(clear_module_state->__pyx_n_s_getstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_id);
   Py_CLEAR(clear_module_state->__pyx_n_s_index);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_coroutine);
   Py_CLEAR(clear_module_state->__pyx_kp_u_isenabled);
   Py_CLEAR(clear_module_state->__pyx_n_s_main);
   Py_CLEAR(clear_module_state->__pyx_n_s_name);
   Py_CLEAR(clear_module_state->__pyx_n_s_name_2);
   Py_CLEAR(clear_module_state->__pyx_kp_s_nocodec);
-  Py_CLEAR(clear_module_state->__pyx_kp_s_notype);
-  Py_CLEAR(clear_module_state->__pyx_n_s_packet);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_state);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_vtable);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_ex);
   Py_CLEAR(clear_module_state->__pyx_n_s_self);
   Py_CLEAR(clear_module_state->__pyx_kp_s_self_ptr_cannot_be_converted_to);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate_cython);
   Py_CLEAR(clear_module_state->__pyx_kp_s_stringsource);
   Py_CLEAR(clear_module_state->__pyx_n_s_test);
-  Py_CLEAR(clear_module_state->__pyx_n_s_type);
   Py_CLEAR(clear_module_state->__pyx_n_u_x);
-  Py_CLEAR(clear_module_state->__pyx_int_0);
+  Py_CLEAR(clear_module_state->__pyx_tuple__3);
   Py_CLEAR(clear_module_state->__pyx_tuple__5);
-  Py_CLEAR(clear_module_state->__pyx_tuple__7);
-  Py_CLEAR(clear_module_state->__pyx_tuple__8);
-  Py_CLEAR(clear_module_state->__pyx_tuple__10);
-  Py_CLEAR(clear_module_state->__pyx_tuple__11);
-  Py_CLEAR(clear_module_state->__pyx_tuple__13);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__4);
   Py_CLEAR(clear_module_state->__pyx_codeobj__6);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__9);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__12);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__14);
   return 0;
 }
 #endif
 /* #### Code section: module_state_traverse ### */
 #if CYTHON_USE_MODULE_STATE
 static int __pyx_m_traverse(PyObject *m, visitproc visit, void *arg) {
   __pyx_mstate *traverse_module_state = __pyx_mstate(m);
@@ -3153,70 +3137,52 @@
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_6stream_Stream);
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_4data_6stream_DataStream);
   Py_VISIT(traverse_module_state->__pyx_type_2av_4data_6stream_DataStream);
   Py_VISIT(traverse_module_state->__pyx_kp_u_);
   Py_VISIT(traverse_module_state->__pyx_n_s_DataStream);
   Py_VISIT(traverse_module_state->__pyx_n_s_DataStream___reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_DataStream___setstate_cython);
-  Py_VISIT(traverse_module_state->__pyx_n_s_DataStream_decode);
-  Py_VISIT(traverse_module_state->__pyx_n_s_DataStream_encode);
   Py_VISIT(traverse_module_state->__pyx_n_s_TypeError);
-  Py_VISIT(traverse_module_state->__pyx_n_s__15);
   Py_VISIT(traverse_module_state->__pyx_kp_u__2);
-  Py_VISIT(traverse_module_state->__pyx_kp_u__3);
-  Py_VISIT(traverse_module_state->__pyx_kp_u__4);
+  Py_VISIT(traverse_module_state->__pyx_n_s__7);
   Py_VISIT(traverse_module_state->__pyx_n_s_asyncio_coroutines);
   Py_VISIT(traverse_module_state->__pyx_kp_u_at_0x);
   Py_VISIT(traverse_module_state->__pyx_kp_u_av);
   Py_VISIT(traverse_module_state->__pyx_n_s_av_data_stream);
-  Py_VISIT(traverse_module_state->__pyx_kp_s_av_data_stream_pyx);
   Py_VISIT(traverse_module_state->__pyx_n_s_class);
   Py_VISIT(traverse_module_state->__pyx_n_s_cline_in_traceback);
-  Py_VISIT(traverse_module_state->__pyx_n_s_count);
-  Py_VISIT(traverse_module_state->__pyx_n_s_decode);
+  Py_VISIT(traverse_module_state->__pyx_kp_u_data);
   Py_VISIT(traverse_module_state->__pyx_kp_u_disable);
   Py_VISIT(traverse_module_state->__pyx_kp_u_enable);
-  Py_VISIT(traverse_module_state->__pyx_n_s_encode);
-  Py_VISIT(traverse_module_state->__pyx_n_s_frame);
   Py_VISIT(traverse_module_state->__pyx_kp_u_gc);
   Py_VISIT(traverse_module_state->__pyx_n_s_getstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_id);
   Py_VISIT(traverse_module_state->__pyx_n_s_index);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_coroutine);
   Py_VISIT(traverse_module_state->__pyx_kp_u_isenabled);
   Py_VISIT(traverse_module_state->__pyx_n_s_main);
   Py_VISIT(traverse_module_state->__pyx_n_s_name);
   Py_VISIT(traverse_module_state->__pyx_n_s_name_2);
   Py_VISIT(traverse_module_state->__pyx_kp_s_nocodec);
-  Py_VISIT(traverse_module_state->__pyx_kp_s_notype);
-  Py_VISIT(traverse_module_state->__pyx_n_s_packet);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_state);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_vtable);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_ex);
   Py_VISIT(traverse_module_state->__pyx_n_s_self);
   Py_VISIT(traverse_module_state->__pyx_kp_s_self_ptr_cannot_be_converted_to);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate_cython);
   Py_VISIT(traverse_module_state->__pyx_kp_s_stringsource);
   Py_VISIT(traverse_module_state->__pyx_n_s_test);
-  Py_VISIT(traverse_module_state->__pyx_n_s_type);
   Py_VISIT(traverse_module_state->__pyx_n_u_x);
-  Py_VISIT(traverse_module_state->__pyx_int_0);
+  Py_VISIT(traverse_module_state->__pyx_tuple__3);
   Py_VISIT(traverse_module_state->__pyx_tuple__5);
-  Py_VISIT(traverse_module_state->__pyx_tuple__7);
-  Py_VISIT(traverse_module_state->__pyx_tuple__8);
-  Py_VISIT(traverse_module_state->__pyx_tuple__10);
-  Py_VISIT(traverse_module_state->__pyx_tuple__11);
-  Py_VISIT(traverse_module_state->__pyx_tuple__13);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__4);
   Py_VISIT(traverse_module_state->__pyx_codeobj__6);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__9);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__12);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__14);
   return 0;
 }
 #endif
 /* #### Code section: module_state_defines ### */
 #define __pyx_d __pyx_mstate_global->__pyx_d
 #define __pyx_b __pyx_mstate_global->__pyx_b
 #define __pyx_cython_runtime __pyx_mstate_global->__pyx_cython_runtime
@@ -3291,78 +3257,60 @@
 #define __pyx_type_2av_4data_6stream_DataStream __pyx_mstate_global->__pyx_type_2av_4data_6stream_DataStream
 #endif
 #define __pyx_ptype_2av_4data_6stream_DataStream __pyx_mstate_global->__pyx_ptype_2av_4data_6stream_DataStream
 #define __pyx_kp_u_ __pyx_mstate_global->__pyx_kp_u_
 #define __pyx_n_s_DataStream __pyx_mstate_global->__pyx_n_s_DataStream
 #define __pyx_n_s_DataStream___reduce_cython __pyx_mstate_global->__pyx_n_s_DataStream___reduce_cython
 #define __pyx_n_s_DataStream___setstate_cython __pyx_mstate_global->__pyx_n_s_DataStream___setstate_cython
-#define __pyx_n_s_DataStream_decode __pyx_mstate_global->__pyx_n_s_DataStream_decode
-#define __pyx_n_s_DataStream_encode __pyx_mstate_global->__pyx_n_s_DataStream_encode
 #define __pyx_n_s_TypeError __pyx_mstate_global->__pyx_n_s_TypeError
-#define __pyx_n_s__15 __pyx_mstate_global->__pyx_n_s__15
 #define __pyx_kp_u__2 __pyx_mstate_global->__pyx_kp_u__2
-#define __pyx_kp_u__3 __pyx_mstate_global->__pyx_kp_u__3
-#define __pyx_kp_u__4 __pyx_mstate_global->__pyx_kp_u__4
+#define __pyx_n_s__7 __pyx_mstate_global->__pyx_n_s__7
 #define __pyx_n_s_asyncio_coroutines __pyx_mstate_global->__pyx_n_s_asyncio_coroutines
 #define __pyx_kp_u_at_0x __pyx_mstate_global->__pyx_kp_u_at_0x
 #define __pyx_kp_u_av __pyx_mstate_global->__pyx_kp_u_av
 #define __pyx_n_s_av_data_stream __pyx_mstate_global->__pyx_n_s_av_data_stream
-#define __pyx_kp_s_av_data_stream_pyx __pyx_mstate_global->__pyx_kp_s_av_data_stream_pyx
 #define __pyx_n_s_class __pyx_mstate_global->__pyx_n_s_class
 #define __pyx_n_s_cline_in_traceback __pyx_mstate_global->__pyx_n_s_cline_in_traceback
-#define __pyx_n_s_count __pyx_mstate_global->__pyx_n_s_count
-#define __pyx_n_s_decode __pyx_mstate_global->__pyx_n_s_decode
+#define __pyx_kp_u_data __pyx_mstate_global->__pyx_kp_u_data
 #define __pyx_kp_u_disable __pyx_mstate_global->__pyx_kp_u_disable
 #define __pyx_kp_u_enable __pyx_mstate_global->__pyx_kp_u_enable
-#define __pyx_n_s_encode __pyx_mstate_global->__pyx_n_s_encode
-#define __pyx_n_s_frame __pyx_mstate_global->__pyx_n_s_frame
 #define __pyx_kp_u_gc __pyx_mstate_global->__pyx_kp_u_gc
 #define __pyx_n_s_getstate __pyx_mstate_global->__pyx_n_s_getstate
 #define __pyx_n_s_id __pyx_mstate_global->__pyx_n_s_id
 #define __pyx_n_s_index __pyx_mstate_global->__pyx_n_s_index
 #define __pyx_n_s_is_coroutine __pyx_mstate_global->__pyx_n_s_is_coroutine
 #define __pyx_kp_u_isenabled __pyx_mstate_global->__pyx_kp_u_isenabled
 #define __pyx_n_s_main __pyx_mstate_global->__pyx_n_s_main
 #define __pyx_n_s_name __pyx_mstate_global->__pyx_n_s_name
 #define __pyx_n_s_name_2 __pyx_mstate_global->__pyx_n_s_name_2
 #define __pyx_kp_s_nocodec __pyx_mstate_global->__pyx_kp_s_nocodec
-#define __pyx_kp_s_notype __pyx_mstate_global->__pyx_kp_s_notype
-#define __pyx_n_s_packet __pyx_mstate_global->__pyx_n_s_packet
 #define __pyx_n_s_pyx_state __pyx_mstate_global->__pyx_n_s_pyx_state
 #define __pyx_n_s_pyx_vtable __pyx_mstate_global->__pyx_n_s_pyx_vtable
 #define __pyx_n_s_reduce __pyx_mstate_global->__pyx_n_s_reduce
 #define __pyx_n_s_reduce_cython __pyx_mstate_global->__pyx_n_s_reduce_cython
 #define __pyx_n_s_reduce_ex __pyx_mstate_global->__pyx_n_s_reduce_ex
 #define __pyx_n_s_self __pyx_mstate_global->__pyx_n_s_self
 #define __pyx_kp_s_self_ptr_cannot_be_converted_to __pyx_mstate_global->__pyx_kp_s_self_ptr_cannot_be_converted_to
 #define __pyx_n_s_setstate __pyx_mstate_global->__pyx_n_s_setstate
 #define __pyx_n_s_setstate_cython __pyx_mstate_global->__pyx_n_s_setstate_cython
 #define __pyx_kp_s_stringsource __pyx_mstate_global->__pyx_kp_s_stringsource
 #define __pyx_n_s_test __pyx_mstate_global->__pyx_n_s_test
-#define __pyx_n_s_type __pyx_mstate_global->__pyx_n_s_type
 #define __pyx_n_u_x __pyx_mstate_global->__pyx_n_u_x
-#define __pyx_int_0 __pyx_mstate_global->__pyx_int_0
+#define __pyx_tuple__3 __pyx_mstate_global->__pyx_tuple__3
 #define __pyx_tuple__5 __pyx_mstate_global->__pyx_tuple__5
-#define __pyx_tuple__7 __pyx_mstate_global->__pyx_tuple__7
-#define __pyx_tuple__8 __pyx_mstate_global->__pyx_tuple__8
-#define __pyx_tuple__10 __pyx_mstate_global->__pyx_tuple__10
-#define __pyx_tuple__11 __pyx_mstate_global->__pyx_tuple__11
-#define __pyx_tuple__13 __pyx_mstate_global->__pyx_tuple__13
+#define __pyx_codeobj__4 __pyx_mstate_global->__pyx_codeobj__4
 #define __pyx_codeobj__6 __pyx_mstate_global->__pyx_codeobj__6
-#define __pyx_codeobj__9 __pyx_mstate_global->__pyx_codeobj__9
-#define __pyx_codeobj__12 __pyx_mstate_global->__pyx_codeobj__12
-#define __pyx_codeobj__14 __pyx_mstate_global->__pyx_codeobj__14
 /* #### Code section: module_code ### */
 
 /* "av/data/stream.pyx":5
  * 
  * cdef class DataStream(Stream):
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return (
- *             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"
+ *             f"<av.{self.__class__.__name__} #{self.index} data/"
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_1__repr__(PyObject *__pyx_v_self); /*proto*/
 static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_1__repr__(PyObject *__pyx_v_self) {
   CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
   PyObject *__pyx_r = 0;
@@ -3390,27 +3338,27 @@
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 1);
 
   /* "av/data/stream.pyx":6
  * cdef class DataStream(Stream):
  *     def __repr__(self):
  *         return (             # <<<<<<<<<<<<<<
- *             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"
+ *             f"<av.{self.__class__.__name__} #{self.index} data/"
  *             f"{self.name or '<nocodec>'} at 0x{id(self):x}>"
  */
   __Pyx_XDECREF(__pyx_r);
 
   /* "av/data/stream.pyx":7
  *     def __repr__(self):
  *         return (
- *             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"             # <<<<<<<<<<<<<<
+ *             f"<av.{self.__class__.__name__} #{self.index} data/"             # <<<<<<<<<<<<<<
  *             f"{self.name or '<nocodec>'} at 0x{id(self):x}>"
  *         )
  */
-  __pyx_t_1 = PyTuple_New(11); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 7, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = 0;
   __pyx_t_3 = 127;
   __Pyx_INCREF(__pyx_kp_u_av);
   __pyx_t_2 += 4;
   __Pyx_GIVEREF(__pyx_kp_u_av);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_kp_u_av);
@@ -3437,113 +3385,87 @@
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) : __pyx_t_3;
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_5);
   PyTuple_SET_ITEM(__pyx_t_1, 3, __pyx_t_5);
   __pyx_t_5 = 0;
-  __Pyx_INCREF(__pyx_kp_u__2);
-  __pyx_t_2 += 1;
-  __Pyx_GIVEREF(__pyx_kp_u__2);
-  PyTuple_SET_ITEM(__pyx_t_1, 4, __pyx_kp_u__2);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_type); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 7, __pyx_L1_error)
+  __Pyx_INCREF(__pyx_kp_u_data);
+  __pyx_t_2 += 6;
+  __Pyx_GIVEREF(__pyx_kp_u_data);
+  PyTuple_SET_ITEM(__pyx_t_1, 4, __pyx_kp_u_data);
+
+  /* "av/data/stream.pyx":8
+ *         return (
+ *             f"<av.{self.__class__.__name__} #{self.index} data/"
+ *             f"{self.name or '<nocodec>'} at 0x{id(self):x}>"             # <<<<<<<<<<<<<<
+ *         )
+ * 
+ */
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_name_2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely((__pyx_t_6 < 0))) __PYX_ERR(0, 7, __pyx_L1_error)
+  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_4); if (unlikely((__pyx_t_6 < 0))) __PYX_ERR(0, 8, __pyx_L1_error)
   if (!__pyx_t_6) {
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   } else {
     __Pyx_INCREF(__pyx_t_4);
     __pyx_t_5 = __pyx_t_4;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     goto __pyx_L3_bool_binop_done;
   }
-  __Pyx_INCREF(__pyx_kp_s_notype);
-  __pyx_t_5 = __pyx_kp_s_notype;
+  __Pyx_INCREF(__pyx_kp_s_nocodec);
+  __pyx_t_5 = __pyx_kp_s_nocodec;
   __pyx_L3_bool_binop_done:;
-  __pyx_t_4 = __Pyx_PyObject_FormatSimple(__pyx_t_5, __pyx_empty_unicode); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 7, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_FormatSimple(__pyx_t_5, __pyx_empty_unicode); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) : __pyx_t_3;
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_1, 5, __pyx_t_4);
   __pyx_t_4 = 0;
-  __Pyx_INCREF(__pyx_kp_u__3);
-  __pyx_t_2 += 1;
-  __Pyx_GIVEREF(__pyx_kp_u__3);
-  PyTuple_SET_ITEM(__pyx_t_1, 6, __pyx_kp_u__3);
-
-  /* "av/data/stream.pyx":8
- *         return (
- *             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"
- *             f"{self.name or '<nocodec>'} at 0x{id(self):x}>"             # <<<<<<<<<<<<<<
- *         )
- * 
- */
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_name_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 8, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_5);
-  __pyx_t_6 = __Pyx_PyObject_IsTrue(__pyx_t_5); if (unlikely((__pyx_t_6 < 0))) __PYX_ERR(0, 8, __pyx_L1_error)
-  if (!__pyx_t_6) {
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  } else {
-    __Pyx_INCREF(__pyx_t_5);
-    __pyx_t_4 = __pyx_t_5;
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-    goto __pyx_L5_bool_binop_done;
-  }
-  __Pyx_INCREF(__pyx_kp_s_nocodec);
-  __pyx_t_4 = __pyx_kp_s_nocodec;
-  __pyx_L5_bool_binop_done:;
-  __pyx_t_5 = __Pyx_PyObject_FormatSimple(__pyx_t_4, __pyx_empty_unicode); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 8, __pyx_L1_error)
+  __Pyx_INCREF(__pyx_kp_u_at_0x);
+  __pyx_t_2 += 6;
+  __Pyx_GIVEREF(__pyx_kp_u_at_0x);
+  PyTuple_SET_ITEM(__pyx_t_1, 6, __pyx_kp_u_at_0x);
+  __pyx_t_4 = __Pyx_PyObject_CallOneArg(__pyx_builtin_id, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 8, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_4);
+  __pyx_t_5 = __Pyx_PyObject_Format(__pyx_t_4, __pyx_n_u_x); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) : __pyx_t_3;
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_5);
   PyTuple_SET_ITEM(__pyx_t_1, 7, __pyx_t_5);
   __pyx_t_5 = 0;
-  __Pyx_INCREF(__pyx_kp_u_at_0x);
-  __pyx_t_2 += 6;
-  __Pyx_GIVEREF(__pyx_kp_u_at_0x);
-  PyTuple_SET_ITEM(__pyx_t_1, 8, __pyx_kp_u_at_0x);
-  __pyx_t_5 = __Pyx_PyObject_CallOneArg(__pyx_builtin_id, ((PyObject *)__pyx_v_self)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 8, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_5);
-  __pyx_t_4 = __Pyx_PyObject_Format(__pyx_t_5, __pyx_n_u_x); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 8, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
-  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) : __pyx_t_3;
-  __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_4);
-  __Pyx_GIVEREF(__pyx_t_4);
-  PyTuple_SET_ITEM(__pyx_t_1, 9, __pyx_t_4);
-  __pyx_t_4 = 0;
-  __Pyx_INCREF(__pyx_kp_u__4);
+  __Pyx_INCREF(__pyx_kp_u__2);
   __pyx_t_2 += 1;
-  __Pyx_GIVEREF(__pyx_kp_u__4);
-  PyTuple_SET_ITEM(__pyx_t_1, 10, __pyx_kp_u__4);
+  __Pyx_GIVEREF(__pyx_kp_u__2);
+  PyTuple_SET_ITEM(__pyx_t_1, 8, __pyx_kp_u__2);
 
   /* "av/data/stream.pyx":7
  *     def __repr__(self):
  *         return (
- *             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"             # <<<<<<<<<<<<<<
+ *             f"<av.{self.__class__.__name__} #{self.index} data/"             # <<<<<<<<<<<<<<
  *             f"{self.name or '<nocodec>'} at 0x{id(self):x}>"
  *         )
  */
-  __pyx_t_4 = __Pyx_PyUnicode_Join(__pyx_t_1, 11, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 7, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_4);
+  __pyx_t_5 = __Pyx_PyUnicode_Join(__pyx_t_1, 9, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 7, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_r = __pyx_t_4;
-  __pyx_t_4 = 0;
+  __pyx_r = __pyx_t_5;
+  __pyx_t_5 = 0;
   goto __pyx_L0;
 
   /* "av/data/stream.pyx":5
  * 
  * cdef class DataStream(Stream):
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return (
- *             f"<av.{self.__class__.__name__} #{self.index} {self.type or '<notype>'}/"
+ *             f"<av.{self.__class__.__name__} #{self.index} data/"
  */
 
   /* function exit code */
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_4);
   __Pyx_XDECREF(__pyx_t_5);
@@ -3554,328 +3476,14 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "av/data/stream.pyx":11
  *         )
  * 
- *     def encode(self, frame=None):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_3encode(PyObject *__pyx_v_self, 
-#if CYTHON_METH_FASTCALL
-PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
-#else
-PyObject *__pyx_args, PyObject *__pyx_kwds
-#endif
-); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_4data_6stream_10DataStream_2encode, "DataStream.encode(frame=None)");
-static PyMethodDef __pyx_mdef_2av_4data_6stream_10DataStream_3encode = {"encode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_3encode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_2encode};
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_3encode(PyObject *__pyx_v_self, 
-#if CYTHON_METH_FASTCALL
-PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
-#else
-PyObject *__pyx_args, PyObject *__pyx_kwds
-#endif
-) {
-  CYTHON_UNUSED PyObject *__pyx_v_frame = 0;
-  #if !CYTHON_METH_FASTCALL
-  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
-  #endif
-  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
-  PyObject* values[1] = {0};
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("encode (wrapper)", 0);
-  #if !CYTHON_METH_FASTCALL
-  #if CYTHON_ASSUME_SAFE_MACROS
-  __pyx_nargs = PyTuple_GET_SIZE(__pyx_args);
-  #else
-  __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
-  #endif
-  #endif
-  __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
-  {
-    PyObject **__pyx_pyargnames[] = {&__pyx_n_s_frame,0};
-    values[0] = __Pyx_Arg_NewRef_FASTCALL(((PyObject *)Py_None));
-    if (__pyx_kwds) {
-      Py_ssize_t kw_args;
-      switch (__pyx_nargs) {
-        case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
-      switch (__pyx_nargs) {
-        case  0:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_frame);
-          if (value) { values[0] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 11, __pyx_L3_error)
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "encode") < 0)) __PYX_ERR(0, 11, __pyx_L3_error)
-      }
-    } else {
-      switch (__pyx_nargs) {
-        case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-    }
-    __pyx_v_frame = values[0];
-  }
-  goto __pyx_L6_skip;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("encode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 11, __pyx_L3_error)
-  __pyx_L6_skip:;
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  {
-    Py_ssize_t __pyx_temp;
-    for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
-      __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
-    }
-  }
-  __Pyx_AddTraceback("av.data.stream.DataStream.encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_4data_6stream_10DataStream_2encode(((struct __pyx_obj_2av_4data_6stream_DataStream *)__pyx_v_self), __pyx_v_frame);
-
-  /* function exit code */
-  {
-    Py_ssize_t __pyx_temp;
-    for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
-      __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
-    }
-  }
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_2encode(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_frame) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("encode", 1);
-
-  /* "av/data/stream.pyx":12
- * 
- *     def encode(self, frame=None):
- *         return []             # <<<<<<<<<<<<<<
- * 
- *     def decode(self, packet=None, count=0):
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 12, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "av/data/stream.pyx":11
- *         )
- * 
- *     def encode(self, frame=None):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("av.data.stream.DataStream.encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "av/data/stream.pyx":14
- *         return []
- * 
- *     def decode(self, packet=None, count=0):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_5decode(PyObject *__pyx_v_self, 
-#if CYTHON_METH_FASTCALL
-PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
-#else
-PyObject *__pyx_args, PyObject *__pyx_kwds
-#endif
-); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_4data_6stream_10DataStream_4decode, "DataStream.decode(packet=None, count=0)");
-static PyMethodDef __pyx_mdef_2av_4data_6stream_10DataStream_5decode = {"decode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_5decode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_4decode};
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_5decode(PyObject *__pyx_v_self, 
-#if CYTHON_METH_FASTCALL
-PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
-#else
-PyObject *__pyx_args, PyObject *__pyx_kwds
-#endif
-) {
-  CYTHON_UNUSED PyObject *__pyx_v_packet = 0;
-  CYTHON_UNUSED PyObject *__pyx_v_count = 0;
-  #if !CYTHON_METH_FASTCALL
-  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
-  #endif
-  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
-  PyObject* values[2] = {0,0};
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("decode (wrapper)", 0);
-  #if !CYTHON_METH_FASTCALL
-  #if CYTHON_ASSUME_SAFE_MACROS
-  __pyx_nargs = PyTuple_GET_SIZE(__pyx_args);
-  #else
-  __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
-  #endif
-  #endif
-  __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
-  {
-    PyObject **__pyx_pyargnames[] = {&__pyx_n_s_packet,&__pyx_n_s_count,0};
-    values[0] = __Pyx_Arg_NewRef_FASTCALL(((PyObject *)Py_None));
-    values[1] = __Pyx_Arg_NewRef_FASTCALL(((PyObject *)__pyx_int_0));
-    if (__pyx_kwds) {
-      Py_ssize_t kw_args;
-      switch (__pyx_nargs) {
-        case  2: values[1] = __Pyx_Arg_FASTCALL(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
-      switch (__pyx_nargs) {
-        case  0:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_packet);
-          if (value) { values[0] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 14, __pyx_L3_error)
-        }
-        CYTHON_FALLTHROUGH;
-        case  1:
-        if (kw_args > 0) {
-          PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_count);
-          if (value) { values[1] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 14, __pyx_L3_error)
-        }
-      }
-      if (unlikely(kw_args > 0)) {
-        const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "decode") < 0)) __PYX_ERR(0, 14, __pyx_L3_error)
-      }
-    } else {
-      switch (__pyx_nargs) {
-        case  2: values[1] = __Pyx_Arg_FASTCALL(__pyx_args, 1);
-        CYTHON_FALLTHROUGH;
-        case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-    }
-    __pyx_v_packet = values[0];
-    __pyx_v_count = values[1];
-  }
-  goto __pyx_L6_skip;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("decode", 0, 0, 2, __pyx_nargs); __PYX_ERR(0, 14, __pyx_L3_error)
-  __pyx_L6_skip:;
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  {
-    Py_ssize_t __pyx_temp;
-    for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
-      __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
-    }
-  }
-  __Pyx_AddTraceback("av.data.stream.DataStream.decode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_4data_6stream_10DataStream_4decode(((struct __pyx_obj_2av_4data_6stream_DataStream *)__pyx_v_self), __pyx_v_packet, __pyx_v_count);
-
-  /* function exit code */
-  {
-    Py_ssize_t __pyx_temp;
-    for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
-      __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
-    }
-  }
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_4decode(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_packet, CYTHON_UNUSED PyObject *__pyx_v_count) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("decode", 1);
-
-  /* "av/data/stream.pyx":15
- * 
- *     def decode(self, packet=None, count=0):
- *         return []             # <<<<<<<<<<<<<<
- * 
- *     @property
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 15, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "av/data/stream.pyx":14
- *         return []
- * 
- *     def decode(self, packet=None, count=0):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("av.data.stream.DataStream.decode", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "av/data/stream.pyx":17
- *         return []
- * 
  *     @property             # <<<<<<<<<<<<<<
  *     def name(self):
  *         cdef const lib.AVCodecDescriptor *desc = lib.avcodec_descriptor_get(self.ptr.codecpar.codec_id)
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_4name_1__get__(PyObject *__pyx_v_self); /*proto*/
@@ -3899,66 +3507,66 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/data/stream.pyx":19
+  /* "av/data/stream.pyx":13
  *     @property
  *     def name(self):
  *         cdef const lib.AVCodecDescriptor *desc = lib.avcodec_descriptor_get(self.ptr.codecpar.codec_id)             # <<<<<<<<<<<<<<
  *         if desc == NULL:
  *             return None
  */
   __pyx_v_desc = avcodec_descriptor_get(__pyx_v_self->__pyx_base.ptr->codecpar->codec_id);
 
-  /* "av/data/stream.pyx":20
+  /* "av/data/stream.pyx":14
  *     def name(self):
  *         cdef const lib.AVCodecDescriptor *desc = lib.avcodec_descriptor_get(self.ptr.codecpar.codec_id)
  *         if desc == NULL:             # <<<<<<<<<<<<<<
  *             return None
  *         return desc.name
  */
   __pyx_t_1 = (__pyx_v_desc == NULL);
   if (__pyx_t_1) {
 
-    /* "av/data/stream.pyx":21
+    /* "av/data/stream.pyx":15
  *         cdef const lib.AVCodecDescriptor *desc = lib.avcodec_descriptor_get(self.ptr.codecpar.codec_id)
  *         if desc == NULL:
  *             return None             # <<<<<<<<<<<<<<
  *         return desc.name
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "av/data/stream.pyx":20
+    /* "av/data/stream.pyx":14
  *     def name(self):
  *         cdef const lib.AVCodecDescriptor *desc = lib.avcodec_descriptor_get(self.ptr.codecpar.codec_id)
  *         if desc == NULL:             # <<<<<<<<<<<<<<
  *             return None
  *         return desc.name
  */
   }
 
-  /* "av/data/stream.pyx":22
+  /* "av/data/stream.pyx":16
  *         if desc == NULL:
  *             return None
  *         return desc.name             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyStr_FromString(__pyx_v_desc->name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 22, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyStr_FromString(__pyx_v_desc->name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "av/data/stream.pyx":17
- *         return []
+  /* "av/data/stream.pyx":11
+ *         )
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def name(self):
  *         cdef const lib.AVCodecDescriptor *desc = lib.avcodec_descriptor_get(self.ptr.codecpar.codec_id)
  */
 
   /* function exit code */
@@ -3975,24 +3583,24 @@
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_7__reduce_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_3__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_4data_6stream_10DataStream_6__reduce_cython__, "DataStream.__reduce_cython__()");
-static PyMethodDef __pyx_mdef_2av_4data_6stream_10DataStream_7__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_6__reduce_cython__};
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_7__reduce_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_4data_6stream_10DataStream_2__reduce_cython__, "DataStream.__reduce_cython__()");
+static PyMethodDef __pyx_mdef_2av_4data_6stream_10DataStream_3__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_3__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_2__reduce_cython__};
+static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_3__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   #if !CYTHON_METH_FASTCALL
@@ -4009,22 +3617,22 @@
   __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
   #endif
   #endif
   __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
   if (unlikely(__pyx_nargs > 0)) {
     __Pyx_RaiseArgtupleInvalid("__reduce_cython__", 1, 0, 0, __pyx_nargs); return NULL;}
   if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__reduce_cython__", 0))) return NULL;
-  __pyx_r = __pyx_pf_2av_4data_6stream_10DataStream_6__reduce_cython__(((struct __pyx_obj_2av_4data_6stream_DataStream *)__pyx_v_self));
+  __pyx_r = __pyx_pf_2av_4data_6stream_10DataStream_2__reduce_cython__(((struct __pyx_obj_2av_4data_6stream_DataStream *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self) {
+static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_2__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 1);
 
@@ -4056,24 +3664,24 @@
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_9__setstate_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_5__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_4data_6stream_10DataStream_8__setstate_cython__, "DataStream.__setstate_cython__(__pyx_state)");
-static PyMethodDef __pyx_mdef_2av_4data_6stream_10DataStream_9__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_8__setstate_cython__};
-static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_9__setstate_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_4data_6stream_10DataStream_4__setstate_cython__, "DataStream.__setstate_cython__(__pyx_state)");
+static PyMethodDef __pyx_mdef_2av_4data_6stream_10DataStream_5__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_5__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_4__setstate_cython__};
+static PyObject *__pyx_pw_2av_4data_6stream_10DataStream_5__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   CYTHON_UNUSED PyObject *__pyx_v___pyx_state = 0;
@@ -4139,28 +3747,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.data.stream.DataStream.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_4data_6stream_10DataStream_8__setstate_cython__(((struct __pyx_obj_2av_4data_6stream_DataStream *)__pyx_v_self), __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_4data_6stream_10DataStream_4__setstate_cython__(((struct __pyx_obj_2av_4data_6stream_DataStream *)__pyx_v_self), __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_4data_6stream_10DataStream_4__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_4data_6stream_DataStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 1);
 
@@ -4215,18 +3823,16 @@
 
 static PyObject *__pyx_specialmethod___pyx_pw_2av_4data_6stream_10DataStream_1__repr__(PyObject *self, CYTHON_UNUSED PyObject *arg) {
   return __pyx_pw_2av_4data_6stream_10DataStream_1__repr__(self);
 }
 
 static PyMethodDef __pyx_methods_2av_4data_6stream_DataStream[] = {
   {"__repr__", (PyCFunction)__pyx_specialmethod___pyx_pw_2av_4data_6stream_10DataStream_1__repr__, METH_NOARGS|METH_COEXIST, 0},
-  {"encode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_3encode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_2encode},
-  {"decode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_5decode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_4decode},
-  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_6__reduce_cython__},
-  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_8__setstate_cython__},
+  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_3__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_2__reduce_cython__},
+  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_4data_6stream_10DataStream_5__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_4data_6stream_10DataStream_4__setstate_cython__},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_2av_4data_6stream_DataStream[] = {
   {(char *)"name", __pyx_getprop_2av_4data_6stream_10DataStream_name, 0, (char *)0, 0},
   {0, 0, 0, 0, 0}
 };
@@ -4347,58 +3953,47 @@
 
 static int __Pyx_CreateStringTabAndInitStrings(void) {
   __Pyx_StringTabEntry __pyx_string_tab[] = {
     {&__pyx_kp_u_, __pyx_k_, sizeof(__pyx_k_), 0, 1, 0, 0},
     {&__pyx_n_s_DataStream, __pyx_k_DataStream, sizeof(__pyx_k_DataStream), 0, 0, 1, 1},
     {&__pyx_n_s_DataStream___reduce_cython, __pyx_k_DataStream___reduce_cython, sizeof(__pyx_k_DataStream___reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_DataStream___setstate_cython, __pyx_k_DataStream___setstate_cython, sizeof(__pyx_k_DataStream___setstate_cython), 0, 0, 1, 1},
-    {&__pyx_n_s_DataStream_decode, __pyx_k_DataStream_decode, sizeof(__pyx_k_DataStream_decode), 0, 0, 1, 1},
-    {&__pyx_n_s_DataStream_encode, __pyx_k_DataStream_encode, sizeof(__pyx_k_DataStream_encode), 0, 0, 1, 1},
     {&__pyx_n_s_TypeError, __pyx_k_TypeError, sizeof(__pyx_k_TypeError), 0, 0, 1, 1},
-    {&__pyx_n_s__15, __pyx_k__15, sizeof(__pyx_k__15), 0, 0, 1, 1},
     {&__pyx_kp_u__2, __pyx_k__2, sizeof(__pyx_k__2), 0, 1, 0, 0},
-    {&__pyx_kp_u__3, __pyx_k__3, sizeof(__pyx_k__3), 0, 1, 0, 0},
-    {&__pyx_kp_u__4, __pyx_k__4, sizeof(__pyx_k__4), 0, 1, 0, 0},
+    {&__pyx_n_s__7, __pyx_k__7, sizeof(__pyx_k__7), 0, 0, 1, 1},
     {&__pyx_n_s_asyncio_coroutines, __pyx_k_asyncio_coroutines, sizeof(__pyx_k_asyncio_coroutines), 0, 0, 1, 1},
     {&__pyx_kp_u_at_0x, __pyx_k_at_0x, sizeof(__pyx_k_at_0x), 0, 1, 0, 0},
     {&__pyx_kp_u_av, __pyx_k_av, sizeof(__pyx_k_av), 0, 1, 0, 0},
     {&__pyx_n_s_av_data_stream, __pyx_k_av_data_stream, sizeof(__pyx_k_av_data_stream), 0, 0, 1, 1},
-    {&__pyx_kp_s_av_data_stream_pyx, __pyx_k_av_data_stream_pyx, sizeof(__pyx_k_av_data_stream_pyx), 0, 0, 1, 0},
     {&__pyx_n_s_class, __pyx_k_class, sizeof(__pyx_k_class), 0, 0, 1, 1},
     {&__pyx_n_s_cline_in_traceback, __pyx_k_cline_in_traceback, sizeof(__pyx_k_cline_in_traceback), 0, 0, 1, 1},
-    {&__pyx_n_s_count, __pyx_k_count, sizeof(__pyx_k_count), 0, 0, 1, 1},
-    {&__pyx_n_s_decode, __pyx_k_decode, sizeof(__pyx_k_decode), 0, 0, 1, 1},
+    {&__pyx_kp_u_data, __pyx_k_data, sizeof(__pyx_k_data), 0, 1, 0, 0},
     {&__pyx_kp_u_disable, __pyx_k_disable, sizeof(__pyx_k_disable), 0, 1, 0, 0},
     {&__pyx_kp_u_enable, __pyx_k_enable, sizeof(__pyx_k_enable), 0, 1, 0, 0},
-    {&__pyx_n_s_encode, __pyx_k_encode, sizeof(__pyx_k_encode), 0, 0, 1, 1},
-    {&__pyx_n_s_frame, __pyx_k_frame, sizeof(__pyx_k_frame), 0, 0, 1, 1},
     {&__pyx_kp_u_gc, __pyx_k_gc, sizeof(__pyx_k_gc), 0, 1, 0, 0},
     {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
     {&__pyx_n_s_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 0, 1, 1},
     {&__pyx_n_s_index, __pyx_k_index, sizeof(__pyx_k_index), 0, 0, 1, 1},
     {&__pyx_n_s_is_coroutine, __pyx_k_is_coroutine, sizeof(__pyx_k_is_coroutine), 0, 0, 1, 1},
     {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
     {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
     {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
     {&__pyx_n_s_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 0, 1, 1},
     {&__pyx_kp_s_nocodec, __pyx_k_nocodec, sizeof(__pyx_k_nocodec), 0, 0, 1, 0},
-    {&__pyx_kp_s_notype, __pyx_k_notype, sizeof(__pyx_k_notype), 0, 0, 1, 0},
-    {&__pyx_n_s_packet, __pyx_k_packet, sizeof(__pyx_k_packet), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_state, __pyx_k_pyx_state, sizeof(__pyx_k_pyx_state), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_vtable, __pyx_k_pyx_vtable, sizeof(__pyx_k_pyx_vtable), 0, 0, 1, 1},
     {&__pyx_n_s_reduce, __pyx_k_reduce, sizeof(__pyx_k_reduce), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_cython, __pyx_k_reduce_cython, sizeof(__pyx_k_reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_ex, __pyx_k_reduce_ex, sizeof(__pyx_k_reduce_ex), 0, 0, 1, 1},
     {&__pyx_n_s_self, __pyx_k_self, sizeof(__pyx_k_self), 0, 0, 1, 1},
     {&__pyx_kp_s_self_ptr_cannot_be_converted_to, __pyx_k_self_ptr_cannot_be_converted_to, sizeof(__pyx_k_self_ptr_cannot_be_converted_to), 0, 0, 1, 0},
     {&__pyx_n_s_setstate, __pyx_k_setstate, sizeof(__pyx_k_setstate), 0, 0, 1, 1},
     {&__pyx_n_s_setstate_cython, __pyx_k_setstate_cython, sizeof(__pyx_k_setstate_cython), 0, 0, 1, 1},
     {&__pyx_kp_s_stringsource, __pyx_k_stringsource, sizeof(__pyx_k_stringsource), 0, 0, 1, 0},
     {&__pyx_n_s_test, __pyx_k_test, sizeof(__pyx_k_test), 0, 0, 1, 1},
-    {&__pyx_n_s_type, __pyx_k_type, sizeof(__pyx_k_type), 0, 0, 1, 1},
     {&__pyx_n_u_x, __pyx_k_x, sizeof(__pyx_k_x), 0, 1, 0, 1},
     {0, 0, 0, 0, 0, 0, 0}
   };
   return __Pyx_InitStrings(__pyx_string_tab);
 }
 /* #### Code section: cached_builtins ### */
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
@@ -4410,75 +4005,44 @@
 }
 /* #### Code section: cached_constants ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__Pyx_InitCachedConstants", 0);
 
-  /* "av/data/stream.pyx":11
- *         )
- * 
- *     def encode(self, frame=None):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-  __pyx_tuple__5 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_frame); if (unlikely(!__pyx_tuple__5)) __PYX_ERR(0, 11, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__5);
-  __Pyx_GIVEREF(__pyx_tuple__5);
-  __pyx_codeobj__6 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__5, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_data_stream_pyx, __pyx_n_s_encode, 11, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__6)) __PYX_ERR(0, 11, __pyx_L1_error)
-  __pyx_tuple__7 = PyTuple_Pack(1, Py_None); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 11, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__7);
-  __Pyx_GIVEREF(__pyx_tuple__7);
-
-  /* "av/data/stream.pyx":14
- *         return []
- * 
- *     def decode(self, packet=None, count=0):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-  __pyx_tuple__8 = PyTuple_Pack(3, __pyx_n_s_self, __pyx_n_s_packet, __pyx_n_s_count); if (unlikely(!__pyx_tuple__8)) __PYX_ERR(0, 14, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__8);
-  __Pyx_GIVEREF(__pyx_tuple__8);
-  __pyx_codeobj__9 = (PyObject*)__Pyx_PyCode_New(3, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__8, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_data_stream_pyx, __pyx_n_s_decode, 14, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__9)) __PYX_ERR(0, 14, __pyx_L1_error)
-  __pyx_tuple__10 = PyTuple_Pack(2, Py_None, __pyx_int_0); if (unlikely(!__pyx_tuple__10)) __PYX_ERR(0, 14, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__10);
-  __Pyx_GIVEREF(__pyx_tuple__10);
-
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_tuple__11 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__11)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__11);
-  __Pyx_GIVEREF(__pyx_tuple__11);
-  __pyx_codeobj__12 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__11, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__12)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__3 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__3)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__3);
+  __Pyx_GIVEREF(__pyx_tuple__3);
+  __pyx_codeobj__4 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__3, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__4)) __PYX_ERR(1, 1, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_tuple__13 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__13)) __PYX_ERR(1, 3, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__13);
-  __Pyx_GIVEREF(__pyx_tuple__13);
-  __pyx_codeobj__14 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__13, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__14)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_tuple__5 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__5)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__5);
+  __Pyx_GIVEREF(__pyx_tuple__5);
+  __pyx_codeobj__6 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__5, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__6)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 /* #### Code section: init_constants ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitConstants(void) {
   if (__Pyx_CreateStringTabAndInitStrings() < 0) __PYX_ERR(0, 1, __pyx_L1_error);
-  __pyx_int_0 = PyInt_FromLong(0); if (unlikely(!__pyx_int_0)) __PYX_ERR(0, 1, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 /* #### Code section: init_globals ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitGlobals(void) {
@@ -4525,15 +4089,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_4data_6stream_DataStream = &__pyx_vtable_2av_4data_6stream_DataStream;
   __pyx_vtable_2av_4data_6stream_DataStream.__pyx_base = *__pyx_vtabptr_2av_6stream_Stream;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_ptype_2av_4data_6stream_DataStream = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_4data_6stream_DataStream_spec, __pyx_t_2);
@@ -4582,68 +4146,68 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(5, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(5, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(7, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(7, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(7, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(7, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(7, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(8, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(8, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(8, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(9, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(9, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(9, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(10, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(10, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(11, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -4664,15 +4228,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -4952,59 +4516,31 @@
   (void)__Pyx_modinit_variable_import_code();
   if (unlikely((__Pyx_modinit_function_import_code() < 0))) __PYX_ERR(0, 1, __pyx_L1_error)
   /*--- Execution code ---*/
   #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
   if (__Pyx_patch_abc() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   #endif
 
-  /* "av/data/stream.pyx":11
- *         )
- * 
- *     def encode(self, frame=None):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_4data_6stream_10DataStream_3encode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_DataStream_encode, NULL, __pyx_n_s_av_data_stream, __pyx_d, ((PyObject *)__pyx_codeobj__6)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 11, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__7);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_4data_6stream_DataStream, __pyx_n_s_encode, __pyx_t_2) < 0) __PYX_ERR(0, 11, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  PyType_Modified(__pyx_ptype_2av_4data_6stream_DataStream);
-
-  /* "av/data/stream.pyx":14
- *         return []
- * 
- *     def decode(self, packet=None, count=0):             # <<<<<<<<<<<<<<
- *         return []
- * 
- */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_4data_6stream_10DataStream_5decode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_DataStream_decode, NULL, __pyx_n_s_av_data_stream, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 14, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__10);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_4data_6stream_DataStream, __pyx_n_s_decode, __pyx_t_2) < 0) __PYX_ERR(0, 14, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  PyType_Modified(__pyx_ptype_2av_4data_6stream_DataStream);
-
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_4data_6stream_10DataStream_7__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_DataStream___reduce_cython, NULL, __pyx_n_s_av_data_stream, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_4data_6stream_10DataStream_3__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_DataStream___reduce_cython, NULL, __pyx_n_s_av_data_stream, __pyx_d, ((PyObject *)__pyx_codeobj__4)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_2) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_4data_6stream_10DataStream_9__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_DataStream___setstate_cython, NULL, __pyx_n_s_av_data_stream, __pyx_d, ((PyObject *)__pyx_codeobj__14)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_4data_6stream_10DataStream_5__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_DataStream___setstate_cython, NULL, __pyx_n_s_av_data_stream, __pyx_d, ((PyObject *)__pyx_codeobj__6)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_2) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "av/data/stream.pyx":1
  * cimport libav as lib             # <<<<<<<<<<<<<<
  * 
@@ -5825,184 +5361,14 @@
     CYTHON_UNUSED_VAR(max_char);
     CYTHON_UNUSED_VAR(result_ulength);
     CYTHON_UNUSED_VAR(value_count);
     return PyUnicode_Join(__pyx_empty_unicode, value_tuple);
 #endif
 }
 
-/* RaiseDoubleKeywords */
-static void __Pyx_RaiseDoubleKeywordsError(
-    const char* func_name,
-    PyObject* kw_name)
-{
-    PyErr_Format(PyExc_TypeError,
-        #if PY_MAJOR_VERSION >= 3
-        "%s() got multiple values for keyword argument '%U'", func_name, kw_name);
-        #else
-        "%s() got multiple values for keyword argument '%s'", func_name,
-        PyString_AsString(kw_name));
-        #endif
-}
-
-/* ParseKeywords */
-static int __Pyx_ParseOptionalKeywords(
-    PyObject *kwds,
-    PyObject *const *kwvalues,
-    PyObject **argnames[],
-    PyObject *kwds2,
-    PyObject *values[],
-    Py_ssize_t num_pos_args,
-    const char* function_name)
-{
-    PyObject *key = 0, *value = 0;
-    Py_ssize_t pos = 0;
-    PyObject*** name;
-    PyObject*** first_kw_arg = argnames + num_pos_args;
-    int kwds_is_tuple = CYTHON_METH_FASTCALL && likely(PyTuple_Check(kwds));
-    while (1) {
-        Py_XDECREF(key); key = NULL;
-        Py_XDECREF(value); value = NULL;
-        if (kwds_is_tuple) {
-            Py_ssize_t size;
-#if CYTHON_ASSUME_SAFE_MACROS
-            size = PyTuple_GET_SIZE(kwds);
-#else
-            size = PyTuple_Size(kwds);
-            if (size < 0) goto bad;
-#endif
-            if (pos >= size) break;
-#if CYTHON_AVOID_BORROWED_REFS
-            key = __Pyx_PySequence_ITEM(kwds, pos);
-            if (!key) goto bad;
-#elif CYTHON_ASSUME_SAFE_MACROS
-            key = PyTuple_GET_ITEM(kwds, pos);
-#else
-            key = PyTuple_GetItem(kwds, pos);
-            if (!key) goto bad;
-#endif
-            value = kwvalues[pos];
-            pos++;
-        }
-        else
-        {
-            if (!PyDict_Next(kwds, &pos, &key, &value)) break;
-#if CYTHON_AVOID_BORROWED_REFS
-            Py_INCREF(key);
-#endif
-        }
-        name = first_kw_arg;
-        while (*name && (**name != key)) name++;
-        if (*name) {
-            values[name-argnames] = value;
-#if CYTHON_AVOID_BORROWED_REFS
-            Py_INCREF(value);
-            Py_DECREF(key);
-#endif
-            key = NULL;
-            value = NULL;
-            continue;
-        }
-#if !CYTHON_AVOID_BORROWED_REFS
-        Py_INCREF(key);
-#endif
-        Py_INCREF(value);
-        name = first_kw_arg;
-        #if PY_MAJOR_VERSION < 3
-        if (likely(PyString_Check(key))) {
-            while (*name) {
-                if ((CYTHON_COMPILING_IN_PYPY || PyString_GET_SIZE(**name) == PyString_GET_SIZE(key))
-                        && _PyString_Eq(**name, key)) {
-                    values[name-argnames] = value;
-#if CYTHON_AVOID_BORROWED_REFS
-                    value = NULL;
-#endif
-                    break;
-                }
-                name++;
-            }
-            if (*name) continue;
-            else {
-                PyObject*** argname = argnames;
-                while (argname != first_kw_arg) {
-                    if ((**argname == key) || (
-                            (CYTHON_COMPILING_IN_PYPY || PyString_GET_SIZE(**argname) == PyString_GET_SIZE(key))
-                             && _PyString_Eq(**argname, key))) {
-                        goto arg_passed_twice;
-                    }
-                    argname++;
-                }
-            }
-        } else
-        #endif
-        if (likely(PyUnicode_Check(key))) {
-            while (*name) {
-                int cmp = (
-                #if !CYTHON_COMPILING_IN_PYPY && PY_MAJOR_VERSION >= 3
-                    (__Pyx_PyUnicode_GET_LENGTH(**name) != __Pyx_PyUnicode_GET_LENGTH(key)) ? 1 :
-                #endif
-                    PyUnicode_Compare(**name, key)
-                );
-                if (cmp < 0 && unlikely(PyErr_Occurred())) goto bad;
-                if (cmp == 0) {
-                    values[name-argnames] = value;
-#if CYTHON_AVOID_BORROWED_REFS
-                    value = NULL;
-#endif
-                    break;
-                }
-                name++;
-            }
-            if (*name) continue;
-            else {
-                PyObject*** argname = argnames;
-                while (argname != first_kw_arg) {
-                    int cmp = (**argname == key) ? 0 :
-                    #if !CYTHON_COMPILING_IN_PYPY && PY_MAJOR_VERSION >= 3
-                        (__Pyx_PyUnicode_GET_LENGTH(**argname) != __Pyx_PyUnicode_GET_LENGTH(key)) ? 1 :
-                    #endif
-                        PyUnicode_Compare(**argname, key);
-                    if (cmp < 0 && unlikely(PyErr_Occurred())) goto bad;
-                    if (cmp == 0) goto arg_passed_twice;
-                    argname++;
-                }
-            }
-        } else
-            goto invalid_keyword_type;
-        if (kwds2) {
-            if (unlikely(PyDict_SetItem(kwds2, key, value))) goto bad;
-        } else {
-            goto invalid_keyword;
-        }
-    }
-    Py_XDECREF(key);
-    Py_XDECREF(value);
-    return 0;
-arg_passed_twice:
-    __Pyx_RaiseDoubleKeywordsError(function_name, key);
-    goto bad;
-invalid_keyword_type:
-    PyErr_Format(PyExc_TypeError,
-        "%.200s() keywords must be strings", function_name);
-    goto bad;
-invalid_keyword:
-    #if PY_MAJOR_VERSION < 3
-    PyErr_Format(PyExc_TypeError,
-        "%.200s() got an unexpected keyword argument '%.200s'",
-        function_name, PyString_AsString(key));
-    #else
-    PyErr_Format(PyExc_TypeError,
-        "%s() got an unexpected keyword argument '%U'",
-        function_name, key);
-    #endif
-bad:
-    Py_XDECREF(key);
-    Py_XDECREF(value);
-    return -1;
-}
-
 /* RaiseArgTupleInvalid */
 static void __Pyx_RaiseArgtupleInvalid(
     const char* func_name,
     int exact,
     Py_ssize_t num_min,
     Py_ssize_t num_max,
     Py_ssize_t num_found)
@@ -6256,14 +5622,184 @@
     }
 bad:
     Py_XDECREF(owned_instance);
     return;
 }
 #endif
 
+/* RaiseDoubleKeywords */
+static void __Pyx_RaiseDoubleKeywordsError(
+    const char* func_name,
+    PyObject* kw_name)
+{
+    PyErr_Format(PyExc_TypeError,
+        #if PY_MAJOR_VERSION >= 3
+        "%s() got multiple values for keyword argument '%U'", func_name, kw_name);
+        #else
+        "%s() got multiple values for keyword argument '%s'", func_name,
+        PyString_AsString(kw_name));
+        #endif
+}
+
+/* ParseKeywords */
+static int __Pyx_ParseOptionalKeywords(
+    PyObject *kwds,
+    PyObject *const *kwvalues,
+    PyObject **argnames[],
+    PyObject *kwds2,
+    PyObject *values[],
+    Py_ssize_t num_pos_args,
+    const char* function_name)
+{
+    PyObject *key = 0, *value = 0;
+    Py_ssize_t pos = 0;
+    PyObject*** name;
+    PyObject*** first_kw_arg = argnames + num_pos_args;
+    int kwds_is_tuple = CYTHON_METH_FASTCALL && likely(PyTuple_Check(kwds));
+    while (1) {
+        Py_XDECREF(key); key = NULL;
+        Py_XDECREF(value); value = NULL;
+        if (kwds_is_tuple) {
+            Py_ssize_t size;
+#if CYTHON_ASSUME_SAFE_MACROS
+            size = PyTuple_GET_SIZE(kwds);
+#else
+            size = PyTuple_Size(kwds);
+            if (size < 0) goto bad;
+#endif
+            if (pos >= size) break;
+#if CYTHON_AVOID_BORROWED_REFS
+            key = __Pyx_PySequence_ITEM(kwds, pos);
+            if (!key) goto bad;
+#elif CYTHON_ASSUME_SAFE_MACROS
+            key = PyTuple_GET_ITEM(kwds, pos);
+#else
+            key = PyTuple_GetItem(kwds, pos);
+            if (!key) goto bad;
+#endif
+            value = kwvalues[pos];
+            pos++;
+        }
+        else
+        {
+            if (!PyDict_Next(kwds, &pos, &key, &value)) break;
+#if CYTHON_AVOID_BORROWED_REFS
+            Py_INCREF(key);
+#endif
+        }
+        name = first_kw_arg;
+        while (*name && (**name != key)) name++;
+        if (*name) {
+            values[name-argnames] = value;
+#if CYTHON_AVOID_BORROWED_REFS
+            Py_INCREF(value);
+            Py_DECREF(key);
+#endif
+            key = NULL;
+            value = NULL;
+            continue;
+        }
+#if !CYTHON_AVOID_BORROWED_REFS
+        Py_INCREF(key);
+#endif
+        Py_INCREF(value);
+        name = first_kw_arg;
+        #if PY_MAJOR_VERSION < 3
+        if (likely(PyString_Check(key))) {
+            while (*name) {
+                if ((CYTHON_COMPILING_IN_PYPY || PyString_GET_SIZE(**name) == PyString_GET_SIZE(key))
+                        && _PyString_Eq(**name, key)) {
+                    values[name-argnames] = value;
+#if CYTHON_AVOID_BORROWED_REFS
+                    value = NULL;
+#endif
+                    break;
+                }
+                name++;
+            }
+            if (*name) continue;
+            else {
+                PyObject*** argname = argnames;
+                while (argname != first_kw_arg) {
+                    if ((**argname == key) || (
+                            (CYTHON_COMPILING_IN_PYPY || PyString_GET_SIZE(**argname) == PyString_GET_SIZE(key))
+                             && _PyString_Eq(**argname, key))) {
+                        goto arg_passed_twice;
+                    }
+                    argname++;
+                }
+            }
+        } else
+        #endif
+        if (likely(PyUnicode_Check(key))) {
+            while (*name) {
+                int cmp = (
+                #if !CYTHON_COMPILING_IN_PYPY && PY_MAJOR_VERSION >= 3
+                    (__Pyx_PyUnicode_GET_LENGTH(**name) != __Pyx_PyUnicode_GET_LENGTH(key)) ? 1 :
+                #endif
+                    PyUnicode_Compare(**name, key)
+                );
+                if (cmp < 0 && unlikely(PyErr_Occurred())) goto bad;
+                if (cmp == 0) {
+                    values[name-argnames] = value;
+#if CYTHON_AVOID_BORROWED_REFS
+                    value = NULL;
+#endif
+                    break;
+                }
+                name++;
+            }
+            if (*name) continue;
+            else {
+                PyObject*** argname = argnames;
+                while (argname != first_kw_arg) {
+                    int cmp = (**argname == key) ? 0 :
+                    #if !CYTHON_COMPILING_IN_PYPY && PY_MAJOR_VERSION >= 3
+                        (__Pyx_PyUnicode_GET_LENGTH(**argname) != __Pyx_PyUnicode_GET_LENGTH(key)) ? 1 :
+                    #endif
+                        PyUnicode_Compare(**argname, key);
+                    if (cmp < 0 && unlikely(PyErr_Occurred())) goto bad;
+                    if (cmp == 0) goto arg_passed_twice;
+                    argname++;
+                }
+            }
+        } else
+            goto invalid_keyword_type;
+        if (kwds2) {
+            if (unlikely(PyDict_SetItem(kwds2, key, value))) goto bad;
+        } else {
+            goto invalid_keyword;
+        }
+    }
+    Py_XDECREF(key);
+    Py_XDECREF(value);
+    return 0;
+arg_passed_twice:
+    __Pyx_RaiseDoubleKeywordsError(function_name, key);
+    goto bad;
+invalid_keyword_type:
+    PyErr_Format(PyExc_TypeError,
+        "%.200s() keywords must be strings", function_name);
+    goto bad;
+invalid_keyword:
+    #if PY_MAJOR_VERSION < 3
+    PyErr_Format(PyExc_TypeError,
+        "%.200s() got an unexpected keyword argument '%.200s'",
+        function_name, PyString_AsString(key));
+    #else
+    PyErr_Format(PyExc_TypeError,
+        "%s() got an unexpected keyword argument '%U'",
+        function_name, key);
+    #endif
+bad:
+    Py_XDECREF(key);
+    Py_XDECREF(value);
+    return -1;
+}
+
 /* CallNextTpTraverse */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
     PyTypeObject* type = Py_TYPE(obj);
     traverseproc tp_traverse = NULL;
     while (type && __Pyx_PyType_GetSlot(type, tp_traverse, traverseproc) != current_tp_traverse)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     while (type && (tp_traverse = __Pyx_PyType_GetSlot(type, tp_traverse, traverseproc)) == current_tp_traverse)
@@ -6282,18 +5818,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -6339,23 +5875,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -8508,15 +8044,15 @@
 __Pyx_PyType_GetName(PyTypeObject* tp)
 {
     PyObject *name = __Pyx_PyObject_GetAttrStr((PyObject *)tp,
                                                __pyx_n_s_name);
     if (unlikely(name == NULL) || unlikely(!PyUnicode_Check(name))) {
         PyErr_Clear();
         Py_XDECREF(name);
-        name = __Pyx_NewRef(__pyx_n_s__15);
+        name = __Pyx_NewRef(__pyx_n_s__7);
     }
     return name;
 }
 #endif
 
 /* CIntToPy */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
@@ -9310,17 +8846,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/descriptor.c` & `pyav-12.1.0rc1/src/av/descriptor.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1982,30 +2014,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
 
 /* FetchCommonType.proto */
 #if !CYTHON_USE_TYPE_SPECS
@@ -2249,15 +2281,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -4131,17 +4163,17 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.option"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6option_BaseOption = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.option", "BaseOption", sizeof(struct __pyx_obj_2av_6option_BaseOption), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6option_BaseOption),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6option_BaseOption) __PYX_ERR(2, 4, __pyx_L1_error)
-  __pyx_ptype_2av_6option_Option = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.option", "Option", sizeof(struct __pyx_obj_2av_6option_Option), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6option_Option),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6option_Option) __PYX_ERR(2, 9, __pyx_L1_error)
-  __pyx_ptype_2av_6option_OptionChoice = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.option", "OptionChoice", sizeof(struct __pyx_obj_2av_6option_OptionChoice), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6option_OptionChoice),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6option_OptionChoice) __PYX_ERR(2, 14, __pyx_L1_error)
+  __pyx_ptype_2av_6option_BaseOption = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.option", "BaseOption", sizeof(struct __pyx_obj_2av_6option_BaseOption), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6option_BaseOption),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6option_BaseOption) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6option_Option = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.option", "Option", sizeof(struct __pyx_obj_2av_6option_Option), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6option_Option),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6option_Option) __PYX_ERR(2, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6option_OptionChoice = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.option", "OptionChoice", sizeof(struct __pyx_obj_2av_6option_OptionChoice), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6option_OptionChoice),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6option_OptionChoice) __PYX_ERR(2, 14, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -4161,16 +4193,16 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.option"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_option", (void (**)(void))&__pyx_f_2av_6option_wrap_option, "struct __pyx_obj_2av_6option_Option *(PyObject *, struct AVOption const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_option_choice", (void (**)(void))&__pyx_f_2av_6option_wrap_option_choice, "struct __pyx_obj_2av_6option_OptionChoice *(struct AVOption const *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_option", (void (**)(void))&__pyx_f_2av_6option_wrap_option, "struct __pyx_obj_2av_6option_Option *(PyObject *, struct AVOption const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_option_choice", (void (**)(void))&__pyx_f_2av_6option_wrap_option_choice, "struct __pyx_obj_2av_6option_OptionChoice *(struct AVOption const *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -6267,18 +6299,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -6324,23 +6356,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -8775,17 +8807,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/dictionary.c` & `pyav-12.1.0rc1/src/av/dictionary.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2378,15 +2410,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static struct __pyx_obj_2av_10dictionary__Dictionary *__pyx_f_2av_10dictionary_11_Dictionary_copy(struct __pyx_obj_2av_10dictionary__Dictionary *__pyx_v_self, int __pyx_skip_dispatch); /* proto*/
 
@@ -4468,24 +4500,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_10dictionary___pyx_scope_struct____iter__ *__pyx_freelist_2av_10dictionary___pyx_scope_struct____iter__[8];
 static int __pyx_freecount_2av_10dictionary___pyx_scope_struct____iter__ = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_10dictionary___pyx_scope_struct____iter__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_10dictionary___pyx_scope_struct____iter__ > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_10dictionary___pyx_scope_struct____iter__)))) {
     o = (PyObject*)__pyx_freelist_2av_10dictionary___pyx_scope_struct____iter__[--__pyx_freecount_2av_10dictionary___pyx_scope_struct____iter__];
     memset(o, 0, sizeof(struct __pyx_obj_2av_10dictionary___pyx_scope_struct____iter__));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -4504,15 +4538,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_10dictionary___pyx_scope_struct____iter__) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_10dictionary___pyx_scope_struct____iter__ < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_10dictionary___pyx_scope_struct____iter__)))) {
     __pyx_freelist_2av_10dictionary___pyx_scope_struct____iter__[__pyx_freecount_2av_10dictionary___pyx_scope_struct____iter__++] = ((struct __pyx_obj_2av_10dictionary___pyx_scope_struct____iter__ *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -4893,15 +4927,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -11287,17 +11321,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/enum.c` & `pyav-12.1.0rc1/src/av/enum.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "include_dirs": [
             "/tmp/vendor/include"
         ],
@@ -47,18 +47,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -142,14 +142,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -203,14 +205,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -264,60 +268,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -400,14 +427,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -13218,24 +13248,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_4enum___pyx_scope_struct__genexpr *__pyx_freelist_2av_4enum___pyx_scope_struct__genexpr[8];
 static int __pyx_freecount_2av_4enum___pyx_scope_struct__genexpr = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_4enum___pyx_scope_struct__genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_4enum___pyx_scope_struct__genexpr > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_4enum___pyx_scope_struct__genexpr)))) {
     o = (PyObject*)__pyx_freelist_2av_4enum___pyx_scope_struct__genexpr[--__pyx_freecount_2av_4enum___pyx_scope_struct__genexpr];
     memset(o, 0, sizeof(struct __pyx_obj_2av_4enum___pyx_scope_struct__genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -13256,15 +13288,15 @@
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_genexpr_arg_0);
   Py_CLEAR(p->__pyx_v_f);
   Py_CLEAR(p->__pyx_t_0);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_4enum___pyx_scope_struct__genexpr < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_4enum___pyx_scope_struct__genexpr)))) {
     __pyx_freelist_2av_4enum___pyx_scope_struct__genexpr[__pyx_freecount_2av_4enum___pyx_scope_struct__genexpr++] = ((struct __pyx_obj_2av_4enum___pyx_scope_struct__genexpr *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -13385,24 +13417,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_4enum___pyx_scope_struct_1_flag_property *__pyx_freelist_2av_4enum___pyx_scope_struct_1_flag_property[8];
 static int __pyx_freecount_2av_4enum___pyx_scope_struct_1_flag_property = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_4enum___pyx_scope_struct_1_flag_property(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_4enum___pyx_scope_struct_1_flag_property > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_4enum___pyx_scope_struct_1_flag_property)))) {
     o = (PyObject*)__pyx_freelist_2av_4enum___pyx_scope_struct_1_flag_property[--__pyx_freecount_2av_4enum___pyx_scope_struct_1_flag_property];
     memset(o, 0, sizeof(struct __pyx_obj_2av_4enum___pyx_scope_struct_1_flag_property));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -13421,15 +13455,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_4enum___pyx_scope_struct_1_flag_property) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_4enum___pyx_scope_struct_1_flag_property < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_4enum___pyx_scope_struct_1_flag_property)))) {
     __pyx_freelist_2av_4enum___pyx_scope_struct_1_flag_property[__pyx_freecount_2av_4enum___pyx_scope_struct_1_flag_property++] = ((struct __pyx_obj_2av_4enum___pyx_scope_struct_1_flag_property *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
```

### Comparing `pyav-12.0.5/src/av/error.c` & `pyav-12.1.0rc1/src/av/error.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2418,15 +2450,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -7862,15 +7894,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.logging"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_last_error", (void (**)(void))&__pyx_f_2av_7logging_get_last_error, "PyObject *(int __pyx_skip_dispatch)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_last_error", (void (**)(void))&__pyx_f_2av_7logging_get_last_error, "PyObject *(int __pyx_skip_dispatch)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -16134,17 +16166,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/filter/context.c` & `pyav-12.1.0rc1/src/av/filter/context.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1686,15 +1718,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -2092,31 +2124,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2368,14 +2400,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2462,16 +2495,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -3033,30 +3066,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
@@ -3275,15 +3308,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -7325,127 +7358,127 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(3, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(3, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.graph"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(4, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(4, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_6filter_5graph_Graph = (struct __pyx_vtabstruct_2av_6filter_5graph_Graph*)__Pyx_GetVtable(__pyx_ptype_2av_6filter_5graph_Graph); if (unlikely(!__pyx_vtabptr_2av_6filter_5graph_Graph)) __PYX_ERR(4, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(6, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(6, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(6, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(7, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(7, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(7, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(11, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(11, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(13, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(14, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(15, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(15, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(15, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(17, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(17, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(17, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(18, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(18, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(18, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(18, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(18, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(19, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(19, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(19, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(19, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(20, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(20, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(20, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(20, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.link"); if (unlikely(!__pyx_t_1)) __PYX_ERR(21, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_4link_FilterLink = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.link", "FilterLink", sizeof(struct __pyx_obj_2av_6filter_4link_FilterLink), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_4link_FilterLink),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_4link_FilterLink) __PYX_ERR(21, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_4link_FilterLink = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.link", "FilterLink", sizeof(struct __pyx_obj_2av_6filter_4link_FilterLink), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_4link_FilterLink),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_4link_FilterLink) __PYX_ERR(21, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.pad"); if (unlikely(!__pyx_t_1)) __PYX_ERR(22, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_3pad_FilterPad = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.pad", "FilterPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_3pad_FilterPad),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_3pad_FilterPad) __PYX_ERR(22, 8, __pyx_L1_error)
-  __pyx_ptype_2av_6filter_3pad_FilterContextPad = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.pad", "FilterContextPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterContextPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_3pad_FilterContextPad),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_3pad_FilterContextPad) __PYX_ERR(22, 18, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_3pad_FilterPad = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.pad", "FilterPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_3pad_FilterPad),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_3pad_FilterPad) __PYX_ERR(22, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_3pad_FilterContextPad = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.pad", "FilterContextPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterContextPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_3pad_FilterContextPad),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_3pad_FilterContextPad) __PYX_ERR(22, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(23, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(23, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(23, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(23, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(23, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(23, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.reformatter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(24, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(24, 6, __pyx_L1_error)
+  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(24, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_11reformatter_VideoReformatter = (struct __pyx_vtabstruct_2av_5video_11reformatter_VideoReformatter*)__Pyx_GetVtable(__pyx_ptype_2av_5video_11reformatter_VideoReformatter); if (unlikely(!__pyx_vtabptr_2av_5video_11reformatter_VideoReformatter)) __PYX_ERR(24, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(25, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(25, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(25, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = (struct __pyx_vtabstruct_2av_5video_5frame_VideoFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5frame_VideoFrame); if (unlikely(!__pyx_vtabptr_2av_5video_5frame_VideoFrame)) __PYX_ERR(25, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -7466,35 +7499,35 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_audio_frame", (void (**)(void))&__pyx_f_2av_5audio_5frame_alloc_audio_frame, "struct __pyx_obj_2av_5audio_5frame_AudioFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_audio_frame", (void (**)(void))&__pyx_f_2av_5audio_5frame_alloc_audio_frame, "struct __pyx_obj_2av_5audio_5frame_AudioFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.pad"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_filter_pads", (void (**)(void))&__pyx_f_2av_6filter_3pad_alloc_filter_pads, "PyObject *(struct __pyx_obj_2av_6filter_6filter_Filter *, struct AVFilterPad const *, int, struct __pyx_opt_args_2av_6filter_3pad_alloc_filter_pads *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_filter_pads", (void (**)(void))&__pyx_f_2av_6filter_3pad_alloc_filter_pads, "PyObject *(struct __pyx_obj_2av_6filter_6filter_Filter *, struct AVFilterPad const *, int, struct __pyx_opt_args_2av_6filter_3pad_alloc_filter_pads *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_video_frame", (void (**)(void))&__pyx_f_2av_5video_5frame_alloc_video_frame, "struct __pyx_obj_2av_5video_5frame_VideoFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_video_frame", (void (**)(void))&__pyx_f_2av_5video_5frame_alloc_video_frame, "struct __pyx_obj_2av_5video_5frame_VideoFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -10135,18 +10168,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -10192,23 +10225,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -12674,17 +12707,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/filter/filter.c` & `pyav-12.1.0rc1/src/av/filter/filter.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2209,30 +2241,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
@@ -2526,15 +2558,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -8453,33 +8485,33 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.graph"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(3, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(3, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_6filter_5graph_Graph = (struct __pyx_vtabstruct_2av_6filter_5graph_Graph*)__Pyx_GetVtable(__pyx_ptype_2av_6filter_5graph_Graph); if (unlikely(!__pyx_vtabptr_2av_6filter_5graph_Graph)) __PYX_ERR(3, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(4, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(4, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.link"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_4link_FilterLink = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.link", "FilterLink", sizeof(struct __pyx_obj_2av_6filter_4link_FilterLink), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_4link_FilterLink),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_4link_FilterLink) __PYX_ERR(5, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_4link_FilterLink = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.link", "FilterLink", sizeof(struct __pyx_obj_2av_6filter_4link_FilterLink), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_4link_FilterLink),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_4link_FilterLink) __PYX_ERR(5, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.pad"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_3pad_FilterPad = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.pad", "FilterPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_3pad_FilterPad),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_3pad_FilterPad) __PYX_ERR(6, 8, __pyx_L1_error)
-  __pyx_ptype_2av_6filter_3pad_FilterContextPad = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.pad", "FilterContextPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterContextPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_3pad_FilterContextPad),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_3pad_FilterContextPad) __PYX_ERR(6, 18, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_3pad_FilterPad = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.pad", "FilterPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_3pad_FilterPad),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_3pad_FilterPad) __PYX_ERR(6, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_3pad_FilterContextPad = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.pad", "FilterContextPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterContextPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_3pad_FilterContextPad),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_3pad_FilterContextPad) __PYX_ERR(6, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -8499,19 +8531,19 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_avclass", (void (**)(void))&__pyx_f_2av_10descriptor_wrap_avclass, "struct __pyx_obj_2av_10descriptor_Descriptor *(struct AVClass const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_avclass", (void (**)(void))&__pyx_f_2av_10descriptor_wrap_avclass, "struct __pyx_obj_2av_10descriptor_Descriptor *(struct AVClass const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.pad"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_filter_pads", (void (**)(void))&__pyx_f_2av_6filter_3pad_alloc_filter_pads, "PyObject *(struct __pyx_obj_2av_6filter_6filter_Filter *, struct AVFilterPad const *, int, struct __pyx_opt_args_2av_6filter_3pad_alloc_filter_pads *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_filter_pads", (void (**)(void))&__pyx_f_2av_6filter_3pad_alloc_filter_pads, "PyObject *(struct __pyx_obj_2av_6filter_6filter_Filter *, struct AVFilterPad const *, int, struct __pyx_opt_args_2av_6filter_3pad_alloc_filter_pads *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -11779,18 +11811,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -11836,23 +11868,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -14920,17 +14952,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/filter/graph.c` & `pyav-12.1.0rc1/src/av/filter/graph.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1661,15 +1693,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -2068,31 +2100,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2283,14 +2315,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2377,16 +2410,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -3051,30 +3084,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
 
 /* ImportDottedModule.proto */
 static PyObject *__Pyx_ImportDottedModule(PyObject *name, PyObject *parts_tuple);
@@ -3299,15 +3332,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_6filter_5graph_5Graph__get_unique_name(struct __pyx_obj_2av_6filter_5graph_Graph *__pyx_v_self, PyObject *__pyx_v_name); /* proto*/
 static PyObject *__pyx_f_2av_6filter_5graph_5Graph_configure(struct __pyx_obj_2av_6filter_5graph_Graph *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_6filter_5graph_5Graph_configure *__pyx_optional_args); /* proto*/
@@ -8605,117 +8638,117 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(4, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(4, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(5, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(5, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6format_AudioFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.format", "AudioFormat", sizeof(struct __pyx_obj_2av_5audio_6format_AudioFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6format_AudioFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6format_AudioFormat) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6format_AudioFormat = (struct __pyx_vtabstruct_2av_5audio_6format_AudioFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6format_AudioFormat); if (unlikely(!__pyx_vtabptr_2av_5audio_6format_AudioFormat)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.layout"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioLayout = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioLayout", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioLayout), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioLayout),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioLayout) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_6layout_AudioLayout = (struct __pyx_vtabstruct_2av_5audio_6layout_AudioLayout*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_6layout_AudioLayout); if (unlikely(!__pyx_vtabptr_2av_5audio_6layout_AudioLayout)) __PYX_ERR(7, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(7, 20, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_6layout_AudioChannel = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.layout", "AudioChannel", sizeof(struct __pyx_obj_2av_5audio_6layout_AudioChannel), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_6layout_AudioChannel),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_6layout_AudioChannel) __PYX_ERR(7, 20, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(8, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(8, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(8, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(10, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(11, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(11, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(11, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(12, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(12, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(13, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(14, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(14, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(15, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(15, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(16, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(16, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(16, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(17, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(17, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(18, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(18, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(18, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(19, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(19, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(19, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(19, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(19, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(19, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(20, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(20, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(20, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(20, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.audio.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(21, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(21, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5audio_5frame_AudioFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.audio.frame", "AudioFrame", sizeof(struct __pyx_obj_2av_5audio_5frame_AudioFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5audio_5frame_AudioFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5audio_5frame_AudioFrame) __PYX_ERR(21, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5audio_5frame_AudioFrame = (struct __pyx_vtabstruct_2av_5audio_5frame_AudioFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5audio_5frame_AudioFrame); if (unlikely(!__pyx_vtabptr_2av_5audio_5frame_AudioFrame)) __PYX_ERR(21, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(22, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(22, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(22, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(22, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(22, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(22, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.reformatter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(23, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(23, 6, __pyx_L1_error)
+  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(23, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_11reformatter_VideoReformatter = (struct __pyx_vtabstruct_2av_5video_11reformatter_VideoReformatter*)__Pyx_GetVtable(__pyx_ptype_2av_5video_11reformatter_VideoReformatter); if (unlikely(!__pyx_vtabptr_2av_5video_11reformatter_VideoReformatter)) __PYX_ERR(23, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(24, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(24, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = (struct __pyx_vtabstruct_2av_5video_5frame_VideoFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5frame_VideoFrame); if (unlikely(!__pyx_vtabptr_2av_5video_5frame_VideoFrame)) __PYX_ERR(24, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -8736,27 +8769,27 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_filter", (void (**)(void))&__pyx_f_2av_6filter_6filter_wrap_filter, "struct __pyx_obj_2av_6filter_6filter_Filter *(struct AVFilter const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_filter", (void (**)(void))&__pyx_f_2av_6filter_6filter_wrap_filter, "struct __pyx_obj_2av_6filter_6filter_Filter *(struct AVFilter const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_filter_context", (void (**)(void))&__pyx_f_2av_6filter_7context_wrap_filter_context, "struct __pyx_obj_2av_6filter_7context_FilterContext *(struct __pyx_obj_2av_6filter_5graph_Graph *, struct __pyx_obj_2av_6filter_6filter_Filter *, struct AVFilterContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_filter_context", (void (**)(void))&__pyx_f_2av_6filter_7context_wrap_filter_context, "struct __pyx_obj_2av_6filter_7context_FilterContext *(struct __pyx_obj_2av_6filter_5graph_Graph *, struct __pyx_obj_2av_6filter_6filter_Filter *, struct AVFilterContext *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -12076,18 +12109,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-    #ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+    #ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -12133,23 +12166,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -14782,17 +14815,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-    #ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+    #ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/filter/link.c` & `pyav-12.1.0rc1/src/av/filter/link.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2098,30 +2130,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
@@ -4248,33 +4280,33 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(3, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(3, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(4, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(4, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.graph"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(5, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(5, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_6filter_5graph_Graph = (struct __pyx_vtabstruct_2av_6filter_5graph_Graph*)__Pyx_GetVtable(__pyx_ptype_2av_6filter_5graph_Graph); if (unlikely(!__pyx_vtabptr_2av_6filter_5graph_Graph)) __PYX_ERR(5, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.pad"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_3pad_FilterPad = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.pad", "FilterPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_3pad_FilterPad),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_3pad_FilterPad) __PYX_ERR(6, 8, __pyx_L1_error)
-  __pyx_ptype_2av_6filter_3pad_FilterContextPad = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.pad", "FilterContextPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterContextPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_3pad_FilterContextPad),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_3pad_FilterContextPad) __PYX_ERR(6, 18, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_3pad_FilterPad = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.pad", "FilterPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_3pad_FilterPad),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_3pad_FilterPad) __PYX_ERR(6, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_3pad_FilterContextPad = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.pad", "FilterContextPad", sizeof(struct __pyx_obj_2av_6filter_3pad_FilterContextPad), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_3pad_FilterContextPad),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_3pad_FilterContextPad) __PYX_ERR(6, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -6598,18 +6630,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -6655,23 +6687,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
```

### Comparing `pyav-12.0.5/src/av/filter/pad.c` & `pyav-12.1.0rc1/src/av/filter/pad.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2101,30 +2133,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
@@ -2366,15 +2398,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -5421,32 +5453,32 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.filter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(4, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_6filter_Filter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.filter", "Filter", sizeof(struct __pyx_obj_2av_6filter_6filter_Filter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_6filter_Filter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_6filter_Filter) __PYX_ERR(4, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.graph"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(5, 6, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_5graph_Graph = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.graph", "Graph", sizeof(struct __pyx_obj_2av_6filter_5graph_Graph), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_5graph_Graph),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_5graph_Graph) __PYX_ERR(5, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_6filter_5graph_Graph = (struct __pyx_vtabstruct_2av_6filter_5graph_Graph*)__Pyx_GetVtable(__pyx_ptype_2av_6filter_5graph_Graph); if (unlikely(!__pyx_vtabptr_2av_6filter_5graph_Graph)) __PYX_ERR(5, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(6, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_7context_FilterContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.context", "FilterContext", sizeof(struct __pyx_obj_2av_6filter_7context_FilterContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_7context_FilterContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_7context_FilterContext) __PYX_ERR(6, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.filter.link"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6filter_4link_FilterLink = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.filter.link", "FilterLink", sizeof(struct __pyx_obj_2av_6filter_4link_FilterLink), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6filter_4link_FilterLink),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6filter_4link_FilterLink) __PYX_ERR(7, 7, __pyx_L1_error)
+  __pyx_ptype_2av_6filter_4link_FilterLink = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.filter.link", "FilterLink", sizeof(struct __pyx_obj_2av_6filter_4link_FilterLink), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6filter_4link_FilterLink),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6filter_4link_FilterLink) __PYX_ERR(7, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5466,15 +5498,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.filter.link"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_filter_link", (void (**)(void))&__pyx_f_2av_6filter_4link_wrap_filter_link, "struct __pyx_obj_2av_6filter_4link_FilterLink *(struct __pyx_obj_2av_6filter_5graph_Graph *, struct AVFilterLink *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_filter_link", (void (**)(void))&__pyx_f_2av_6filter_4link_wrap_filter_link, "struct __pyx_obj_2av_6filter_4link_FilterLink *(struct __pyx_obj_2av_6filter_5graph_Graph *, struct AVFilterLink *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7751,18 +7783,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -7808,23 +7840,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -10279,17 +10311,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/format.c` & `pyav-12.1.0rc1/src/av/format.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1970,30 +2002,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* PyDictVersioning.proto */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 #define __PYX_DICT_VERSION_INIT  ((PY_UINT64_T) -1)
 #define __PYX_GET_DICT_VERSION(dict)  (((PyDictObject*)(dict))->ma_version_tag)
 #define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)\
@@ -2262,15 +2294,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -5572,15 +5604,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10descriptor_Descriptor = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.descriptor", "Descriptor", sizeof(struct __pyx_obj_2av_10descriptor_Descriptor), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10descriptor_Descriptor),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10descriptor_Descriptor) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5600,19 +5632,19 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.descriptor"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_avclass", (void (**)(void))&__pyx_f_2av_10descriptor_wrap_avclass, "struct __pyx_obj_2av_10descriptor_Descriptor *(struct AVClass const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_avclass", (void (**)(void))&__pyx_f_2av_10descriptor_wrap_avclass, "struct __pyx_obj_2av_10descriptor_Descriptor *(struct AVClass const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -9032,18 +9064,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9089,23 +9121,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -11606,17 +11638,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/frame.c` & `pyav-12.1.0rc1/src/av/frame.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1646,15 +1678,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1886,31 +1918,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -1974,14 +2006,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2068,16 +2101,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2526,30 +2559,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
 
 /* ImportFrom.proto */
 static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name);
@@ -2771,15 +2804,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5frame_5Frame__copy_internal_attributes(struct __pyx_obj_2av_5frame_Frame *__pyx_v_self, struct __pyx_obj_2av_5frame_Frame *__pyx_v_source, struct __pyx_opt_args_2av_5frame_5Frame__copy_internal_attributes *__pyx_optional_args); /* proto*/
 static PyObject *__pyx_f_2av_5frame_5Frame__init_user_attributes(CYTHON_UNUSED struct __pyx_obj_2av_5frame_Frame *__pyx_v_self); /* proto*/
@@ -5540,69 +5573,69 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(3, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(3, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(3, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(6, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(6, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(6, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(14, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5622,20 +5655,20 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -8096,18 +8129,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -8153,23 +8186,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -10983,17 +11016,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/logging.c` & `pyav-12.1.0rc1/src/av/logging.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1555,27 +1587,27 @@
 /* #### Code section: complex_type_declarations ### */
 /* #### Code section: type_declarations ### */
 
 /*--- Type declarations ---*/
 struct __pyx_obj_2av_7logging_Capture;
 struct __pyx_t_2av_7logging_log_context;
 
-/* "av/logging.pyx":204
+/* "av/logging.pyx":194
  * 
  * 
  * cdef struct log_context:             # <<<<<<<<<<<<<<
  *     lib.AVClass *class_
  *     const char *name
  */
 struct __pyx_t_2av_7logging_log_context {
   struct AVClass *class_;
   char const *name;
 };
 
-/* "av/logging.pyx":170
+/* "av/logging.pyx":160
  * cdef thread_captures = {}
  * 
  * cdef class Capture:             # <<<<<<<<<<<<<<
  *     """A context manager for capturing logs.
  * 
  */
 struct __pyx_obj_2av_7logging_Capture {
@@ -1662,14 +1694,78 @@
 #define __Pyx_DECREF_SET(r, v) do {\
         PyObject *tmp = (PyObject *) r;\
         r = v; __Pyx_DECREF(tmp);\
     } while (0)
 #define __Pyx_CLEAR(r)    do { PyObject* tmp = ((PyObject*)(r)); r = NULL; __Pyx_DECREF(tmp);} while(0)
 #define __Pyx_XCLEAR(r)   do { if((r) != NULL) {PyObject* tmp = ((PyObject*)(r)); r = NULL; __Pyx_DECREF(tmp);}} while(0)
 
+/* PyErrExceptionMatches.proto */
+#if CYTHON_FAST_THREAD_STATE
+#define __Pyx_PyErr_ExceptionMatches(err) __Pyx_PyErr_ExceptionMatchesInState(__pyx_tstate, err)
+static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err);
+#else
+#define __Pyx_PyErr_ExceptionMatches(err)  PyErr_ExceptionMatches(err)
+#endif
+
+/* PyThreadStateGet.proto */
+#if CYTHON_FAST_THREAD_STATE
+#define __Pyx_PyThreadState_declare  PyThreadState *__pyx_tstate;
+#define __Pyx_PyThreadState_assign  __pyx_tstate = __Pyx_PyThreadState_Current;
+#if PY_VERSION_HEX >= 0x030C00A6
+#define __Pyx_PyErr_Occurred()  (__pyx_tstate->current_exception != NULL)
+#define __Pyx_PyErr_CurrentExceptionType()  (__pyx_tstate->current_exception ? (PyObject*) Py_TYPE(__pyx_tstate->current_exception) : (PyObject*) NULL)
+#else
+#define __Pyx_PyErr_Occurred()  (__pyx_tstate->curexc_type != NULL)
+#define __Pyx_PyErr_CurrentExceptionType()  (__pyx_tstate->curexc_type)
+#endif
+#else
+#define __Pyx_PyThreadState_declare
+#define __Pyx_PyThreadState_assign
+#define __Pyx_PyErr_Occurred()  (PyErr_Occurred() != NULL)
+#define __Pyx_PyErr_CurrentExceptionType()  PyErr_Occurred()
+#endif
+
+/* PyErrFetchRestore.proto */
+#if CYTHON_FAST_THREAD_STATE
+#define __Pyx_PyErr_Clear() __Pyx_ErrRestore(NULL, NULL, NULL)
+#define __Pyx_ErrRestoreWithState(type, value, tb)  __Pyx_ErrRestoreInState(PyThreadState_GET(), type, value, tb)
+#define __Pyx_ErrFetchWithState(type, value, tb)    __Pyx_ErrFetchInState(PyThreadState_GET(), type, value, tb)
+#define __Pyx_ErrRestore(type, value, tb)  __Pyx_ErrRestoreInState(__pyx_tstate, type, value, tb)
+#define __Pyx_ErrFetch(type, value, tb)    __Pyx_ErrFetchInState(__pyx_tstate, type, value, tb)
+static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb);
+static CYTHON_INLINE void __Pyx_ErrFetchInState(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
+#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A6
+#define __Pyx_PyErr_SetNone(exc) (Py_INCREF(exc), __Pyx_ErrRestore((exc), NULL, NULL))
+#else
+#define __Pyx_PyErr_SetNone(exc) PyErr_SetNone(exc)
+#endif
+#else
+#define __Pyx_PyErr_Clear() PyErr_Clear()
+#define __Pyx_PyErr_SetNone(exc) PyErr_SetNone(exc)
+#define __Pyx_ErrRestoreWithState(type, value, tb)  PyErr_Restore(type, value, tb)
+#define __Pyx_ErrFetchWithState(type, value, tb)  PyErr_Fetch(type, value, tb)
+#define __Pyx_ErrRestoreInState(tstate, type, value, tb)  PyErr_Restore(type, value, tb)
+#define __Pyx_ErrFetchInState(tstate, type, value, tb)  PyErr_Fetch(type, value, tb)
+#define __Pyx_ErrRestore(type, value, tb)  PyErr_Restore(type, value, tb)
+#define __Pyx_ErrFetch(type, value, tb)  PyErr_Fetch(type, value, tb)
+#endif
+
+/* PyObjectGetAttrStr.proto */
+#if CYTHON_USE_TYPE_SLOTS
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStr(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GetAttrStr(o,n) PyObject_GetAttr(o,n)
+#endif
+
+/* PyObjectGetAttrStrNoError.proto */
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name);
+
+/* GetBuiltinName.proto */
+static PyObject *__Pyx_GetBuiltinName(PyObject *name);
+
 /* TupleAndListFromArray.proto */
 #if CYTHON_COMPILING_IN_CPYTHON
 static CYTHON_INLINE PyObject* __Pyx_PyList_FromArray(PyObject *const *src, Py_ssize_t n);
 static CYTHON_INLINE PyObject* __Pyx_PyTuple_FromArray(PyObject *const *src, Py_ssize_t n);
 #endif
 
 /* IncludeStringH.proto */
@@ -1739,74 +1835,23 @@
     PyObject *kwds2, PyObject *values[], Py_ssize_t num_pos_args,
     const char* function_name);
 
 /* RaiseArgTupleInvalid.proto */
 static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
     Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found);
 
-/* PyObjectGetAttrStr.proto */
-#if CYTHON_USE_TYPE_SLOTS
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStr(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GetAttrStr(o,n) PyObject_GetAttr(o,n)
-#endif
-
-/* PyErrExceptionMatches.proto */
-#if CYTHON_FAST_THREAD_STATE
-#define __Pyx_PyErr_ExceptionMatches(err) __Pyx_PyErr_ExceptionMatchesInState(__pyx_tstate, err)
-static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err);
-#else
-#define __Pyx_PyErr_ExceptionMatches(err)  PyErr_ExceptionMatches(err)
-#endif
-
-/* PyThreadStateGet.proto */
-#if CYTHON_FAST_THREAD_STATE
-#define __Pyx_PyThreadState_declare  PyThreadState *__pyx_tstate;
-#define __Pyx_PyThreadState_assign  __pyx_tstate = __Pyx_PyThreadState_Current;
-#if PY_VERSION_HEX >= 0x030C00A6
-#define __Pyx_PyErr_Occurred()  (__pyx_tstate->current_exception != NULL)
-#define __Pyx_PyErr_CurrentExceptionType()  (__pyx_tstate->current_exception ? (PyObject*) Py_TYPE(__pyx_tstate->current_exception) : (PyObject*) NULL)
-#else
-#define __Pyx_PyErr_Occurred()  (__pyx_tstate->curexc_type != NULL)
-#define __Pyx_PyErr_CurrentExceptionType()  (__pyx_tstate->curexc_type)
-#endif
-#else
-#define __Pyx_PyThreadState_declare
-#define __Pyx_PyThreadState_assign
-#define __Pyx_PyErr_Occurred()  (PyErr_Occurred() != NULL)
-#define __Pyx_PyErr_CurrentExceptionType()  PyErr_Occurred()
-#endif
-
-/* PyErrFetchRestore.proto */
-#if CYTHON_FAST_THREAD_STATE
-#define __Pyx_PyErr_Clear() __Pyx_ErrRestore(NULL, NULL, NULL)
-#define __Pyx_ErrRestoreWithState(type, value, tb)  __Pyx_ErrRestoreInState(PyThreadState_GET(), type, value, tb)
-#define __Pyx_ErrFetchWithState(type, value, tb)    __Pyx_ErrFetchInState(PyThreadState_GET(), type, value, tb)
-#define __Pyx_ErrRestore(type, value, tb)  __Pyx_ErrRestoreInState(__pyx_tstate, type, value, tb)
-#define __Pyx_ErrFetch(type, value, tb)    __Pyx_ErrFetchInState(__pyx_tstate, type, value, tb)
-static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb);
-static CYTHON_INLINE void __Pyx_ErrFetchInState(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX < 0x030C00A6
-#define __Pyx_PyErr_SetNone(exc) (Py_INCREF(exc), __Pyx_ErrRestore((exc), NULL, NULL))
-#else
-#define __Pyx_PyErr_SetNone(exc) PyErr_SetNone(exc)
-#endif
+/* PyObjectCall.proto */
+#if CYTHON_COMPILING_IN_CPYTHON
+static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw);
 #else
-#define __Pyx_PyErr_Clear() PyErr_Clear()
-#define __Pyx_PyErr_SetNone(exc) PyErr_SetNone(exc)
-#define __Pyx_ErrRestoreWithState(type, value, tb)  PyErr_Restore(type, value, tb)
-#define __Pyx_ErrFetchWithState(type, value, tb)  PyErr_Fetch(type, value, tb)
-#define __Pyx_ErrRestoreInState(tstate, type, value, tb)  PyErr_Restore(type, value, tb)
-#define __Pyx_ErrFetchInState(tstate, type, value, tb)  PyErr_Fetch(type, value, tb)
-#define __Pyx_ErrRestore(type, value, tb)  PyErr_Restore(type, value, tb)
-#define __Pyx_ErrFetch(type, value, tb)  PyErr_Fetch(type, value, tb)
+#define __Pyx_PyObject_Call(func, arg, kw) PyObject_Call(func, arg, kw)
 #endif
 
-/* PyObjectGetAttrStrNoError.proto */
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name);
+/* RaiseException.proto */
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
 
 /* PyObjectLookupSpecial.proto */
 #if CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
 #define __Pyx_PyObject_LookupSpecialNoError(obj, attr_name)  __Pyx__PyObject_LookupSpecial(obj, attr_name, 0)
 #define __Pyx_PyObject_LookupSpecial(obj, attr_name)  __Pyx__PyObject_LookupSpecial(obj, attr_name, 1)
 static CYTHON_INLINE PyObject* __Pyx__PyObject_LookupSpecial(PyObject* obj, PyObject* attr_name, int with_error);
 #else
@@ -1845,21 +1890,14 @@
      (void)(__pyx_pyframe_localsplus_offset = ((size_t)PyFrame_Type.tp_basicsize) - Py_MEMBER_SIZE(PyFrameObject, f_localsplus)))
   #define __Pyx_PyFrame_GetLocalsplus(frame)\
     (assert(__pyx_pyframe_localsplus_offset), (PyObject **)(((char *)(frame)) + __pyx_pyframe_localsplus_offset))
 #endif
 #endif
 #endif
 
-/* PyObjectCall.proto */
-#if CYTHON_COMPILING_IN_CPYTHON
-static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw);
-#else
-#define __Pyx_PyObject_Call(func, arg, kw) PyObject_Call(func, arg, kw)
-#endif
-
 /* PyObjectCallMethO.proto */
 #if CYTHON_COMPILING_IN_CPYTHON
 static CYTHON_INLINE PyObject* __Pyx_PyObject_CallMethO(PyObject *func, PyObject *arg);
 #endif
 
 /* PyObjectFastCall.proto */
 #define __Pyx_PyObject_FastCall(func, args, nargs)  __Pyx_PyObject_FastCallDict(func, args, (size_t)(nargs), NULL)
@@ -1885,17 +1923,14 @@
 #if CYTHON_FAST_THREAD_STATE
 #define __Pyx_GetException(type, value, tb)  __Pyx__GetException(__pyx_tstate, type, value, tb)
 static int __Pyx__GetException(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb);
 #else
 static int __Pyx_GetException(PyObject **type, PyObject **value, PyObject **tb);
 #endif
 
-/* GetBuiltinName.proto */
-static PyObject *__Pyx_GetBuiltinName(PyObject *name);
-
 /* PyDictVersioning.proto */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 #define __PYX_DICT_VERSION_INIT  ((PY_UINT64_T) -1)
 #define __PYX_GET_DICT_VERSION(dict)  (((PyDictObject*)(dict))->ma_version_tag)
 #define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)\
     (version_var) = __PYX_GET_DICT_VERSION(dict);\
     (cache_var) = (value);
@@ -2006,31 +2041,14 @@
 
 /* ArgTypeTest.proto */
 #define __Pyx_ArgTypeTest(obj, type, none_allowed, name, exact)\
     ((likely(__Pyx_IS_TYPE(obj, type) | (none_allowed && (obj == Py_None)))) ? 1 :\
         __Pyx__ArgTypeTest(obj, type, name, exact))
 static int __Pyx__ArgTypeTest(PyObject *obj, PyTypeObject *type, const char *name, int exact);
 
-/* RaiseTooManyValuesToUnpack.proto */
-static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected);
-
-/* RaiseNeedMoreValuesToUnpack.proto */
-static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index);
-
-/* IterFinish.proto */
-static CYTHON_INLINE int __Pyx_IterFinish(void);
-
-/* UnpackItemEndCheck.proto */
-static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected);
-
-/* WriteUnraisableException.proto */
-static void __Pyx_WriteUnraisable(const char *name, int clineno,
-                                  int lineno, const char *filename,
-                                  int full_traceback, int nogil);
-
 /* decode_c_string_utf16.proto */
 static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16(const char *s, Py_ssize_t size, const char *errors) {
     int byteorder = 0;
     return PyUnicode_DecodeUTF16(s, size, errors, &byteorder);
 }
 static CYTHON_INLINE PyObject *__Pyx_PyUnicode_DecodeUTF16LE(const char *s, Py_ssize_t size, const char *errors) {
     int byteorder = -1;
@@ -2085,32 +2103,46 @@
     (PyErr_SetString(PyExc_IndexError, "tuple index out of range"), (PyObject*)NULL))
 static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Tuple_Fast(PyObject *o, Py_ssize_t i,
                                                               int wraparound, int boundscheck);
 static PyObject *__Pyx_GetItemInt_Generic(PyObject *o, PyObject* j);
 static CYTHON_INLINE PyObject *__Pyx_GetItemInt_Fast(PyObject *o, Py_ssize_t i,
                                                      int is_list, int wraparound, int boundscheck);
 
+/* RaiseTooManyValuesToUnpack.proto */
+static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected);
+
+/* RaiseNeedMoreValuesToUnpack.proto */
+static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index);
+
+/* IterFinish.proto */
+static CYTHON_INLINE int __Pyx_IterFinish(void);
+
+/* UnpackItemEndCheck.proto */
+static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected);
+
 /* append.proto */
 static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x);
 
+/* WriteUnraisableException.proto */
+static void __Pyx_WriteUnraisable(const char *name, int clineno,
+                                  int lineno, const char *filename,
+                                  int full_traceback, int nogil);
+
 /* PySequenceContains.proto */
 static CYTHON_INLINE int __Pyx_PySequence_ContainsTF(PyObject* item, PyObject* seq, int eq) {
     int result = PySequence_Contains(seq, item);
     return unlikely(result < 0) ? result : (result == (eq == Py_EQ));
 }
 
 /* Import.proto */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level);
 
 /* ImportFrom.proto */
 static PyObject* __Pyx_ImportFrom(PyObject* module, PyObject* name);
 
-/* RaiseException.proto */
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
-
 /* GetAttr.proto */
 static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);
 
 /* HasAttr.proto */
 #if __PYX_LIMITED_VERSION_HEX >= 0x030d00A1
 #define __Pyx_HasAttr(o, n)  PyObject_HasAttrWithError(o, n)
 #else
@@ -2300,21 +2332,14 @@
 /* CythonFunction.proto */
 static PyObject *__Pyx_CyFunction_New(PyMethodDef *ml,
                                       int flags, PyObject* qualname,
                                       PyObject *closure,
                                       PyObject *module, PyObject *globals,
                                       PyObject* code);
 
-/* StrEquals.proto */
-#if PY_MAJOR_VERSION >= 3
-#define __Pyx_PyString_Equals __Pyx_PyUnicode_Equals
-#else
-#define __Pyx_PyString_Equals __Pyx_PyBytes_Equals
-#endif
-
 /* CLineInTraceback.proto */
 #ifdef CYTHON_CLINE_IN_TRACEBACK
 #define __Pyx_CLineForTraceback(tstate, c_line)  (((CYTHON_CLINE_IN_TRACEBACK)) ? c_line : 0)
 #else
 static int __Pyx_CLineForTraceback(PyThreadState *tstate, int c_line);
 #endif
 
@@ -2408,53 +2433,52 @@
 /* Module declarations from "libc.string" */
 
 /* Module declarations from "libc.stdio" */
 
 /* Module declarations from "libc.stdlib" */
 
 /* Module declarations from "av.logging" */
-static int __pyx_v_2av_7logging_level_threshold;
-static int __pyx_v_2av_7logging_print_after_shutdown;
+static PyObject *__pyx_v_2av_7logging_level_threshold = 0;
 static int __pyx_v_2av_7logging_skip_repeated;
 static PyObject *__pyx_v_2av_7logging_skip_lock = 0;
 static PyObject *__pyx_v_2av_7logging_last_log = 0;
 static int __pyx_v_2av_7logging_skip_count;
 static PyObject *__pyx_v_2av_7logging_last_error = 0;
 static int __pyx_v_2av_7logging_error_count;
 static PyObject *__pyx_v_2av_7logging_global_captures = 0;
 static PyObject *__pyx_v_2av_7logging_thread_captures = 0;
 static struct AVClass __pyx_v_2av_7logging_log_class;
 static PyObject *__pyx_f_2av_7logging_get_last_error(int __pyx_skip_dispatch); /*proto*/
 static PyObject *__pyx_f_2av_7logging_adapt_level(int, int __pyx_skip_dispatch); /*proto*/
 static char const *__pyx_f_2av_7logging_log_context_name(void *); /*proto*/
 static PyObject *__pyx_f_2av_7logging_log(int, PyObject *, PyObject *, int __pyx_skip_dispatch); /*proto*/
-static void __pyx_f_2av_7logging_log_callback(void *, int, char const *, va_list); /*proto*/
 static PyObject *__pyx_f_2av_7logging_log_callback_gil(int, char const *, char const *); /*proto*/
 static PyObject *__pyx_f_2av_7logging_log_callback_emit(PyObject *); /*proto*/
+static void __pyx_f_2av_7logging_log_callback(void *, int, char const *, va_list); /*proto*/
+static void __pyx_f_2av_7logging_nolog_callback(void *, int, char const *, va_list); /*proto*/
 static PyObject *__pyx_f_2av_7logging___pyx_unpickle_Capture__set_state(struct __pyx_obj_2av_7logging_Capture *, PyObject *); /*proto*/
 /* #### Code section: typeinfo ### */
 /* #### Code section: before_global_var ### */
 #define __Pyx_MODULE_NAME "av.logging"
 extern int __pyx_module_is_main_av__logging;
 int __pyx_module_is_main_av__logging = 0;
 
 /* Implementation of "av.logging" */
 /* #### Code section: global_var ### */
+static PyObject *__pyx_builtin_ValueError;
 /* #### Code section: string_decls ### */
 static const char __pyx_k_v[] = "v";
-static const char __pyx_k__3[] = "";
-static const char __pyx_k__5[] = ".";
-static const char __pyx_k__6[] = "*";
+static const char __pyx_k__4[] = "";
+static const char __pyx_k__6[] = ".";
+static const char __pyx_k__7[] = "*";
 static const char __pyx_k_gc[] = "gc";
-static const char __pyx_k_os[] = "os";
-static const char __pyx_k__32[] = "?";
+static const char __pyx_k__30[] = "?";
 static const char __pyx_k_get[] = "get";
 static const char __pyx_k_log[] = "log";
 static const char __pyx_k_new[] = "__new__";
-static const char __pyx_k_off[] = "off";
 static const char __pyx_k_pop[] = "pop";
 static const char __pyx_k_sys[] = "sys";
 static const char __pyx_k_INFO[] = "INFO";
 static const char __pyx_k_Lock[] = "Lock";
 static const char __pyx_k_dict[] = "__dict__";
 static const char __pyx_k_exit[] = "__exit__";
 static const char __pyx_k_main[] = "__main__";
@@ -2484,15 +2508,14 @@
 static const char __pyx_k_pickle[] = "pickle";
 static const char __pyx_k_reduce[] = "__reduce__";
 static const char __pyx_k_update[] = "update";
 static const char __pyx_k_Capture[] = "Capture";
 static const char __pyx_k_VERBOSE[] = "VERBOSE";
 static const char __pyx_k_WARNING[] = "WARNING";
 static const char __pyx_k_disable[] = "disable";
-static const char __pyx_k_environ[] = "environ";
 static const char __pyx_k_libav_2[] = "libav";
 static const char __pyx_k_logging[] = "logging";
 static const char __pyx_k_manager[] = "manager";
 static const char __pyx_k_message[] = "message";
 static const char __pyx_k_CRITICAL[] = "CRITICAL";
 static const char __pyx_k_exc_info[] = "exc_info";
 static const char __pyx_k_getstate[] = "__getstate__";
@@ -2504,21 +2527,21 @@
 static const char __pyx_k_get_level[] = "get_level";
 static const char __pyx_k_isenabled[] = "isenabled";
 static const char __pyx_k_pyx_state[] = "__pyx_state";
 static const char __pyx_k_reduce_ex[] = "__reduce_ex__";
 static const char __pyx_k_set_level[] = "set_level";
 static const char __pyx_k_threading[] = "threading";
 static const char __pyx_k_traceback[] = "traceback";
+static const char __pyx_k_ValueError[] = "ValueError";
 static const char __pyx_k_av_logging[] = "av.logging";
 static const char __pyx_k_loggerDict[] = "loggerDict";
 static const char __pyx_k_pyx_result[] = "__pyx_result";
 static const char __pyx_k_setdefault[] = "setdefault";
 static const char __pyx_k_PickleError[] = "PickleError";
 static const char __pyx_k_adapt_level[] = "adapt_level";
-static const char __pyx_k_PYAV_LOGGING[] = "PYAV_LOGGING";
 static const char __pyx_k_initializing[] = "_initializing";
 static const char __pyx_k_is_coroutine[] = "_is_coroutine";
 static const char __pyx_k_pyx_checksum[] = "__pyx_checksum";
 static const char __pyx_k_stringsource[] = "<stringsource>";
 static const char __pyx_k_use_setstate[] = "use_setstate";
 static const char __pyx_k_libav_generic[] = "libav.generic";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
@@ -2529,40 +2552,37 @@
 static const char __pyx_k_pyx_PickleError[] = "__pyx_PickleError";
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
 static const char __pyx_k_get_skip_repeated[] = "get_skip_repeated";
 static const char __pyx_k_set_skip_repeated[] = "set_skip_repeated";
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_pyx_unpickle_Capture[] = "__pyx_unpickle_Capture";
+static const char __pyx_k_level_must_be_int_None[] = "level must be: int | None";
 static const char __pyx_k_Capture___reduce_cython[] = "Capture.__reduce_cython__";
 static const char __pyx_k_s_repeated_d_more_times[] = "%s (repeated %d more times)";
-static const char __pyx_k_get_print_after_shutdown[] = "get_print_after_shutdown";
 static const char __pyx_k_restore_default_callback[] = "restore_default_callback";
-static const char __pyx_k_set_print_after_shutdown[] = "set_print_after_shutdown";
 static const char __pyx_k_Capture___setstate_cython[] = "Capture.__setstate_cython__";
-static const char __pyx_k_FFmpeg_has_a_logging_system_tha[] = "\nFFmpeg has a logging system that it uses extensively. PyAV hooks into that system\nto translate FFmpeg logs into Python's\n`logging system <https://docs.python.org/3/library/logging.html#logging.basicConfig>`_.\n\nIf you are not already using Python's logging system, you can initialize it\nquickly with::\n\n    import logging\n    logging.basicConfig()\n\n\n.. _disable_logging:\n\nDisabling Logging\n~~~~~~~~~~~~~~~~~\n\nYou can disable hooking the logging system with an environment variable::\n\n    export PYAV_LOGGING=off\n\nor at runtime with :func:`restore_default_callback`.\n\nThis will leave (or restore) the FFmpeg logging system, which prints to the terminal.\nThis may also result in raised errors having less detailed messages.\n\n\nAPI Reference\n~~~~~~~~~~~~~\n\n";
+static const char __pyx_k_FFmpeg_has_a_logging_system_tha[] = "\nFFmpeg has a logging system that it uses extensively. It's very noisy so PyAV turns it\noff by default. This, unfortunately has the effect of making raised errors having less\ndetailed messages. It's therefore recommended to use VERBOSE when developing.\n\n.. _enable_logging:\n\nEnabling Logging\n~~~~~~~~~~~~~~~~~\n\nYou can hook the logging system with Python by setting the log level::\n\n    import av\n\n    av.logging.set_level(av.logging.VERBOSE)\n\n\nPyAV hooks into that system to translate FFmpeg logs into Python's\n`logging system <https://docs.python.org/3/library/logging.html#logging.basicConfig>`_.\n\nIf you are not already using Python's logging system, you can initialize it\nquickly with::\n\n    import logging\n    logging.basicConfig()\n\n\nNote that handling logs with Python sometimes doesn't play nice multi-threads workflows.\nAn alternative is :func:`restore_default_callback`.\n\nThis will restores FFmpeg's logging default system, which prints to the terminal.\nLike with setting the log level to ``None``, this may also result in raised errors\nhaving less detailed messages.\n\n\nAPI Reference\n~~~~~~~~~~~~~\n\n";
 static const char __pyx_k_Incompatible_checksums_0x_x_vs_0[] = "Incompatible checksums (0x%x vs (0xe004c80, 0x7af9b82, 0xb8921c2) = (captures, logs))";
 /* #### Code section: decls ### */
 static PyObject *__pyx_pf_2av_7logging_adapt_level(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level); /* proto */
 static PyObject *__pyx_pf_2av_7logging_2get_level(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_2av_7logging_4set_level(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level); /* proto */
+static PyObject *__pyx_pf_2av_7logging_4set_level(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_level); /* proto */
 static PyObject *__pyx_pf_2av_7logging_6restore_default_callback(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_2av_7logging_8get_print_after_shutdown(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_2av_7logging_10set_print_after_shutdown(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_v); /* proto */
-static PyObject *__pyx_pf_2av_7logging_12get_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
-static PyObject *__pyx_pf_2av_7logging_14set_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_v); /* proto */
-static PyObject *__pyx_pf_2av_7logging_16get_last_error(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_2av_7logging_8get_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
+static PyObject *__pyx_pf_2av_7logging_10set_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_v); /* proto */
+static PyObject *__pyx_pf_2av_7logging_12get_last_error(CYTHON_UNUSED PyObject *__pyx_self); /* proto */
 static int __pyx_pf_2av_7logging_7Capture___init__(struct __pyx_obj_2av_7logging_Capture *__pyx_v_self, int __pyx_v_local); /* proto */
 static PyObject *__pyx_pf_2av_7logging_7Capture_2__enter__(struct __pyx_obj_2av_7logging_Capture *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_7logging_7Capture_4__exit__(struct __pyx_obj_2av_7logging_Capture *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v_type_, CYTHON_UNUSED PyObject *__pyx_v_value, CYTHON_UNUSED PyObject *__pyx_v_traceback); /* proto */
 static PyObject *__pyx_pf_2av_7logging_7Capture_4logs___get__(struct __pyx_obj_2av_7logging_Capture *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_7logging_7Capture_6__reduce_cython__(struct __pyx_obj_2av_7logging_Capture *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_7logging_7Capture_8__setstate_cython__(struct __pyx_obj_2av_7logging_Capture *__pyx_v_self, PyObject *__pyx_v___pyx_state); /* proto */
-static PyObject *__pyx_pf_2av_7logging_18log(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level, PyObject *__pyx_v_name, PyObject *__pyx_v_message); /* proto */
-static PyObject *__pyx_pf_2av_7logging_20__pyx_unpickle_Capture(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_7logging_14log(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level, PyObject *__pyx_v_name, PyObject *__pyx_v_message); /* proto */
+static PyObject *__pyx_pf_2av_7logging_16__pyx_unpickle_Capture(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_7logging_Capture(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
   PyObject *__pyx_b;
   PyObject *__pyx_cython_runtime;
@@ -2611,66 +2631,63 @@
   PyObject *__pyx_n_s_ERROR;
   PyObject *__pyx_n_s_FATAL;
   PyObject *__pyx_n_s_INFO;
   PyObject *__pyx_kp_s_Incompatible_checksums_0x_x_vs_0;
   PyObject *__pyx_n_s_Lock;
   PyObject *__pyx_n_s_Logger;
   PyObject *__pyx_n_s_PANIC;
-  PyObject *__pyx_n_s_PYAV_LOGGING;
   PyObject *__pyx_n_s_PickleError;
   PyObject *__pyx_n_s_TRACE;
   PyObject *__pyx_n_s_VERBOSE;
+  PyObject *__pyx_n_s_ValueError;
   PyObject *__pyx_n_s_WARNING;
-  PyObject *__pyx_kp_s__3;
-  PyObject *__pyx_n_s__32;
-  PyObject *__pyx_kp_u__5;
-  PyObject *__pyx_n_s__6;
+  PyObject *__pyx_n_s__30;
+  PyObject *__pyx_kp_s__4;
+  PyObject *__pyx_kp_u__6;
+  PyObject *__pyx_n_s__7;
   PyObject *__pyx_n_s_adapt_level;
   PyObject *__pyx_n_s_append;
   PyObject *__pyx_n_s_asyncio_coroutines;
   PyObject *__pyx_n_s_av_logging;
   PyObject *__pyx_kp_s_av_logging_pyx;
   PyObject *__pyx_n_s_cline_in_traceback;
   PyObject *__pyx_n_s_dict;
   PyObject *__pyx_n_s_dict_2;
   PyObject *__pyx_kp_u_disable;
   PyObject *__pyx_kp_u_enable;
   PyObject *__pyx_n_s_enter;
-  PyObject *__pyx_n_s_environ;
   PyObject *__pyx_n_s_exc_info;
   PyObject *__pyx_n_s_exit;
   PyObject *__pyx_kp_u_gc;
   PyObject *__pyx_n_s_get;
   PyObject *__pyx_n_s_getLogger;
   PyObject *__pyx_n_s_get_ident;
   PyObject *__pyx_n_s_get_last_error;
   PyObject *__pyx_n_s_get_level;
-  PyObject *__pyx_n_s_get_print_after_shutdown;
   PyObject *__pyx_n_s_get_skip_repeated;
   PyObject *__pyx_n_s_getstate;
   PyObject *__pyx_n_s_import;
   PyObject *__pyx_n_s_initializing;
   PyObject *__pyx_n_s_is_coroutine;
   PyObject *__pyx_kp_u_isenabled;
   PyObject *__pyx_n_s_level;
+  PyObject *__pyx_kp_s_level_must_be_int_None;
   PyObject *__pyx_kp_s_libav;
   PyObject *__pyx_n_s_libav_2;
   PyObject *__pyx_kp_s_libav_generic;
   PyObject *__pyx_n_s_local;
   PyObject *__pyx_n_s_log;
   PyObject *__pyx_n_s_loggerDict;
   PyObject *__pyx_n_s_logging;
   PyObject *__pyx_n_s_main;
   PyObject *__pyx_n_s_manager;
   PyObject *__pyx_n_s_message;
   PyObject *__pyx_n_s_name;
   PyObject *__pyx_n_s_name_2;
   PyObject *__pyx_n_s_new;
-  PyObject *__pyx_n_s_off;
-  PyObject *__pyx_n_s_os;
   PyObject *__pyx_n_s_pickle;
   PyObject *__pyx_n_s_pop;
   PyObject *__pyx_n_s_pyx_PickleError;
   PyObject *__pyx_n_s_pyx_checksum;
   PyObject *__pyx_n_s_pyx_result;
   PyObject *__pyx_n_s_pyx_state;
   PyObject *__pyx_n_s_pyx_type;
@@ -2679,15 +2696,14 @@
   PyObject *__pyx_n_s_reduce_cython;
   PyObject *__pyx_n_s_reduce_ex;
   PyObject *__pyx_n_s_restore_default_callback;
   PyObject *__pyx_kp_s_s_repeated_d_more_times;
   PyObject *__pyx_n_s_self;
   PyObject *__pyx_n_s_setLevel;
   PyObject *__pyx_n_s_set_level;
-  PyObject *__pyx_n_s_set_print_after_shutdown;
   PyObject *__pyx_n_s_set_skip_repeated;
   PyObject *__pyx_n_s_setdefault;
   PyObject *__pyx_n_s_setstate;
   PyObject *__pyx_n_s_setstate_cython;
   PyObject *__pyx_n_s_spec;
   PyObject *__pyx_n_s_state;
   PyObject *__pyx_kp_s_stringsource;
@@ -2711,40 +2727,38 @@
   PyObject *__pyx_int_50;
   PyObject *__pyx_int_128949122;
   PyObject *__pyx_int_193536450;
   PyObject *__pyx_int_234900608;
   PyObject *__pyx_int_neg_1;
   PyObject *__pyx_tuple_;
   PyObject *__pyx_tuple__2;
-  PyObject *__pyx_tuple__4;
-  PyObject *__pyx_tuple__7;
-  PyObject *__pyx_tuple__9;
-  PyObject *__pyx_tuple__14;
-  PyObject *__pyx_tuple__19;
-  PyObject *__pyx_tuple__21;
-  PyObject *__pyx_tuple__23;
-  PyObject *__pyx_tuple__25;
-  PyObject *__pyx_tuple__27;
-  PyObject *__pyx_tuple__29;
-  PyObject *__pyx_tuple__30;
-  PyObject *__pyx_codeobj__8;
-  PyObject *__pyx_codeobj__10;
+  PyObject *__pyx_tuple__3;
+  PyObject *__pyx_tuple__5;
+  PyObject *__pyx_tuple__8;
+  PyObject *__pyx_tuple__10;
+  PyObject *__pyx_tuple__15;
+  PyObject *__pyx_tuple__18;
+  PyObject *__pyx_tuple__20;
+  PyObject *__pyx_tuple__22;
+  PyObject *__pyx_tuple__24;
+  PyObject *__pyx_tuple__26;
+  PyObject *__pyx_tuple__28;
+  PyObject *__pyx_codeobj__9;
   PyObject *__pyx_codeobj__11;
   PyObject *__pyx_codeobj__12;
   PyObject *__pyx_codeobj__13;
-  PyObject *__pyx_codeobj__15;
+  PyObject *__pyx_codeobj__14;
   PyObject *__pyx_codeobj__16;
   PyObject *__pyx_codeobj__17;
-  PyObject *__pyx_codeobj__18;
-  PyObject *__pyx_codeobj__20;
-  PyObject *__pyx_codeobj__22;
-  PyObject *__pyx_codeobj__24;
-  PyObject *__pyx_codeobj__26;
-  PyObject *__pyx_codeobj__28;
-  PyObject *__pyx_codeobj__31;
+  PyObject *__pyx_codeobj__19;
+  PyObject *__pyx_codeobj__21;
+  PyObject *__pyx_codeobj__23;
+  PyObject *__pyx_codeobj__25;
+  PyObject *__pyx_codeobj__27;
+  PyObject *__pyx_codeobj__29;
 } __pyx_mstate;
 
 #if CYTHON_USE_MODULE_STATE
 #ifdef __cplusplus
 namespace {
   extern struct PyModuleDef __pyx_moduledef;
 } /* anonymous namespace */
@@ -2795,66 +2809,63 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_ERROR);
   Py_CLEAR(clear_module_state->__pyx_n_s_FATAL);
   Py_CLEAR(clear_module_state->__pyx_n_s_INFO);
   Py_CLEAR(clear_module_state->__pyx_kp_s_Incompatible_checksums_0x_x_vs_0);
   Py_CLEAR(clear_module_state->__pyx_n_s_Lock);
   Py_CLEAR(clear_module_state->__pyx_n_s_Logger);
   Py_CLEAR(clear_module_state->__pyx_n_s_PANIC);
-  Py_CLEAR(clear_module_state->__pyx_n_s_PYAV_LOGGING);
   Py_CLEAR(clear_module_state->__pyx_n_s_PickleError);
   Py_CLEAR(clear_module_state->__pyx_n_s_TRACE);
   Py_CLEAR(clear_module_state->__pyx_n_s_VERBOSE);
+  Py_CLEAR(clear_module_state->__pyx_n_s_ValueError);
   Py_CLEAR(clear_module_state->__pyx_n_s_WARNING);
-  Py_CLEAR(clear_module_state->__pyx_kp_s__3);
-  Py_CLEAR(clear_module_state->__pyx_n_s__32);
-  Py_CLEAR(clear_module_state->__pyx_kp_u__5);
-  Py_CLEAR(clear_module_state->__pyx_n_s__6);
+  Py_CLEAR(clear_module_state->__pyx_n_s__30);
+  Py_CLEAR(clear_module_state->__pyx_kp_s__4);
+  Py_CLEAR(clear_module_state->__pyx_kp_u__6);
+  Py_CLEAR(clear_module_state->__pyx_n_s__7);
   Py_CLEAR(clear_module_state->__pyx_n_s_adapt_level);
   Py_CLEAR(clear_module_state->__pyx_n_s_append);
   Py_CLEAR(clear_module_state->__pyx_n_s_asyncio_coroutines);
   Py_CLEAR(clear_module_state->__pyx_n_s_av_logging);
   Py_CLEAR(clear_module_state->__pyx_kp_s_av_logging_pyx);
   Py_CLEAR(clear_module_state->__pyx_n_s_cline_in_traceback);
   Py_CLEAR(clear_module_state->__pyx_n_s_dict);
   Py_CLEAR(clear_module_state->__pyx_n_s_dict_2);
   Py_CLEAR(clear_module_state->__pyx_kp_u_disable);
   Py_CLEAR(clear_module_state->__pyx_kp_u_enable);
   Py_CLEAR(clear_module_state->__pyx_n_s_enter);
-  Py_CLEAR(clear_module_state->__pyx_n_s_environ);
   Py_CLEAR(clear_module_state->__pyx_n_s_exc_info);
   Py_CLEAR(clear_module_state->__pyx_n_s_exit);
   Py_CLEAR(clear_module_state->__pyx_kp_u_gc);
   Py_CLEAR(clear_module_state->__pyx_n_s_get);
   Py_CLEAR(clear_module_state->__pyx_n_s_getLogger);
   Py_CLEAR(clear_module_state->__pyx_n_s_get_ident);
   Py_CLEAR(clear_module_state->__pyx_n_s_get_last_error);
   Py_CLEAR(clear_module_state->__pyx_n_s_get_level);
-  Py_CLEAR(clear_module_state->__pyx_n_s_get_print_after_shutdown);
   Py_CLEAR(clear_module_state->__pyx_n_s_get_skip_repeated);
   Py_CLEAR(clear_module_state->__pyx_n_s_getstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_import);
   Py_CLEAR(clear_module_state->__pyx_n_s_initializing);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_coroutine);
   Py_CLEAR(clear_module_state->__pyx_kp_u_isenabled);
   Py_CLEAR(clear_module_state->__pyx_n_s_level);
+  Py_CLEAR(clear_module_state->__pyx_kp_s_level_must_be_int_None);
   Py_CLEAR(clear_module_state->__pyx_kp_s_libav);
   Py_CLEAR(clear_module_state->__pyx_n_s_libav_2);
   Py_CLEAR(clear_module_state->__pyx_kp_s_libav_generic);
   Py_CLEAR(clear_module_state->__pyx_n_s_local);
   Py_CLEAR(clear_module_state->__pyx_n_s_log);
   Py_CLEAR(clear_module_state->__pyx_n_s_loggerDict);
   Py_CLEAR(clear_module_state->__pyx_n_s_logging);
   Py_CLEAR(clear_module_state->__pyx_n_s_main);
   Py_CLEAR(clear_module_state->__pyx_n_s_manager);
   Py_CLEAR(clear_module_state->__pyx_n_s_message);
   Py_CLEAR(clear_module_state->__pyx_n_s_name);
   Py_CLEAR(clear_module_state->__pyx_n_s_name_2);
   Py_CLEAR(clear_module_state->__pyx_n_s_new);
-  Py_CLEAR(clear_module_state->__pyx_n_s_off);
-  Py_CLEAR(clear_module_state->__pyx_n_s_os);
   Py_CLEAR(clear_module_state->__pyx_n_s_pickle);
   Py_CLEAR(clear_module_state->__pyx_n_s_pop);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_PickleError);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_checksum);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_result);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_state);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_type);
@@ -2863,15 +2874,14 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_ex);
   Py_CLEAR(clear_module_state->__pyx_n_s_restore_default_callback);
   Py_CLEAR(clear_module_state->__pyx_kp_s_s_repeated_d_more_times);
   Py_CLEAR(clear_module_state->__pyx_n_s_self);
   Py_CLEAR(clear_module_state->__pyx_n_s_setLevel);
   Py_CLEAR(clear_module_state->__pyx_n_s_set_level);
-  Py_CLEAR(clear_module_state->__pyx_n_s_set_print_after_shutdown);
   Py_CLEAR(clear_module_state->__pyx_n_s_set_skip_repeated);
   Py_CLEAR(clear_module_state->__pyx_n_s_setdefault);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_spec);
   Py_CLEAR(clear_module_state->__pyx_n_s_state);
   Py_CLEAR(clear_module_state->__pyx_kp_s_stringsource);
@@ -2895,40 +2905,38 @@
   Py_CLEAR(clear_module_state->__pyx_int_50);
   Py_CLEAR(clear_module_state->__pyx_int_128949122);
   Py_CLEAR(clear_module_state->__pyx_int_193536450);
   Py_CLEAR(clear_module_state->__pyx_int_234900608);
   Py_CLEAR(clear_module_state->__pyx_int_neg_1);
   Py_CLEAR(clear_module_state->__pyx_tuple_);
   Py_CLEAR(clear_module_state->__pyx_tuple__2);
-  Py_CLEAR(clear_module_state->__pyx_tuple__4);
-  Py_CLEAR(clear_module_state->__pyx_tuple__7);
-  Py_CLEAR(clear_module_state->__pyx_tuple__9);
-  Py_CLEAR(clear_module_state->__pyx_tuple__14);
-  Py_CLEAR(clear_module_state->__pyx_tuple__19);
-  Py_CLEAR(clear_module_state->__pyx_tuple__21);
-  Py_CLEAR(clear_module_state->__pyx_tuple__23);
-  Py_CLEAR(clear_module_state->__pyx_tuple__25);
-  Py_CLEAR(clear_module_state->__pyx_tuple__27);
-  Py_CLEAR(clear_module_state->__pyx_tuple__29);
-  Py_CLEAR(clear_module_state->__pyx_tuple__30);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__8);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__10);
+  Py_CLEAR(clear_module_state->__pyx_tuple__3);
+  Py_CLEAR(clear_module_state->__pyx_tuple__5);
+  Py_CLEAR(clear_module_state->__pyx_tuple__8);
+  Py_CLEAR(clear_module_state->__pyx_tuple__10);
+  Py_CLEAR(clear_module_state->__pyx_tuple__15);
+  Py_CLEAR(clear_module_state->__pyx_tuple__18);
+  Py_CLEAR(clear_module_state->__pyx_tuple__20);
+  Py_CLEAR(clear_module_state->__pyx_tuple__22);
+  Py_CLEAR(clear_module_state->__pyx_tuple__24);
+  Py_CLEAR(clear_module_state->__pyx_tuple__26);
+  Py_CLEAR(clear_module_state->__pyx_tuple__28);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__9);
   Py_CLEAR(clear_module_state->__pyx_codeobj__11);
   Py_CLEAR(clear_module_state->__pyx_codeobj__12);
   Py_CLEAR(clear_module_state->__pyx_codeobj__13);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__15);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__14);
   Py_CLEAR(clear_module_state->__pyx_codeobj__16);
   Py_CLEAR(clear_module_state->__pyx_codeobj__17);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__18);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__20);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__22);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__24);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__26);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__28);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__31);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__19);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__21);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__23);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__25);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__27);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__29);
   return 0;
 }
 #endif
 /* #### Code section: module_state_traverse ### */
 #if CYTHON_USE_MODULE_STATE
 static int __pyx_m_traverse(PyObject *m, visitproc visit, void *arg) {
   __pyx_mstate *traverse_module_state = __pyx_mstate(m);
@@ -2957,66 +2965,63 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_ERROR);
   Py_VISIT(traverse_module_state->__pyx_n_s_FATAL);
   Py_VISIT(traverse_module_state->__pyx_n_s_INFO);
   Py_VISIT(traverse_module_state->__pyx_kp_s_Incompatible_checksums_0x_x_vs_0);
   Py_VISIT(traverse_module_state->__pyx_n_s_Lock);
   Py_VISIT(traverse_module_state->__pyx_n_s_Logger);
   Py_VISIT(traverse_module_state->__pyx_n_s_PANIC);
-  Py_VISIT(traverse_module_state->__pyx_n_s_PYAV_LOGGING);
   Py_VISIT(traverse_module_state->__pyx_n_s_PickleError);
   Py_VISIT(traverse_module_state->__pyx_n_s_TRACE);
   Py_VISIT(traverse_module_state->__pyx_n_s_VERBOSE);
+  Py_VISIT(traverse_module_state->__pyx_n_s_ValueError);
   Py_VISIT(traverse_module_state->__pyx_n_s_WARNING);
-  Py_VISIT(traverse_module_state->__pyx_kp_s__3);
-  Py_VISIT(traverse_module_state->__pyx_n_s__32);
-  Py_VISIT(traverse_module_state->__pyx_kp_u__5);
-  Py_VISIT(traverse_module_state->__pyx_n_s__6);
+  Py_VISIT(traverse_module_state->__pyx_n_s__30);
+  Py_VISIT(traverse_module_state->__pyx_kp_s__4);
+  Py_VISIT(traverse_module_state->__pyx_kp_u__6);
+  Py_VISIT(traverse_module_state->__pyx_n_s__7);
   Py_VISIT(traverse_module_state->__pyx_n_s_adapt_level);
   Py_VISIT(traverse_module_state->__pyx_n_s_append);
   Py_VISIT(traverse_module_state->__pyx_n_s_asyncio_coroutines);
   Py_VISIT(traverse_module_state->__pyx_n_s_av_logging);
   Py_VISIT(traverse_module_state->__pyx_kp_s_av_logging_pyx);
   Py_VISIT(traverse_module_state->__pyx_n_s_cline_in_traceback);
   Py_VISIT(traverse_module_state->__pyx_n_s_dict);
   Py_VISIT(traverse_module_state->__pyx_n_s_dict_2);
   Py_VISIT(traverse_module_state->__pyx_kp_u_disable);
   Py_VISIT(traverse_module_state->__pyx_kp_u_enable);
   Py_VISIT(traverse_module_state->__pyx_n_s_enter);
-  Py_VISIT(traverse_module_state->__pyx_n_s_environ);
   Py_VISIT(traverse_module_state->__pyx_n_s_exc_info);
   Py_VISIT(traverse_module_state->__pyx_n_s_exit);
   Py_VISIT(traverse_module_state->__pyx_kp_u_gc);
   Py_VISIT(traverse_module_state->__pyx_n_s_get);
   Py_VISIT(traverse_module_state->__pyx_n_s_getLogger);
   Py_VISIT(traverse_module_state->__pyx_n_s_get_ident);
   Py_VISIT(traverse_module_state->__pyx_n_s_get_last_error);
   Py_VISIT(traverse_module_state->__pyx_n_s_get_level);
-  Py_VISIT(traverse_module_state->__pyx_n_s_get_print_after_shutdown);
   Py_VISIT(traverse_module_state->__pyx_n_s_get_skip_repeated);
   Py_VISIT(traverse_module_state->__pyx_n_s_getstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_import);
   Py_VISIT(traverse_module_state->__pyx_n_s_initializing);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_coroutine);
   Py_VISIT(traverse_module_state->__pyx_kp_u_isenabled);
   Py_VISIT(traverse_module_state->__pyx_n_s_level);
+  Py_VISIT(traverse_module_state->__pyx_kp_s_level_must_be_int_None);
   Py_VISIT(traverse_module_state->__pyx_kp_s_libav);
   Py_VISIT(traverse_module_state->__pyx_n_s_libav_2);
   Py_VISIT(traverse_module_state->__pyx_kp_s_libav_generic);
   Py_VISIT(traverse_module_state->__pyx_n_s_local);
   Py_VISIT(traverse_module_state->__pyx_n_s_log);
   Py_VISIT(traverse_module_state->__pyx_n_s_loggerDict);
   Py_VISIT(traverse_module_state->__pyx_n_s_logging);
   Py_VISIT(traverse_module_state->__pyx_n_s_main);
   Py_VISIT(traverse_module_state->__pyx_n_s_manager);
   Py_VISIT(traverse_module_state->__pyx_n_s_message);
   Py_VISIT(traverse_module_state->__pyx_n_s_name);
   Py_VISIT(traverse_module_state->__pyx_n_s_name_2);
   Py_VISIT(traverse_module_state->__pyx_n_s_new);
-  Py_VISIT(traverse_module_state->__pyx_n_s_off);
-  Py_VISIT(traverse_module_state->__pyx_n_s_os);
   Py_VISIT(traverse_module_state->__pyx_n_s_pickle);
   Py_VISIT(traverse_module_state->__pyx_n_s_pop);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_PickleError);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_checksum);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_result);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_state);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_type);
@@ -3025,15 +3030,14 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_ex);
   Py_VISIT(traverse_module_state->__pyx_n_s_restore_default_callback);
   Py_VISIT(traverse_module_state->__pyx_kp_s_s_repeated_d_more_times);
   Py_VISIT(traverse_module_state->__pyx_n_s_self);
   Py_VISIT(traverse_module_state->__pyx_n_s_setLevel);
   Py_VISIT(traverse_module_state->__pyx_n_s_set_level);
-  Py_VISIT(traverse_module_state->__pyx_n_s_set_print_after_shutdown);
   Py_VISIT(traverse_module_state->__pyx_n_s_set_skip_repeated);
   Py_VISIT(traverse_module_state->__pyx_n_s_setdefault);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_spec);
   Py_VISIT(traverse_module_state->__pyx_n_s_state);
   Py_VISIT(traverse_module_state->__pyx_kp_s_stringsource);
@@ -3057,40 +3061,38 @@
   Py_VISIT(traverse_module_state->__pyx_int_50);
   Py_VISIT(traverse_module_state->__pyx_int_128949122);
   Py_VISIT(traverse_module_state->__pyx_int_193536450);
   Py_VISIT(traverse_module_state->__pyx_int_234900608);
   Py_VISIT(traverse_module_state->__pyx_int_neg_1);
   Py_VISIT(traverse_module_state->__pyx_tuple_);
   Py_VISIT(traverse_module_state->__pyx_tuple__2);
-  Py_VISIT(traverse_module_state->__pyx_tuple__4);
-  Py_VISIT(traverse_module_state->__pyx_tuple__7);
-  Py_VISIT(traverse_module_state->__pyx_tuple__9);
-  Py_VISIT(traverse_module_state->__pyx_tuple__14);
-  Py_VISIT(traverse_module_state->__pyx_tuple__19);
-  Py_VISIT(traverse_module_state->__pyx_tuple__21);
-  Py_VISIT(traverse_module_state->__pyx_tuple__23);
-  Py_VISIT(traverse_module_state->__pyx_tuple__25);
-  Py_VISIT(traverse_module_state->__pyx_tuple__27);
-  Py_VISIT(traverse_module_state->__pyx_tuple__29);
-  Py_VISIT(traverse_module_state->__pyx_tuple__30);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__8);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__10);
+  Py_VISIT(traverse_module_state->__pyx_tuple__3);
+  Py_VISIT(traverse_module_state->__pyx_tuple__5);
+  Py_VISIT(traverse_module_state->__pyx_tuple__8);
+  Py_VISIT(traverse_module_state->__pyx_tuple__10);
+  Py_VISIT(traverse_module_state->__pyx_tuple__15);
+  Py_VISIT(traverse_module_state->__pyx_tuple__18);
+  Py_VISIT(traverse_module_state->__pyx_tuple__20);
+  Py_VISIT(traverse_module_state->__pyx_tuple__22);
+  Py_VISIT(traverse_module_state->__pyx_tuple__24);
+  Py_VISIT(traverse_module_state->__pyx_tuple__26);
+  Py_VISIT(traverse_module_state->__pyx_tuple__28);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__9);
   Py_VISIT(traverse_module_state->__pyx_codeobj__11);
   Py_VISIT(traverse_module_state->__pyx_codeobj__12);
   Py_VISIT(traverse_module_state->__pyx_codeobj__13);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__15);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__14);
   Py_VISIT(traverse_module_state->__pyx_codeobj__16);
   Py_VISIT(traverse_module_state->__pyx_codeobj__17);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__18);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__20);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__22);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__24);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__26);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__28);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__31);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__19);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__21);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__23);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__25);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__27);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__29);
   return 0;
 }
 #endif
 /* #### Code section: module_state_defines ### */
 #define __pyx_d __pyx_mstate_global->__pyx_d
 #define __pyx_b __pyx_mstate_global->__pyx_b
 #define __pyx_cython_runtime __pyx_mstate_global->__pyx_cython_runtime
@@ -3139,66 +3141,63 @@
 #define __pyx_n_s_ERROR __pyx_mstate_global->__pyx_n_s_ERROR
 #define __pyx_n_s_FATAL __pyx_mstate_global->__pyx_n_s_FATAL
 #define __pyx_n_s_INFO __pyx_mstate_global->__pyx_n_s_INFO
 #define __pyx_kp_s_Incompatible_checksums_0x_x_vs_0 __pyx_mstate_global->__pyx_kp_s_Incompatible_checksums_0x_x_vs_0
 #define __pyx_n_s_Lock __pyx_mstate_global->__pyx_n_s_Lock
 #define __pyx_n_s_Logger __pyx_mstate_global->__pyx_n_s_Logger
 #define __pyx_n_s_PANIC __pyx_mstate_global->__pyx_n_s_PANIC
-#define __pyx_n_s_PYAV_LOGGING __pyx_mstate_global->__pyx_n_s_PYAV_LOGGING
 #define __pyx_n_s_PickleError __pyx_mstate_global->__pyx_n_s_PickleError
 #define __pyx_n_s_TRACE __pyx_mstate_global->__pyx_n_s_TRACE
 #define __pyx_n_s_VERBOSE __pyx_mstate_global->__pyx_n_s_VERBOSE
+#define __pyx_n_s_ValueError __pyx_mstate_global->__pyx_n_s_ValueError
 #define __pyx_n_s_WARNING __pyx_mstate_global->__pyx_n_s_WARNING
-#define __pyx_kp_s__3 __pyx_mstate_global->__pyx_kp_s__3
-#define __pyx_n_s__32 __pyx_mstate_global->__pyx_n_s__32
-#define __pyx_kp_u__5 __pyx_mstate_global->__pyx_kp_u__5
-#define __pyx_n_s__6 __pyx_mstate_global->__pyx_n_s__6
+#define __pyx_n_s__30 __pyx_mstate_global->__pyx_n_s__30
+#define __pyx_kp_s__4 __pyx_mstate_global->__pyx_kp_s__4
+#define __pyx_kp_u__6 __pyx_mstate_global->__pyx_kp_u__6
+#define __pyx_n_s__7 __pyx_mstate_global->__pyx_n_s__7
 #define __pyx_n_s_adapt_level __pyx_mstate_global->__pyx_n_s_adapt_level
 #define __pyx_n_s_append __pyx_mstate_global->__pyx_n_s_append
 #define __pyx_n_s_asyncio_coroutines __pyx_mstate_global->__pyx_n_s_asyncio_coroutines
 #define __pyx_n_s_av_logging __pyx_mstate_global->__pyx_n_s_av_logging
 #define __pyx_kp_s_av_logging_pyx __pyx_mstate_global->__pyx_kp_s_av_logging_pyx
 #define __pyx_n_s_cline_in_traceback __pyx_mstate_global->__pyx_n_s_cline_in_traceback
 #define __pyx_n_s_dict __pyx_mstate_global->__pyx_n_s_dict
 #define __pyx_n_s_dict_2 __pyx_mstate_global->__pyx_n_s_dict_2
 #define __pyx_kp_u_disable __pyx_mstate_global->__pyx_kp_u_disable
 #define __pyx_kp_u_enable __pyx_mstate_global->__pyx_kp_u_enable
 #define __pyx_n_s_enter __pyx_mstate_global->__pyx_n_s_enter
-#define __pyx_n_s_environ __pyx_mstate_global->__pyx_n_s_environ
 #define __pyx_n_s_exc_info __pyx_mstate_global->__pyx_n_s_exc_info
 #define __pyx_n_s_exit __pyx_mstate_global->__pyx_n_s_exit
 #define __pyx_kp_u_gc __pyx_mstate_global->__pyx_kp_u_gc
 #define __pyx_n_s_get __pyx_mstate_global->__pyx_n_s_get
 #define __pyx_n_s_getLogger __pyx_mstate_global->__pyx_n_s_getLogger
 #define __pyx_n_s_get_ident __pyx_mstate_global->__pyx_n_s_get_ident
 #define __pyx_n_s_get_last_error __pyx_mstate_global->__pyx_n_s_get_last_error
 #define __pyx_n_s_get_level __pyx_mstate_global->__pyx_n_s_get_level
-#define __pyx_n_s_get_print_after_shutdown __pyx_mstate_global->__pyx_n_s_get_print_after_shutdown
 #define __pyx_n_s_get_skip_repeated __pyx_mstate_global->__pyx_n_s_get_skip_repeated
 #define __pyx_n_s_getstate __pyx_mstate_global->__pyx_n_s_getstate
 #define __pyx_n_s_import __pyx_mstate_global->__pyx_n_s_import
 #define __pyx_n_s_initializing __pyx_mstate_global->__pyx_n_s_initializing
 #define __pyx_n_s_is_coroutine __pyx_mstate_global->__pyx_n_s_is_coroutine
 #define __pyx_kp_u_isenabled __pyx_mstate_global->__pyx_kp_u_isenabled
 #define __pyx_n_s_level __pyx_mstate_global->__pyx_n_s_level
+#define __pyx_kp_s_level_must_be_int_None __pyx_mstate_global->__pyx_kp_s_level_must_be_int_None
 #define __pyx_kp_s_libav __pyx_mstate_global->__pyx_kp_s_libav
 #define __pyx_n_s_libav_2 __pyx_mstate_global->__pyx_n_s_libav_2
 #define __pyx_kp_s_libav_generic __pyx_mstate_global->__pyx_kp_s_libav_generic
 #define __pyx_n_s_local __pyx_mstate_global->__pyx_n_s_local
 #define __pyx_n_s_log __pyx_mstate_global->__pyx_n_s_log
 #define __pyx_n_s_loggerDict __pyx_mstate_global->__pyx_n_s_loggerDict
 #define __pyx_n_s_logging __pyx_mstate_global->__pyx_n_s_logging
 #define __pyx_n_s_main __pyx_mstate_global->__pyx_n_s_main
 #define __pyx_n_s_manager __pyx_mstate_global->__pyx_n_s_manager
 #define __pyx_n_s_message __pyx_mstate_global->__pyx_n_s_message
 #define __pyx_n_s_name __pyx_mstate_global->__pyx_n_s_name
 #define __pyx_n_s_name_2 __pyx_mstate_global->__pyx_n_s_name_2
 #define __pyx_n_s_new __pyx_mstate_global->__pyx_n_s_new
-#define __pyx_n_s_off __pyx_mstate_global->__pyx_n_s_off
-#define __pyx_n_s_os __pyx_mstate_global->__pyx_n_s_os
 #define __pyx_n_s_pickle __pyx_mstate_global->__pyx_n_s_pickle
 #define __pyx_n_s_pop __pyx_mstate_global->__pyx_n_s_pop
 #define __pyx_n_s_pyx_PickleError __pyx_mstate_global->__pyx_n_s_pyx_PickleError
 #define __pyx_n_s_pyx_checksum __pyx_mstate_global->__pyx_n_s_pyx_checksum
 #define __pyx_n_s_pyx_result __pyx_mstate_global->__pyx_n_s_pyx_result
 #define __pyx_n_s_pyx_state __pyx_mstate_global->__pyx_n_s_pyx_state
 #define __pyx_n_s_pyx_type __pyx_mstate_global->__pyx_n_s_pyx_type
@@ -3207,15 +3206,14 @@
 #define __pyx_n_s_reduce_cython __pyx_mstate_global->__pyx_n_s_reduce_cython
 #define __pyx_n_s_reduce_ex __pyx_mstate_global->__pyx_n_s_reduce_ex
 #define __pyx_n_s_restore_default_callback __pyx_mstate_global->__pyx_n_s_restore_default_callback
 #define __pyx_kp_s_s_repeated_d_more_times __pyx_mstate_global->__pyx_kp_s_s_repeated_d_more_times
 #define __pyx_n_s_self __pyx_mstate_global->__pyx_n_s_self
 #define __pyx_n_s_setLevel __pyx_mstate_global->__pyx_n_s_setLevel
 #define __pyx_n_s_set_level __pyx_mstate_global->__pyx_n_s_set_level
-#define __pyx_n_s_set_print_after_shutdown __pyx_mstate_global->__pyx_n_s_set_print_after_shutdown
 #define __pyx_n_s_set_skip_repeated __pyx_mstate_global->__pyx_n_s_set_skip_repeated
 #define __pyx_n_s_setdefault __pyx_mstate_global->__pyx_n_s_setdefault
 #define __pyx_n_s_setstate __pyx_mstate_global->__pyx_n_s_setstate
 #define __pyx_n_s_setstate_cython __pyx_mstate_global->__pyx_n_s_setstate_cython
 #define __pyx_n_s_spec __pyx_mstate_global->__pyx_n_s_spec
 #define __pyx_n_s_state __pyx_mstate_global->__pyx_n_s_state
 #define __pyx_kp_s_stringsource __pyx_mstate_global->__pyx_kp_s_stringsource
@@ -3239,43 +3237,41 @@
 #define __pyx_int_50 __pyx_mstate_global->__pyx_int_50
 #define __pyx_int_128949122 __pyx_mstate_global->__pyx_int_128949122
 #define __pyx_int_193536450 __pyx_mstate_global->__pyx_int_193536450
 #define __pyx_int_234900608 __pyx_mstate_global->__pyx_int_234900608
 #define __pyx_int_neg_1 __pyx_mstate_global->__pyx_int_neg_1
 #define __pyx_tuple_ __pyx_mstate_global->__pyx_tuple_
 #define __pyx_tuple__2 __pyx_mstate_global->__pyx_tuple__2
-#define __pyx_tuple__4 __pyx_mstate_global->__pyx_tuple__4
-#define __pyx_tuple__7 __pyx_mstate_global->__pyx_tuple__7
-#define __pyx_tuple__9 __pyx_mstate_global->__pyx_tuple__9
-#define __pyx_tuple__14 __pyx_mstate_global->__pyx_tuple__14
-#define __pyx_tuple__19 __pyx_mstate_global->__pyx_tuple__19
-#define __pyx_tuple__21 __pyx_mstate_global->__pyx_tuple__21
-#define __pyx_tuple__23 __pyx_mstate_global->__pyx_tuple__23
-#define __pyx_tuple__25 __pyx_mstate_global->__pyx_tuple__25
-#define __pyx_tuple__27 __pyx_mstate_global->__pyx_tuple__27
-#define __pyx_tuple__29 __pyx_mstate_global->__pyx_tuple__29
-#define __pyx_tuple__30 __pyx_mstate_global->__pyx_tuple__30
-#define __pyx_codeobj__8 __pyx_mstate_global->__pyx_codeobj__8
-#define __pyx_codeobj__10 __pyx_mstate_global->__pyx_codeobj__10
+#define __pyx_tuple__3 __pyx_mstate_global->__pyx_tuple__3
+#define __pyx_tuple__5 __pyx_mstate_global->__pyx_tuple__5
+#define __pyx_tuple__8 __pyx_mstate_global->__pyx_tuple__8
+#define __pyx_tuple__10 __pyx_mstate_global->__pyx_tuple__10
+#define __pyx_tuple__15 __pyx_mstate_global->__pyx_tuple__15
+#define __pyx_tuple__18 __pyx_mstate_global->__pyx_tuple__18
+#define __pyx_tuple__20 __pyx_mstate_global->__pyx_tuple__20
+#define __pyx_tuple__22 __pyx_mstate_global->__pyx_tuple__22
+#define __pyx_tuple__24 __pyx_mstate_global->__pyx_tuple__24
+#define __pyx_tuple__26 __pyx_mstate_global->__pyx_tuple__26
+#define __pyx_tuple__28 __pyx_mstate_global->__pyx_tuple__28
+#define __pyx_codeobj__9 __pyx_mstate_global->__pyx_codeobj__9
 #define __pyx_codeobj__11 __pyx_mstate_global->__pyx_codeobj__11
 #define __pyx_codeobj__12 __pyx_mstate_global->__pyx_codeobj__12
 #define __pyx_codeobj__13 __pyx_mstate_global->__pyx_codeobj__13
-#define __pyx_codeobj__15 __pyx_mstate_global->__pyx_codeobj__15
+#define __pyx_codeobj__14 __pyx_mstate_global->__pyx_codeobj__14
 #define __pyx_codeobj__16 __pyx_mstate_global->__pyx_codeobj__16
 #define __pyx_codeobj__17 __pyx_mstate_global->__pyx_codeobj__17
-#define __pyx_codeobj__18 __pyx_mstate_global->__pyx_codeobj__18
-#define __pyx_codeobj__20 __pyx_mstate_global->__pyx_codeobj__20
-#define __pyx_codeobj__22 __pyx_mstate_global->__pyx_codeobj__22
-#define __pyx_codeobj__24 __pyx_mstate_global->__pyx_codeobj__24
-#define __pyx_codeobj__26 __pyx_mstate_global->__pyx_codeobj__26
-#define __pyx_codeobj__28 __pyx_mstate_global->__pyx_codeobj__28
-#define __pyx_codeobj__31 __pyx_mstate_global->__pyx_codeobj__31
+#define __pyx_codeobj__19 __pyx_mstate_global->__pyx_codeobj__19
+#define __pyx_codeobj__21 __pyx_mstate_global->__pyx_codeobj__21
+#define __pyx_codeobj__23 __pyx_mstate_global->__pyx_codeobj__23
+#define __pyx_codeobj__25 __pyx_mstate_global->__pyx_codeobj__25
+#define __pyx_codeobj__27 __pyx_mstate_global->__pyx_codeobj__27
+#define __pyx_codeobj__29 __pyx_mstate_global->__pyx_codeobj__29
 /* #### Code section: module_code ### */
 
-/* "av/logging.pyx":59
+/* "av/logging.pyx":65
  * 
  * 
  * cpdef adapt_level(int level):             # <<<<<<<<<<<<<<
  *     """Convert a library log level to a Python log level."""
  * 
  */
 
@@ -3288,215 +3284,215 @@
 ); /*proto*/
 static PyObject *__pyx_f_2av_7logging_adapt_level(int __pyx_v_level, CYTHON_UNUSED int __pyx_skip_dispatch) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   __Pyx_RefNannySetupContext("adapt_level", 1);
 
-  /* "av/logging.pyx":62
+  /* "av/logging.pyx":68
  *     """Convert a library log level to a Python log level."""
  * 
  *     if level <= lib.AV_LOG_FATAL:  # Includes PANIC             # <<<<<<<<<<<<<<
  *         return 50  # logging.CRITICAL
  *     elif level <= lib.AV_LOG_ERROR:
  */
   __pyx_t_1 = (__pyx_v_level <= AV_LOG_FATAL);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":63
+    /* "av/logging.pyx":69
  * 
  *     if level <= lib.AV_LOG_FATAL:  # Includes PANIC
  *         return 50  # logging.CRITICAL             # <<<<<<<<<<<<<<
  *     elif level <= lib.AV_LOG_ERROR:
  *         return 40  # logging.ERROR
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_50);
     __pyx_r = __pyx_int_50;
     goto __pyx_L0;
 
-    /* "av/logging.pyx":62
+    /* "av/logging.pyx":68
  *     """Convert a library log level to a Python log level."""
  * 
  *     if level <= lib.AV_LOG_FATAL:  # Includes PANIC             # <<<<<<<<<<<<<<
  *         return 50  # logging.CRITICAL
  *     elif level <= lib.AV_LOG_ERROR:
  */
   }
 
-  /* "av/logging.pyx":64
+  /* "av/logging.pyx":70
  *     if level <= lib.AV_LOG_FATAL:  # Includes PANIC
  *         return 50  # logging.CRITICAL
  *     elif level <= lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
  *         return 40  # logging.ERROR
  *     elif level <= lib.AV_LOG_WARNING:
  */
   __pyx_t_1 = (__pyx_v_level <= AV_LOG_ERROR);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":65
+    /* "av/logging.pyx":71
  *         return 50  # logging.CRITICAL
  *     elif level <= lib.AV_LOG_ERROR:
  *         return 40  # logging.ERROR             # <<<<<<<<<<<<<<
  *     elif level <= lib.AV_LOG_WARNING:
  *         return 30  # logging.WARNING
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_40);
     __pyx_r = __pyx_int_40;
     goto __pyx_L0;
 
-    /* "av/logging.pyx":64
+    /* "av/logging.pyx":70
  *     if level <= lib.AV_LOG_FATAL:  # Includes PANIC
  *         return 50  # logging.CRITICAL
  *     elif level <= lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
  *         return 40  # logging.ERROR
  *     elif level <= lib.AV_LOG_WARNING:
  */
   }
 
-  /* "av/logging.pyx":66
+  /* "av/logging.pyx":72
  *     elif level <= lib.AV_LOG_ERROR:
  *         return 40  # logging.ERROR
  *     elif level <= lib.AV_LOG_WARNING:             # <<<<<<<<<<<<<<
  *         return 30  # logging.WARNING
  *     elif level <= lib.AV_LOG_INFO:
  */
   __pyx_t_1 = (__pyx_v_level <= AV_LOG_WARNING);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":67
+    /* "av/logging.pyx":73
  *         return 40  # logging.ERROR
  *     elif level <= lib.AV_LOG_WARNING:
  *         return 30  # logging.WARNING             # <<<<<<<<<<<<<<
  *     elif level <= lib.AV_LOG_INFO:
  *         return 20  # logging.INFO
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_30);
     __pyx_r = __pyx_int_30;
     goto __pyx_L0;
 
-    /* "av/logging.pyx":66
+    /* "av/logging.pyx":72
  *     elif level <= lib.AV_LOG_ERROR:
  *         return 40  # logging.ERROR
  *     elif level <= lib.AV_LOG_WARNING:             # <<<<<<<<<<<<<<
  *         return 30  # logging.WARNING
  *     elif level <= lib.AV_LOG_INFO:
  */
   }
 
-  /* "av/logging.pyx":68
+  /* "av/logging.pyx":74
  *     elif level <= lib.AV_LOG_WARNING:
  *         return 30  # logging.WARNING
  *     elif level <= lib.AV_LOG_INFO:             # <<<<<<<<<<<<<<
  *         return 20  # logging.INFO
  *     elif level <= lib.AV_LOG_VERBOSE:
  */
   __pyx_t_1 = (__pyx_v_level <= AV_LOG_INFO);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":69
+    /* "av/logging.pyx":75
  *         return 30  # logging.WARNING
  *     elif level <= lib.AV_LOG_INFO:
  *         return 20  # logging.INFO             # <<<<<<<<<<<<<<
  *     elif level <= lib.AV_LOG_VERBOSE:
  *         return 10  # logging.DEBUG
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_20);
     __pyx_r = __pyx_int_20;
     goto __pyx_L0;
 
-    /* "av/logging.pyx":68
+    /* "av/logging.pyx":74
  *     elif level <= lib.AV_LOG_WARNING:
  *         return 30  # logging.WARNING
  *     elif level <= lib.AV_LOG_INFO:             # <<<<<<<<<<<<<<
  *         return 20  # logging.INFO
  *     elif level <= lib.AV_LOG_VERBOSE:
  */
   }
 
-  /* "av/logging.pyx":70
+  /* "av/logging.pyx":76
  *     elif level <= lib.AV_LOG_INFO:
  *         return 20  # logging.INFO
  *     elif level <= lib.AV_LOG_VERBOSE:             # <<<<<<<<<<<<<<
  *         return 10  # logging.DEBUG
  *     elif level <= lib.AV_LOG_DEBUG:
  */
   __pyx_t_1 = (__pyx_v_level <= AV_LOG_VERBOSE);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":71
+    /* "av/logging.pyx":77
  *         return 20  # logging.INFO
  *     elif level <= lib.AV_LOG_VERBOSE:
  *         return 10  # logging.DEBUG             # <<<<<<<<<<<<<<
  *     elif level <= lib.AV_LOG_DEBUG:
  *         return 5  # Lower than any logging constant.
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_10);
     __pyx_r = __pyx_int_10;
     goto __pyx_L0;
 
-    /* "av/logging.pyx":70
+    /* "av/logging.pyx":76
  *     elif level <= lib.AV_LOG_INFO:
  *         return 20  # logging.INFO
  *     elif level <= lib.AV_LOG_VERBOSE:             # <<<<<<<<<<<<<<
  *         return 10  # logging.DEBUG
  *     elif level <= lib.AV_LOG_DEBUG:
  */
   }
 
-  /* "av/logging.pyx":72
+  /* "av/logging.pyx":78
  *     elif level <= lib.AV_LOG_VERBOSE:
  *         return 10  # logging.DEBUG
  *     elif level <= lib.AV_LOG_DEBUG:             # <<<<<<<<<<<<<<
  *         return 5  # Lower than any logging constant.
  *     else:  # lib.AV_LOG_TRACE
  */
   __pyx_t_1 = (__pyx_v_level <= AV_LOG_DEBUG);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":73
+    /* "av/logging.pyx":79
  *         return 10  # logging.DEBUG
  *     elif level <= lib.AV_LOG_DEBUG:
  *         return 5  # Lower than any logging constant.             # <<<<<<<<<<<<<<
  *     else:  # lib.AV_LOG_TRACE
- *         return 1  # ... yeah.
+ *         return 1
  */
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_5);
     __pyx_r = __pyx_int_5;
     goto __pyx_L0;
 
-    /* "av/logging.pyx":72
+    /* "av/logging.pyx":78
  *     elif level <= lib.AV_LOG_VERBOSE:
  *         return 10  # logging.DEBUG
  *     elif level <= lib.AV_LOG_DEBUG:             # <<<<<<<<<<<<<<
  *         return 5  # Lower than any logging constant.
  *     else:  # lib.AV_LOG_TRACE
  */
   }
 
-  /* "av/logging.pyx":75
+  /* "av/logging.pyx":81
  *         return 5  # Lower than any logging constant.
  *     else:  # lib.AV_LOG_TRACE
- *         return 1  # ... yeah.             # <<<<<<<<<<<<<<
+ *         return 1             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
     __Pyx_INCREF(__pyx_int_1);
     __pyx_r = __pyx_int_1;
     goto __pyx_L0;
   }
 
-  /* "av/logging.pyx":59
+  /* "av/logging.pyx":65
  * 
  * 
  * cpdef adapt_level(int level):             # <<<<<<<<<<<<<<
  *     """Convert a library log level to a Python log level."""
  * 
  */
 
@@ -3557,31 +3553,31 @@
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_level)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 59, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 65, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "adapt_level") < 0)) __PYX_ERR(0, 59, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "adapt_level") < 0)) __PYX_ERR(0, 65, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 1)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
     }
-    __pyx_v_level = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_level == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 59, __pyx_L3_error)
+    __pyx_v_level = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_level == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 65, __pyx_L3_error)
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("adapt_level", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 59, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("adapt_level", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 65, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
@@ -3609,15 +3605,15 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("adapt_level", 1);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_7logging_adapt_level(__pyx_v_level, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 59, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_7logging_adapt_level(__pyx_v_level, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 65, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -3626,25 +3622,25 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":88
+/* "av/logging.pyx":91
  * 
  * 
  * def get_level():             # <<<<<<<<<<<<<<
- *     """Return current FFmpeg logging threshold. See :func:`set_level`."""
+ *     """Returns the current log level. See :func:`set_level`."""
  *     return level_threshold
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_2av_7logging_3get_level(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_2get_level, "get_level()\nReturn current FFmpeg logging threshold. See :func:`set_level`.");
+PyDoc_STRVAR(__pyx_doc_2av_7logging_2get_level, "get_level()\nReturns the current log level. See :func:`set_level`.");
 static PyMethodDef __pyx_mdef_2av_7logging_3get_level = {"get_level", (PyCFunction)__pyx_pw_2av_7logging_3get_level, METH_NOARGS, __pyx_doc_2av_7logging_2get_level};
 static PyObject *__pyx_pw_2av_7logging_3get_level(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("get_level (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
@@ -3654,79 +3650,69 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 static PyObject *__pyx_pf_2av_7logging_2get_level(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_level", 1);
 
-  /* "av/logging.pyx":90
+  /* "av/logging.pyx":93
  * def get_level():
- *     """Return current FFmpeg logging threshold. See :func:`set_level`."""
+ *     """Returns the current log level. See :func:`set_level`."""
  *     return level_threshold             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_2av_7logging_level_threshold); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 90, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
+  __Pyx_INCREF(__pyx_v_2av_7logging_level_threshold);
+  __pyx_r = __pyx_v_2av_7logging_level_threshold;
   goto __pyx_L0;
 
-  /* "av/logging.pyx":88
+  /* "av/logging.pyx":91
  * 
  * 
  * def get_level():             # <<<<<<<<<<<<<<
- *     """Return current FFmpeg logging threshold. See :func:`set_level`."""
+ *     """Returns the current log level. See :func:`set_level`."""
  *     return level_threshold
  */
 
   /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("av.logging.get_level", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":93
+/* "av/logging.pyx":96
  * 
  * 
- * def set_level(int level):             # <<<<<<<<<<<<<<
+ * def set_level(level):             # <<<<<<<<<<<<<<
  *     """set_level(level)
  * 
  */
 
 /* Python wrapper */
 static PyObject *__pyx_pw_2av_7logging_5set_level(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_4set_level, "set_level(level)\n\n    Sets logging threshold when converting from FFmpeg's logging system\n    to Python's. It is recommended to use the constants available in this\n    module to set the level: ``PANIC``, ``FATAL``, ``ERROR``,\n    ``WARNING``, ``INFO``, ``VERBOSE``, and ``DEBUG``.\n\n    While less efficient, it is generally preferable to modify logging\n    with Python's :mod:`logging`, e.g.::\n\n        logging.getLogger('libav').setLevel(logging.ERROR)\n\n    PyAV defaults to translating everything except ``AV_LOG_DEBUG``, so this\n    function is only nessesary to use if you want to see those messages as well.\n    ``AV_LOG_DEBUG`` will be translated to a level 5 message, which is lower\n    than any builtin Python logging level, so you must lower that as well::\n\n        logging.getLogger().setLevel(5)\n\n    ");
+PyDoc_STRVAR(__pyx_doc_2av_7logging_4set_level, "set_level(level)\n\n    Sets PyAV's log level. It can be set to constants available in this\n    module: ``PANIC``, ``FATAL``, ``ERROR``, ``WARNING``, ``INFO``,\n    ``VERBOSE``, ``DEBUG``, or ``None`` (the default).\n\n    PyAV defaults to totally ignoring all ffmpeg logs. This has the side effect of\n    making certain Exceptions have no messages. It's therefore recommended to use:\n\n         av.logging.set_level(av.logging.VERBOSE)\n\n    When developing your application.\n    ");
 static PyMethodDef __pyx_mdef_2av_7logging_5set_level = {"set_level", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_5set_level, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_4set_level};
 static PyObject *__pyx_pw_2av_7logging_5set_level(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
-  int __pyx_v_level;
+  PyObject *__pyx_v_level = 0;
   #if !CYTHON_METH_FASTCALL
   CYTHON_UNUSED Py_ssize_t __pyx_nargs;
   #endif
   CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
   PyObject* values[1] = {0};
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
@@ -3755,31 +3741,31 @@
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_level)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 93, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 96, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "set_level") < 0)) __PYX_ERR(0, 93, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "set_level") < 0)) __PYX_ERR(0, 96, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 1)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
     }
-    __pyx_v_level = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_level == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 93, __pyx_L3_error)
+    __pyx_v_level = values[0];
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("set_level", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 93, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("set_level", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 96, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
@@ -3798,44 +3784,144 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_7logging_4set_level(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level) {
+static PyObject *__pyx_pf_2av_7logging_4set_level(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_level) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("set_level", 1);
 
-  /* "av/logging.pyx":115
- *     """
+  /* "av/logging.pyx":112
  *     global level_threshold
- *     level_threshold = level             # <<<<<<<<<<<<<<
  * 
+ *     if level is None:             # <<<<<<<<<<<<<<
+ *         level_threshold = level
+ *         lib.av_log_set_callback(nolog_callback)
+ */
+  __pyx_t_1 = (__pyx_v_level == Py_None);
+  if (__pyx_t_1) {
+
+    /* "av/logging.pyx":113
  * 
+ *     if level is None:
+ *         level_threshold = level             # <<<<<<<<<<<<<<
+ *         lib.av_log_set_callback(nolog_callback)
+ *     elif type(level) is int:
+ */
+    __Pyx_INCREF(__pyx_v_level);
+    __Pyx_XGOTREF(__pyx_v_2av_7logging_level_threshold);
+    __Pyx_DECREF_SET(__pyx_v_2av_7logging_level_threshold, __pyx_v_level);
+    __Pyx_GIVEREF(__pyx_v_level);
+
+    /* "av/logging.pyx":114
+ *     if level is None:
+ *         level_threshold = level
+ *         lib.av_log_set_callback(nolog_callback)             # <<<<<<<<<<<<<<
+ *     elif type(level) is int:
+ *         level_threshold = level
  */
-  __pyx_v_2av_7logging_level_threshold = __pyx_v_level;
+    av_log_set_callback(__pyx_f_2av_7logging_nolog_callback);
 
-  /* "av/logging.pyx":93
+    /* "av/logging.pyx":112
+ *     global level_threshold
+ * 
+ *     if level is None:             # <<<<<<<<<<<<<<
+ *         level_threshold = level
+ *         lib.av_log_set_callback(nolog_callback)
+ */
+    goto __pyx_L3;
+  }
+
+  /* "av/logging.pyx":115
+ *         level_threshold = level
+ *         lib.av_log_set_callback(nolog_callback)
+ *     elif type(level) is int:             # <<<<<<<<<<<<<<
+ *         level_threshold = level
+ *         lib.av_log_set_callback(log_callback)
+ */
+  __pyx_t_1 = (((PyObject *)Py_TYPE(__pyx_v_level)) == ((PyObject *)(&PyInt_Type)));
+  if (likely(__pyx_t_1)) {
+
+    /* "av/logging.pyx":116
+ *         lib.av_log_set_callback(nolog_callback)
+ *     elif type(level) is int:
+ *         level_threshold = level             # <<<<<<<<<<<<<<
+ *         lib.av_log_set_callback(log_callback)
+ *     else:
+ */
+    __Pyx_INCREF(__pyx_v_level);
+    __Pyx_XGOTREF(__pyx_v_2av_7logging_level_threshold);
+    __Pyx_DECREF_SET(__pyx_v_2av_7logging_level_threshold, __pyx_v_level);
+    __Pyx_GIVEREF(__pyx_v_level);
+
+    /* "av/logging.pyx":117
+ *     elif type(level) is int:
+ *         level_threshold = level
+ *         lib.av_log_set_callback(log_callback)             # <<<<<<<<<<<<<<
+ *     else:
+ *         raise ValueError("level must be: int | None")
+ */
+    av_log_set_callback(__pyx_f_2av_7logging_log_callback);
+
+    /* "av/logging.pyx":115
+ *         level_threshold = level
+ *         lib.av_log_set_callback(nolog_callback)
+ *     elif type(level) is int:             # <<<<<<<<<<<<<<
+ *         level_threshold = level
+ *         lib.av_log_set_callback(log_callback)
+ */
+    goto __pyx_L3;
+  }
+
+  /* "av/logging.pyx":119
+ *         lib.av_log_set_callback(log_callback)
+ *     else:
+ *         raise ValueError("level must be: int | None")             # <<<<<<<<<<<<<<
  * 
  * 
- * def set_level(int level):             # <<<<<<<<<<<<<<
+ */
+  /*else*/ {
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_ValueError, __pyx_tuple_, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 119, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_2);
+    __Pyx_Raise(__pyx_t_2, 0, 0, 0);
+    __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+    __PYX_ERR(0, 119, __pyx_L1_error)
+  }
+  __pyx_L3:;
+
+  /* "av/logging.pyx":96
+ * 
+ * 
+ * def set_level(level):             # <<<<<<<<<<<<<<
  *     """set_level(level)
  * 
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("av.logging.set_level", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":118
+/* "av/logging.pyx":122
  * 
  * 
  * def restore_default_callback():             # <<<<<<<<<<<<<<
  *     """Revert back to FFmpeg's log callback, which prints to the terminal."""
  *     lib.av_log_set_callback(lib.av_log_default_callback)
  */
 
@@ -3857,298 +3943,87 @@
 }
 
 static PyObject *__pyx_pf_2av_7logging_6restore_default_callback(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("restore_default_callback", 1);
 
-  /* "av/logging.pyx":120
+  /* "av/logging.pyx":124
  * def restore_default_callback():
  *     """Revert back to FFmpeg's log callback, which prints to the terminal."""
  *     lib.av_log_set_callback(lib.av_log_default_callback)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   av_log_set_callback(av_log_default_callback);
 
-  /* "av/logging.pyx":118
+  /* "av/logging.pyx":122
  * 
  * 
  * def restore_default_callback():             # <<<<<<<<<<<<<<
  *     """Revert back to FFmpeg's log callback, which prints to the terminal."""
  *     lib.av_log_set_callback(lib.av_log_default_callback)
  */
 
   /* function exit code */
   __pyx_r = Py_None; __Pyx_INCREF(Py_None);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":126
- * 
- * 
- * def get_print_after_shutdown():             # <<<<<<<<<<<<<<
- *     """Will logging continue to ``stderr`` after Python shutdown?"""
- *     return print_after_shutdown
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_9get_print_after_shutdown(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_8get_print_after_shutdown, "get_print_after_shutdown()\nWill logging continue to ``stderr`` after Python shutdown?");
-static PyMethodDef __pyx_mdef_2av_7logging_9get_print_after_shutdown = {"get_print_after_shutdown", (PyCFunction)__pyx_pw_2av_7logging_9get_print_after_shutdown, METH_NOARGS, __pyx_doc_2av_7logging_8get_print_after_shutdown};
-static PyObject *__pyx_pw_2av_7logging_9get_print_after_shutdown(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
-  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("get_print_after_shutdown (wrapper)", 0);
-  __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
-  __pyx_r = __pyx_pf_2av_7logging_8get_print_after_shutdown(__pyx_self);
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_2av_7logging_8get_print_after_shutdown(CYTHON_UNUSED PyObject *__pyx_self) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  PyObject *__pyx_t_1 = NULL;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("get_print_after_shutdown", 1);
-
-  /* "av/logging.pyx":128
- * def get_print_after_shutdown():
- *     """Will logging continue to ``stderr`` after Python shutdown?"""
- *     return print_after_shutdown             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_2av_7logging_print_after_shutdown); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 128, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_1);
-  __pyx_r = __pyx_t_1;
-  __pyx_t_1 = 0;
-  goto __pyx_L0;
-
-  /* "av/logging.pyx":126
- * 
- * 
- * def get_print_after_shutdown():             # <<<<<<<<<<<<<<
- *     """Will logging continue to ``stderr`` after Python shutdown?"""
- *     return print_after_shutdown
- */
-
-  /* function exit code */
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_1);
-  __Pyx_AddTraceback("av.logging.get_print_after_shutdown", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "av/logging.pyx":131
- * 
- * 
- * def set_print_after_shutdown(v):             # <<<<<<<<<<<<<<
- *     """Set if logging should continue to ``stderr`` after Python shutdown."""
- *     global print_after_shutdown
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_11set_print_after_shutdown(PyObject *__pyx_self, 
-#if CYTHON_METH_FASTCALL
-PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
-#else
-PyObject *__pyx_args, PyObject *__pyx_kwds
-#endif
-); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_10set_print_after_shutdown, "set_print_after_shutdown(v)\nSet if logging should continue to ``stderr`` after Python shutdown.");
-static PyMethodDef __pyx_mdef_2av_7logging_11set_print_after_shutdown = {"set_print_after_shutdown", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_11set_print_after_shutdown, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_10set_print_after_shutdown};
-static PyObject *__pyx_pw_2av_7logging_11set_print_after_shutdown(PyObject *__pyx_self, 
-#if CYTHON_METH_FASTCALL
-PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
-#else
-PyObject *__pyx_args, PyObject *__pyx_kwds
-#endif
-) {
-  PyObject *__pyx_v_v = 0;
-  #if !CYTHON_METH_FASTCALL
-  CYTHON_UNUSED Py_ssize_t __pyx_nargs;
-  #endif
-  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
-  PyObject* values[1] = {0};
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("set_print_after_shutdown (wrapper)", 0);
-  #if !CYTHON_METH_FASTCALL
-  #if CYTHON_ASSUME_SAFE_MACROS
-  __pyx_nargs = PyTuple_GET_SIZE(__pyx_args);
-  #else
-  __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
-  #endif
-  #endif
-  __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
-  {
-    PyObject **__pyx_pyargnames[] = {&__pyx_n_s_v,0};
-    if (__pyx_kwds) {
-      Py_ssize_t kw_args;
-      switch (__pyx_nargs) {
-        case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
-        CYTHON_FALLTHROUGH;
-        case  0: break;
-        default: goto __pyx_L5_argtuple_error;
-      }
-      kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
-      switch (__pyx_nargs) {
-        case  0:
-        if (likely((values[0] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_v)) != 0)) {
-          (void)__Pyx_Arg_NewRef_FASTCALL(values[0]);
-          kw_args--;
-        }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 131, __pyx_L3_error)
-        else goto __pyx_L5_argtuple_error;
-      }
-      if (unlikely(kw_args > 0)) {
-        const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "set_print_after_shutdown") < 0)) __PYX_ERR(0, 131, __pyx_L3_error)
-      }
-    } else if (unlikely(__pyx_nargs != 1)) {
-      goto __pyx_L5_argtuple_error;
-    } else {
-      values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
-    }
-    __pyx_v_v = values[0];
-  }
-  goto __pyx_L6_skip;
-  __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("set_print_after_shutdown", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 131, __pyx_L3_error)
-  __pyx_L6_skip:;
-  goto __pyx_L4_argument_unpacking_done;
-  __pyx_L3_error:;
-  {
-    Py_ssize_t __pyx_temp;
-    for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
-      __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
-    }
-  }
-  __Pyx_AddTraceback("av.logging.set_print_after_shutdown", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __Pyx_RefNannyFinishContext();
-  return NULL;
-  __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_7logging_10set_print_after_shutdown(__pyx_self, __pyx_v_v);
-
-  /* function exit code */
-  {
-    Py_ssize_t __pyx_temp;
-    for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
-      __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
-    }
-  }
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_2av_7logging_10set_print_after_shutdown(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_v) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("set_print_after_shutdown", 1);
-
-  /* "av/logging.pyx":134
- *     """Set if logging should continue to ``stderr`` after Python shutdown."""
- *     global print_after_shutdown
- *     print_after_shutdown = bool(v)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_v); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 134, __pyx_L1_error)
-  __pyx_v_2av_7logging_print_after_shutdown = (!(!__pyx_t_1));
-
-  /* "av/logging.pyx":131
- * 
- * 
- * def set_print_after_shutdown(v):             # <<<<<<<<<<<<<<
- *     """Set if logging should continue to ``stderr`` after Python shutdown."""
- *     global print_after_shutdown
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_AddTraceback("av.logging.set_print_after_shutdown", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "av/logging.pyx":143
+/* "av/logging.pyx":133
  * 
  * 
  * def get_skip_repeated():             # <<<<<<<<<<<<<<
  *     """Will identical logs be emitted?"""
  *     return skip_repeated
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_13get_skip_repeated(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_12get_skip_repeated, "get_skip_repeated()\nWill identical logs be emitted?");
-static PyMethodDef __pyx_mdef_2av_7logging_13get_skip_repeated = {"get_skip_repeated", (PyCFunction)__pyx_pw_2av_7logging_13get_skip_repeated, METH_NOARGS, __pyx_doc_2av_7logging_12get_skip_repeated};
-static PyObject *__pyx_pw_2av_7logging_13get_skip_repeated(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_2av_7logging_9get_skip_repeated(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+PyDoc_STRVAR(__pyx_doc_2av_7logging_8get_skip_repeated, "get_skip_repeated()\nWill identical logs be emitted?");
+static PyMethodDef __pyx_mdef_2av_7logging_9get_skip_repeated = {"get_skip_repeated", (PyCFunction)__pyx_pw_2av_7logging_9get_skip_repeated, METH_NOARGS, __pyx_doc_2av_7logging_8get_skip_repeated};
+static PyObject *__pyx_pw_2av_7logging_9get_skip_repeated(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("get_skip_repeated (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
-  __pyx_r = __pyx_pf_2av_7logging_12get_skip_repeated(__pyx_self);
+  __pyx_r = __pyx_pf_2av_7logging_8get_skip_repeated(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_7logging_12get_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self) {
+static PyObject *__pyx_pf_2av_7logging_8get_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_skip_repeated", 1);
 
-  /* "av/logging.pyx":145
+  /* "av/logging.pyx":135
  * def get_skip_repeated():
  *     """Will identical logs be emitted?"""
  *     return skip_repeated             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_2av_7logging_skip_repeated); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 145, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBool_FromLong(__pyx_v_2av_7logging_skip_repeated); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 135, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/logging.pyx":143
+  /* "av/logging.pyx":133
  * 
  * 
  * def get_skip_repeated():             # <<<<<<<<<<<<<<
  *     """Will identical logs be emitted?"""
  *     return skip_repeated
  */
 
@@ -4159,33 +4034,33 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":148
+/* "av/logging.pyx":138
  * 
  * 
  * def set_skip_repeated(v):             # <<<<<<<<<<<<<<
  *     """Set if identical logs will be emitted"""
  *     global skip_repeated
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_15set_skip_repeated(PyObject *__pyx_self, 
+static PyObject *__pyx_pw_2av_7logging_11set_skip_repeated(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_14set_skip_repeated, "set_skip_repeated(v)\nSet if identical logs will be emitted");
-static PyMethodDef __pyx_mdef_2av_7logging_15set_skip_repeated = {"set_skip_repeated", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_15set_skip_repeated, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_14set_skip_repeated};
-static PyObject *__pyx_pw_2av_7logging_15set_skip_repeated(PyObject *__pyx_self, 
+PyDoc_STRVAR(__pyx_doc_2av_7logging_10set_skip_repeated, "set_skip_repeated(v)\nSet if identical logs will be emitted");
+static PyMethodDef __pyx_mdef_2av_7logging_11set_skip_repeated = {"set_skip_repeated", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_11set_skip_repeated, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_10set_skip_repeated};
+static PyObject *__pyx_pw_2av_7logging_11set_skip_repeated(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   PyObject *__pyx_v_v = 0;
@@ -4221,77 +4096,77 @@
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_v)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 148, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 138, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "set_skip_repeated") < 0)) __PYX_ERR(0, 148, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "set_skip_repeated") < 0)) __PYX_ERR(0, 138, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 1)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
     }
     __pyx_v_v = values[0];
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("set_skip_repeated", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 148, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("set_skip_repeated", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 138, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.logging.set_skip_repeated", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_7logging_14set_skip_repeated(__pyx_self, __pyx_v_v);
+  __pyx_r = __pyx_pf_2av_7logging_10set_skip_repeated(__pyx_self, __pyx_v_v);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_7logging_14set_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_v) {
+static PyObject *__pyx_pf_2av_7logging_10set_skip_repeated(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_v) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("set_skip_repeated", 1);
 
-  /* "av/logging.pyx":151
+  /* "av/logging.pyx":141
  *     """Set if identical logs will be emitted"""
  *     global skip_repeated
  *     skip_repeated = bool(v)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_v); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 151, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_v_v); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 141, __pyx_L1_error)
   __pyx_v_2av_7logging_skip_repeated = (!(!__pyx_t_1));
 
-  /* "av/logging.pyx":148
+  /* "av/logging.pyx":138
  * 
  * 
  * def set_skip_repeated(v):             # <<<<<<<<<<<<<<
  *     """Set if identical logs will be emitted"""
  *     global skip_repeated
  */
 
@@ -4303,23 +4178,23 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":158
+/* "av/logging.pyx":148
  * cdef int error_count = 0
  * 
  * cpdef get_last_error():             # <<<<<<<<<<<<<<
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  */
 
-static PyObject *__pyx_pw_2av_7logging_17get_last_error(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+static PyObject *__pyx_pw_2av_7logging_13get_last_error(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
 static PyObject *__pyx_f_2av_7logging_get_last_error(CYTHON_UNUSED int __pyx_skip_dispatch) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   PyObject *__pyx_t_3 = NULL;
   PyObject *__pyx_t_4 = NULL;
@@ -4332,35 +4207,35 @@
   PyObject *__pyx_t_11 = NULL;
   int __pyx_t_12;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_last_error", 1);
 
-  /* "av/logging.pyx":160
+  /* "av/logging.pyx":150
  * cpdef get_last_error():
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:             # <<<<<<<<<<<<<<
  *         with skip_lock:
  *             return error_count, last_error
  */
   __pyx_t_1 = (__pyx_v_2av_7logging_error_count != 0);
   if (__pyx_t_1) {
 
-    /* "av/logging.pyx":161
+    /* "av/logging.pyx":151
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  *         with skip_lock:             # <<<<<<<<<<<<<<
  *             return error_count, last_error
  *     else:
  */
     /*with:*/ {
-      __pyx_t_2 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_exit); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 161, __pyx_L1_error)
+      __pyx_t_2 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_exit); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 151, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_enter); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 161, __pyx_L4_error)
+      __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_enter); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 151, __pyx_L4_error)
       __Pyx_GOTREF(__pyx_t_4);
       __pyx_t_5 = NULL;
       __pyx_t_6 = 0;
       #if CYTHON_UNPACK_METHODS
       if (likely(PyMethod_Check(__pyx_t_4))) {
         __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
         if (likely(__pyx_t_5)) {
@@ -4372,87 +4247,87 @@
         }
       }
       #endif
       {
         PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
         __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 161, __pyx_L4_error)
+        if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 151, __pyx_L4_error)
         __Pyx_GOTREF(__pyx_t_3);
         __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
       }
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       /*try:*/ {
         {
           __Pyx_PyThreadState_declare
           __Pyx_PyThreadState_assign
           __Pyx_ExceptionSave(&__pyx_t_7, &__pyx_t_8, &__pyx_t_9);
           __Pyx_XGOTREF(__pyx_t_7);
           __Pyx_XGOTREF(__pyx_t_8);
           __Pyx_XGOTREF(__pyx_t_9);
           /*try:*/ {
 
-            /* "av/logging.pyx":162
+            /* "av/logging.pyx":152
  *     if error_count:
  *         with skip_lock:
  *             return error_count, last_error             # <<<<<<<<<<<<<<
  *     else:
  *         return 0, None
  */
             __Pyx_XDECREF(__pyx_r);
-            __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_2av_7logging_error_count); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 162, __pyx_L8_error)
+            __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_2av_7logging_error_count); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 152, __pyx_L8_error)
             __Pyx_GOTREF(__pyx_t_3);
-            __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 162, __pyx_L8_error)
+            __pyx_t_4 = PyTuple_New(2); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 152, __pyx_L8_error)
             __Pyx_GOTREF(__pyx_t_4);
             __Pyx_GIVEREF(__pyx_t_3);
-            if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3)) __PYX_ERR(0, 162, __pyx_L8_error);
+            if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_t_3)) __PYX_ERR(0, 152, __pyx_L8_error);
             __Pyx_INCREF(__pyx_v_2av_7logging_last_error);
             __Pyx_GIVEREF(__pyx_v_2av_7logging_last_error);
-            if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_2av_7logging_last_error)) __PYX_ERR(0, 162, __pyx_L8_error);
+            if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 1, __pyx_v_2av_7logging_last_error)) __PYX_ERR(0, 152, __pyx_L8_error);
             __pyx_t_3 = 0;
             __pyx_r = __pyx_t_4;
             __pyx_t_4 = 0;
             goto __pyx_L12_try_return;
 
-            /* "av/logging.pyx":161
+            /* "av/logging.pyx":151
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  *         with skip_lock:             # <<<<<<<<<<<<<<
  *             return error_count, last_error
  *     else:
  */
           }
           __pyx_L8_error:;
           __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
           __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
           /*except:*/ {
             __Pyx_AddTraceback("av.logging.get_last_error", __pyx_clineno, __pyx_lineno, __pyx_filename);
-            if (__Pyx_GetException(&__pyx_t_4, &__pyx_t_3, &__pyx_t_5) < 0) __PYX_ERR(0, 161, __pyx_L10_except_error)
+            if (__Pyx_GetException(&__pyx_t_4, &__pyx_t_3, &__pyx_t_5) < 0) __PYX_ERR(0, 151, __pyx_L10_except_error)
             __Pyx_XGOTREF(__pyx_t_4);
             __Pyx_XGOTREF(__pyx_t_3);
             __Pyx_XGOTREF(__pyx_t_5);
-            __pyx_t_10 = PyTuple_Pack(3, __pyx_t_4, __pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 161, __pyx_L10_except_error)
+            __pyx_t_10 = PyTuple_Pack(3, __pyx_t_4, __pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_10)) __PYX_ERR(0, 151, __pyx_L10_except_error)
             __Pyx_GOTREF(__pyx_t_10);
             __pyx_t_11 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_t_10, NULL);
             __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
             __Pyx_DECREF(__pyx_t_10); __pyx_t_10 = 0;
-            if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 161, __pyx_L10_except_error)
+            if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 151, __pyx_L10_except_error)
             __Pyx_GOTREF(__pyx_t_11);
             __pyx_t_1 = __Pyx_PyObject_IsTrue(__pyx_t_11);
             __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-            if (__pyx_t_1 < 0) __PYX_ERR(0, 161, __pyx_L10_except_error)
+            if (__pyx_t_1 < 0) __PYX_ERR(0, 151, __pyx_L10_except_error)
             __pyx_t_12 = (!__pyx_t_1);
             if (unlikely(__pyx_t_12)) {
               __Pyx_GIVEREF(__pyx_t_4);
               __Pyx_GIVEREF(__pyx_t_3);
               __Pyx_XGIVEREF(__pyx_t_5);
               __Pyx_ErrRestoreWithState(__pyx_t_4, __pyx_t_3, __pyx_t_5);
               __pyx_t_4 = 0; __pyx_t_3 = 0; __pyx_t_5 = 0; 
-              __PYX_ERR(0, 161, __pyx_L10_except_error)
+              __PYX_ERR(0, 151, __pyx_L10_except_error)
             }
             __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
             __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
             __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
             goto __pyx_L9_exception_handled;
           }
           __pyx_L10_except_error:;
@@ -4473,29 +4348,29 @@
           __Pyx_XGIVEREF(__pyx_t_9);
           __Pyx_ExceptionReset(__pyx_t_7, __pyx_t_8, __pyx_t_9);
         }
       }
       /*finally:*/ {
         /*normal exit:*/{
           if (__pyx_t_2) {
-            __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple_, NULL);
+            __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__2, NULL);
             __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-            if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 161, __pyx_L1_error)
+            if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 151, __pyx_L1_error)
             __Pyx_GOTREF(__pyx_t_9);
             __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
           }
           goto __pyx_L7;
         }
         __pyx_L5_return: {
           __pyx_t_9 = __pyx_r;
           __pyx_r = 0;
           if (__pyx_t_2) {
-            __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple_, NULL);
+            __pyx_t_8 = __Pyx_PyObject_Call(__pyx_t_2, __pyx_tuple__2, NULL);
             __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-            if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 161, __pyx_L1_error)
+            if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 151, __pyx_L1_error)
             __Pyx_GOTREF(__pyx_t_8);
             __Pyx_DECREF(__pyx_t_8); __pyx_t_8 = 0;
           }
           __pyx_r = __pyx_t_9;
           __pyx_t_9 = 0;
           goto __pyx_L0;
         }
@@ -4504,40 +4379,40 @@
       goto __pyx_L17;
       __pyx_L4_error:;
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
       goto __pyx_L1_error;
       __pyx_L17:;
     }
 
-    /* "av/logging.pyx":160
+    /* "av/logging.pyx":150
  * cpdef get_last_error():
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:             # <<<<<<<<<<<<<<
  *         with skip_lock:
  *             return error_count, last_error
  */
     goto __pyx_L3;
   }
 
-  /* "av/logging.pyx":164
+  /* "av/logging.pyx":154
  *             return error_count, last_error
  *     else:
  *         return 0, None             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
-    __Pyx_INCREF(__pyx_tuple__2);
-    __pyx_r = __pyx_tuple__2;
+    __Pyx_INCREF(__pyx_tuple__3);
+    __pyx_r = __pyx_tuple__3;
     goto __pyx_L0;
   }
   __pyx_L3:;
 
-  /* "av/logging.pyx":158
+  /* "av/logging.pyx":148
  * cdef int error_count = 0
  * 
  * cpdef get_last_error():             # <<<<<<<<<<<<<<
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  */
 
@@ -4554,40 +4429,40 @@
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_17get_last_error(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_16get_last_error, "get_last_error()\nGet the last log that was at least ``ERROR``.");
-static PyMethodDef __pyx_mdef_2av_7logging_17get_last_error = {"get_last_error", (PyCFunction)__pyx_pw_2av_7logging_17get_last_error, METH_NOARGS, __pyx_doc_2av_7logging_16get_last_error};
-static PyObject *__pyx_pw_2av_7logging_17get_last_error(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
+static PyObject *__pyx_pw_2av_7logging_13get_last_error(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
+PyDoc_STRVAR(__pyx_doc_2av_7logging_12get_last_error, "get_last_error()\nGet the last log that was at least ``ERROR``.");
+static PyMethodDef __pyx_mdef_2av_7logging_13get_last_error = {"get_last_error", (PyCFunction)__pyx_pw_2av_7logging_13get_last_error, METH_NOARGS, __pyx_doc_2av_7logging_12get_last_error};
+static PyObject *__pyx_pw_2av_7logging_13get_last_error(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
   CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
   PyObject *__pyx_r = 0;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("get_last_error (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
-  __pyx_r = __pyx_pf_2av_7logging_16get_last_error(__pyx_self);
+  __pyx_r = __pyx_pf_2av_7logging_12get_last_error(__pyx_self);
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_7logging_16get_last_error(CYTHON_UNUSED PyObject *__pyx_self) {
+static PyObject *__pyx_pf_2av_7logging_12get_last_error(CYTHON_UNUSED PyObject *__pyx_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("get_last_error", 1);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_7logging_get_last_error(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 158, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_7logging_get_last_error(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 148, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -4596,15 +4471,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":188
+/* "av/logging.pyx":178
  *     cdef list captures
  * 
  *     def __init__(self, bint local=True):             # <<<<<<<<<<<<<<
  *         self.logs = []
  * 
  */
 
@@ -4639,38 +4514,38 @@
       }
       kw_args = __Pyx_NumKwargs_VARARGS(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_GetKwValue_VARARGS(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_local);
           if (value) { values[0] = __Pyx_Arg_NewRef_VARARGS(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 188, __pyx_L3_error)
+          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 178, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__init__") < 0)) __PYX_ERR(0, 188, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__init__") < 0)) __PYX_ERR(0, 178, __pyx_L3_error)
       }
     } else {
       switch (__pyx_nargs) {
         case  1: values[0] = __Pyx_Arg_VARARGS(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     if (values[0]) {
-      __pyx_v_local = __Pyx_PyObject_IsTrue(values[0]); if (unlikely((__pyx_v_local == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 188, __pyx_L3_error)
+      __pyx_v_local = __Pyx_PyObject_IsTrue(values[0]); if (unlikely((__pyx_v_local == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 178, __pyx_L3_error)
     } else {
       __pyx_v_local = ((int)1);
     }
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 188, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 178, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_VARARGS(values[__pyx_temp]);
@@ -4703,48 +4578,48 @@
   PyObject *__pyx_t_5 = NULL;
   int __pyx_t_6;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 1);
 
-  /* "av/logging.pyx":189
+  /* "av/logging.pyx":179
  * 
  *     def __init__(self, bint local=True):
  *         self.logs = []             # <<<<<<<<<<<<<<
  * 
  *         if local:
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 189, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 179, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->logs);
   __Pyx_DECREF(__pyx_v_self->logs);
   __pyx_v_self->logs = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "av/logging.pyx":191
+  /* "av/logging.pyx":181
  *         self.logs = []
  * 
  *         if local:             # <<<<<<<<<<<<<<
  *             self.captures = thread_captures.setdefault(get_ident(), [])
  *         else:
  */
   if (__pyx_v_local) {
 
-    /* "av/logging.pyx":192
+    /* "av/logging.pyx":182
  * 
  *         if local:
  *             self.captures = thread_captures.setdefault(get_ident(), [])             # <<<<<<<<<<<<<<
  *         else:
  *             self.captures = global_captures
  */
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_2av_7logging_thread_captures, __pyx_n_s_setdefault); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 192, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_v_2av_7logging_thread_captures, __pyx_n_s_setdefault); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 182, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_get_ident); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 192, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_get_ident); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 182, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_5 = NULL;
     __pyx_t_6 = 0;
     #if CYTHON_UNPACK_METHODS
     if (unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_5)) {
@@ -4756,19 +4631,19 @@
       }
     }
     #endif
     {
       PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
       __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 192, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 182, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     }
-    __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 192, __pyx_L1_error)
+    __pyx_t_4 = PyList_New(0); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 182, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_5 = NULL;
     __pyx_t_6 = 0;
     #if CYTHON_UNPACK_METHODS
     if (likely(PyMethod_Check(__pyx_t_2))) {
       __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_2);
       if (likely(__pyx_t_5)) {
@@ -4782,55 +4657,55 @@
     #endif
     {
       PyObject *__pyx_callargs[3] = {__pyx_t_5, __pyx_t_3, __pyx_t_4};
       __pyx_t_1 = __Pyx_PyObject_FastCall(__pyx_t_2, __pyx_callargs+1-__pyx_t_6, 2+__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
       __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 192, __pyx_L1_error)
+      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 182, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     }
-    if (!(likely(PyList_CheckExact(__pyx_t_1))||((__pyx_t_1) == Py_None) || __Pyx_RaiseUnexpectedTypeError("list", __pyx_t_1))) __PYX_ERR(0, 192, __pyx_L1_error)
+    if (!(likely(PyList_CheckExact(__pyx_t_1))||((__pyx_t_1) == Py_None) || __Pyx_RaiseUnexpectedTypeError("list", __pyx_t_1))) __PYX_ERR(0, 182, __pyx_L1_error)
     __Pyx_GIVEREF(__pyx_t_1);
     __Pyx_GOTREF(__pyx_v_self->captures);
     __Pyx_DECREF(__pyx_v_self->captures);
     __pyx_v_self->captures = ((PyObject*)__pyx_t_1);
     __pyx_t_1 = 0;
 
-    /* "av/logging.pyx":191
+    /* "av/logging.pyx":181
  *         self.logs = []
  * 
  *         if local:             # <<<<<<<<<<<<<<
  *             self.captures = thread_captures.setdefault(get_ident(), [])
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "av/logging.pyx":194
+  /* "av/logging.pyx":184
  *             self.captures = thread_captures.setdefault(get_ident(), [])
  *         else:
  *             self.captures = global_captures             # <<<<<<<<<<<<<<
  * 
  *     def __enter__(self):
  */
   /*else*/ {
-    if (!(likely(PyList_CheckExact(__pyx_v_2av_7logging_global_captures))||((__pyx_v_2av_7logging_global_captures) == Py_None) || __Pyx_RaiseUnexpectedTypeError("list", __pyx_v_2av_7logging_global_captures))) __PYX_ERR(0, 194, __pyx_L1_error)
+    if (!(likely(PyList_CheckExact(__pyx_v_2av_7logging_global_captures))||((__pyx_v_2av_7logging_global_captures) == Py_None) || __Pyx_RaiseUnexpectedTypeError("list", __pyx_v_2av_7logging_global_captures))) __PYX_ERR(0, 184, __pyx_L1_error)
     __pyx_t_1 = __pyx_v_2av_7logging_global_captures;
     __Pyx_INCREF(__pyx_t_1);
     __Pyx_GIVEREF(__pyx_t_1);
     __Pyx_GOTREF(__pyx_v_self->captures);
     __Pyx_DECREF(__pyx_v_self->captures);
     __pyx_v_self->captures = ((PyObject*)__pyx_t_1);
     __pyx_t_1 = 0;
   }
   __pyx_L3:;
 
-  /* "av/logging.pyx":188
+  /* "av/logging.pyx":178
  *     cdef list captures
  * 
  *     def __init__(self, bint local=True):             # <<<<<<<<<<<<<<
  *         self.logs = []
  * 
  */
 
@@ -4846,15 +4721,15 @@
   __Pyx_AddTraceback("av.logging.Capture.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":196
+/* "av/logging.pyx":186
  *             self.captures = global_captures
  * 
  *     def __enter__(self):             # <<<<<<<<<<<<<<
  *         self.captures.append(self.logs)
  *         return self.logs
  */
 
@@ -4906,43 +4781,43 @@
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__enter__", 1);
 
-  /* "av/logging.pyx":197
+  /* "av/logging.pyx":187
  * 
  *     def __enter__(self):
  *         self.captures.append(self.logs)             # <<<<<<<<<<<<<<
  *         return self.logs
  * 
  */
   if (unlikely(__pyx_v_self->captures == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "append");
-    __PYX_ERR(0, 197, __pyx_L1_error)
+    __PYX_ERR(0, 187, __pyx_L1_error)
   }
   __pyx_t_1 = __pyx_v_self->logs;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = __Pyx_PyList_Append(__pyx_v_self->captures, __pyx_t_1); if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 197, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyList_Append(__pyx_v_self->captures, __pyx_t_1); if (unlikely(__pyx_t_2 == ((int)-1))) __PYX_ERR(0, 187, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "av/logging.pyx":198
+  /* "av/logging.pyx":188
  *     def __enter__(self):
  *         self.captures.append(self.logs)
  *         return self.logs             # <<<<<<<<<<<<<<
  * 
  *     def __exit__(self, type_, value, traceback):
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_self->logs);
   __pyx_r = __pyx_v_self->logs;
   goto __pyx_L0;
 
-  /* "av/logging.pyx":196
+  /* "av/logging.pyx":186
  *             self.captures = global_captures
  * 
  *     def __enter__(self):             # <<<<<<<<<<<<<<
  *         self.captures.append(self.logs)
  *         return self.logs
  */
 
@@ -4953,15 +4828,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":200
+/* "av/logging.pyx":190
  *         return self.logs
  * 
  *     def __exit__(self, type_, value, traceback):             # <<<<<<<<<<<<<<
  *         self.captures.pop(-1)
  * 
  */
 
@@ -5021,55 +4896,55 @@
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_type)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 200, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 190, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_value)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[1]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 200, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 190, __pyx_L3_error)
         else {
-          __Pyx_RaiseArgtupleInvalid("__exit__", 1, 3, 3, 1); __PYX_ERR(0, 200, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__exit__", 1, 3, 3, 1); __PYX_ERR(0, 190, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_traceback)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[2]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 200, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 190, __pyx_L3_error)
         else {
-          __Pyx_RaiseArgtupleInvalid("__exit__", 1, 3, 3, 2); __PYX_ERR(0, 200, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__exit__", 1, 3, 3, 2); __PYX_ERR(0, 190, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__exit__") < 0)) __PYX_ERR(0, 200, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__exit__") < 0)) __PYX_ERR(0, 190, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 3)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
       values[1] = __Pyx_Arg_FASTCALL(__pyx_args, 1);
       values[2] = __Pyx_Arg_FASTCALL(__pyx_args, 2);
     }
     __pyx_v_type_ = values[0];
     __pyx_v_value = values[1];
     __pyx_v_traceback = values[2];
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__exit__", 1, 3, 3, __pyx_nargs); __PYX_ERR(0, 200, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__exit__", 1, 3, 3, __pyx_nargs); __PYX_ERR(0, 190, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
@@ -5097,30 +4972,30 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__exit__", 1);
 
-  /* "av/logging.pyx":201
+  /* "av/logging.pyx":191
  * 
  *     def __exit__(self, type_, value, traceback):
  *         self.captures.pop(-1)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   if (unlikely(__pyx_v_self->captures == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "pop");
-    __PYX_ERR(0, 201, __pyx_L1_error)
+    __PYX_ERR(0, 191, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyList_PopIndex(__pyx_v_self->captures, __pyx_int_neg_1, -1L, 1, Py_ssize_t, PyInt_FromSsize_t); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 201, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyList_PopIndex(__pyx_v_self->captures, __pyx_int_neg_1, -1L, 1, Py_ssize_t, PyInt_FromSsize_t); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 191, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "av/logging.pyx":200
+  /* "av/logging.pyx":190
  *         return self.logs
  * 
  *     def __exit__(self, type_, value, traceback):             # <<<<<<<<<<<<<<
  *         self.captures.pop(-1)
  * 
  */
 
@@ -5133,15 +5008,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":185
+/* "av/logging.pyx":175
  *     """
  * 
  *     cdef readonly list logs             # <<<<<<<<<<<<<<
  *     cdef list captures
  * 
  */
 
@@ -5587,67 +5462,67 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":208
+/* "av/logging.pyx":198
  *     const char *name
  * 
  * cdef const char *log_context_name(void *ptr) noexcept nogil:             # <<<<<<<<<<<<<<
  *     cdef log_context *obj = <log_context*>ptr
  *     return obj.name
  */
 
 static char const *__pyx_f_2av_7logging_log_context_name(void *__pyx_v_ptr) {
   struct __pyx_t_2av_7logging_log_context *__pyx_v_obj;
   char const *__pyx_r;
 
-  /* "av/logging.pyx":209
+  /* "av/logging.pyx":199
  * 
  * cdef const char *log_context_name(void *ptr) noexcept nogil:
  *     cdef log_context *obj = <log_context*>ptr             # <<<<<<<<<<<<<<
  *     return obj.name
  * 
  */
   __pyx_v_obj = ((struct __pyx_t_2av_7logging_log_context *)__pyx_v_ptr);
 
-  /* "av/logging.pyx":210
+  /* "av/logging.pyx":200
  * cdef const char *log_context_name(void *ptr) noexcept nogil:
  *     cdef log_context *obj = <log_context*>ptr
  *     return obj.name             # <<<<<<<<<<<<<<
  * 
  * cdef lib.AVClass log_class
  */
   __pyx_r = __pyx_v_obj->name;
   goto __pyx_L0;
 
-  /* "av/logging.pyx":208
+  /* "av/logging.pyx":198
  *     const char *name
  * 
  * cdef const char *log_context_name(void *ptr) noexcept nogil:             # <<<<<<<<<<<<<<
  *     cdef log_context *obj = <log_context*>ptr
  *     return obj.name
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
 }
 
-/* "av/logging.pyx":215
+/* "av/logging.pyx":205
  * log_class.item_name = log_context_name
  * 
  * cpdef log(int level, str name, str message):             # <<<<<<<<<<<<<<
  *     """Send a log through the library logging system.
  * 
  */
 
-static PyObject *__pyx_pw_2av_7logging_19log(PyObject *__pyx_self, 
+static PyObject *__pyx_pw_2av_7logging_15log(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
 static PyObject *__pyx_f_2av_7logging_log(int __pyx_v_level, PyObject *__pyx_v_name, PyObject *__pyx_v_message, CYTHON_UNUSED int __pyx_skip_dispatch) {
@@ -5657,62 +5532,62 @@
   char const *__pyx_t_1;
   char *__pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("log", 1);
 
-  /* "av/logging.pyx":222
+  /* "av/logging.pyx":212
  *     """
  * 
  *     cdef log_context *obj = <log_context*>malloc(sizeof(log_context))             # <<<<<<<<<<<<<<
  *     obj.class_ = &log_class
  *     obj.name = name
  */
   __pyx_v_obj = ((struct __pyx_t_2av_7logging_log_context *)malloc((sizeof(struct __pyx_t_2av_7logging_log_context))));
 
-  /* "av/logging.pyx":223
+  /* "av/logging.pyx":213
  * 
  *     cdef log_context *obj = <log_context*>malloc(sizeof(log_context))
  *     obj.class_ = &log_class             # <<<<<<<<<<<<<<
  *     obj.name = name
  *     lib.av_log(<void*>obj, level, "%s", message)
  */
   __pyx_v_obj->class_ = (&__pyx_v_2av_7logging_log_class);
 
-  /* "av/logging.pyx":224
+  /* "av/logging.pyx":214
  *     cdef log_context *obj = <log_context*>malloc(sizeof(log_context))
  *     obj.class_ = &log_class
  *     obj.name = name             # <<<<<<<<<<<<<<
  *     lib.av_log(<void*>obj, level, "%s", message)
  *     free(obj)
  */
-  __pyx_t_1 = __Pyx_PyObject_AsString(__pyx_v_name); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 224, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_AsString(__pyx_v_name); if (unlikely((!__pyx_t_1) && PyErr_Occurred())) __PYX_ERR(0, 214, __pyx_L1_error)
   __pyx_v_obj->name = __pyx_t_1;
 
-  /* "av/logging.pyx":225
+  /* "av/logging.pyx":215
  *     obj.class_ = &log_class
  *     obj.name = name
  *     lib.av_log(<void*>obj, level, "%s", message)             # <<<<<<<<<<<<<<
  *     free(obj)
  * 
  */
-  __pyx_t_2 = __Pyx_PyObject_AsWritableString(__pyx_v_message); if (unlikely((!__pyx_t_2) && PyErr_Occurred())) __PYX_ERR(0, 225, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_AsWritableString(__pyx_v_message); if (unlikely((!__pyx_t_2) && PyErr_Occurred())) __PYX_ERR(0, 215, __pyx_L1_error)
   av_log(((void *)__pyx_v_obj), __pyx_v_level, ((char const *)"%s"), __pyx_t_2);
 
-  /* "av/logging.pyx":226
+  /* "av/logging.pyx":216
  *     obj.name = name
  *     lib.av_log(<void*>obj, level, "%s", message)
  *     free(obj)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   free(__pyx_v_obj);
 
-  /* "av/logging.pyx":215
+  /* "av/logging.pyx":205
  * log_class.item_name = log_context_name
  * 
  * cpdef log(int level, str name, str message):             # <<<<<<<<<<<<<<
  *     """Send a log through the library logging system.
  * 
  */
 
@@ -5725,24 +5600,24 @@
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_19log(PyObject *__pyx_self, 
+static PyObject *__pyx_pw_2av_7logging_15log(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_18log, "log(int level, str name, str message)\nSend a log through the library logging system.\n\n    This is mostly for testing.\n\n    ");
-static PyMethodDef __pyx_mdef_2av_7logging_19log = {"log", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_19log, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_18log};
-static PyObject *__pyx_pw_2av_7logging_19log(PyObject *__pyx_self, 
+PyDoc_STRVAR(__pyx_doc_2av_7logging_14log, "log(int level, str name, str message)\nSend a log through the library logging system.\n\n    This is mostly for testing.\n\n    ");
+static PyMethodDef __pyx_mdef_2av_7logging_15log = {"log", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_15log, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_14log};
+static PyObject *__pyx_pw_2av_7logging_15log(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   int __pyx_v_level;
@@ -5784,71 +5659,71 @@
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_level)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 215, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 205, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_name)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[1]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 215, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 205, __pyx_L3_error)
         else {
-          __Pyx_RaiseArgtupleInvalid("log", 1, 3, 3, 1); __PYX_ERR(0, 215, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("log", 1, 3, 3, 1); __PYX_ERR(0, 205, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_message)) != 0)) {
           (void)__Pyx_Arg_NewRef_FASTCALL(values[2]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 215, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 205, __pyx_L3_error)
         else {
-          __Pyx_RaiseArgtupleInvalid("log", 1, 3, 3, 2); __PYX_ERR(0, 215, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("log", 1, 3, 3, 2); __PYX_ERR(0, 205, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "log") < 0)) __PYX_ERR(0, 215, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "log") < 0)) __PYX_ERR(0, 205, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 3)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
       values[1] = __Pyx_Arg_FASTCALL(__pyx_args, 1);
       values[2] = __Pyx_Arg_FASTCALL(__pyx_args, 2);
     }
-    __pyx_v_level = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_level == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 215, __pyx_L3_error)
+    __pyx_v_level = __Pyx_PyInt_As_int(values[0]); if (unlikely((__pyx_v_level == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 205, __pyx_L3_error)
     __pyx_v_name = ((PyObject*)values[1]);
     __pyx_v_message = ((PyObject*)values[2]);
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("log", 1, 3, 3, __pyx_nargs); __PYX_ERR(0, 215, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("log", 1, 3, 3, __pyx_nargs); __PYX_ERR(0, 205, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.logging.log", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_name), (&PyString_Type), 1, "name", 1))) __PYX_ERR(0, 215, __pyx_L1_error)
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), (&PyString_Type), 1, "message", 1))) __PYX_ERR(0, 215, __pyx_L1_error)
-  __pyx_r = __pyx_pf_2av_7logging_18log(__pyx_self, __pyx_v_level, __pyx_v_name, __pyx_v_message);
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_name), (&PyString_Type), 1, "name", 1))) __PYX_ERR(0, 205, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_message), (&PyString_Type), 1, "message", 1))) __PYX_ERR(0, 205, __pyx_L1_error)
+  __pyx_r = __pyx_pf_2av_7logging_14log(__pyx_self, __pyx_v_level, __pyx_v_name, __pyx_v_message);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
   {
@@ -5857,24 +5732,24 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_7logging_18log(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level, PyObject *__pyx_v_name, PyObject *__pyx_v_message) {
+static PyObject *__pyx_pf_2av_7logging_14log(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_level, PyObject *__pyx_v_name, PyObject *__pyx_v_message) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("log", 1);
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_7logging_log(__pyx_v_level, __pyx_v_name, __pyx_v_message, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 215, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_7logging_log(__pyx_v_level, __pyx_v_name, __pyx_v_message, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 205, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -5883,558 +5758,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":229
- * 
- * 
- * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:             # <<<<<<<<<<<<<<
- * 
- *     cdef bint inited = lib.Py_IsInitialized()
- */
-
-static void __pyx_f_2av_7logging_log_callback(void *__pyx_v_ptr, int __pyx_v_level, char const *__pyx_v_format, va_list __pyx_v_args) {
-  int __pyx_v_inited;
-  char __pyx_v_message[0x400];
-  char const *__pyx_v_name;
-  struct AVClass *__pyx_v_cls;
-  CYTHON_UNUSED PyObject *__pyx_v_e = NULL;
-  PyObject *__pyx_v_exc = NULL;
-  PyObject *__pyx_v_type_ = NULL;
-  PyObject *__pyx_v_tb = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  struct AVClass *__pyx_t_3;
-  PyObject *__pyx_t_4 = NULL;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  PyObject *__pyx_t_7 = NULL;
-  int __pyx_t_8;
-  PyObject *__pyx_t_9 = NULL;
-  PyObject *__pyx_t_10 = NULL;
-  PyObject *__pyx_t_11 = NULL;
-  PyObject *__pyx_t_12 = NULL;
-  PyObject *__pyx_t_13 = NULL;
-  PyObject *__pyx_t_14 = NULL;
-  PyObject *__pyx_t_15 = NULL;
-  PyObject *(*__pyx_t_16)(PyObject *);
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  #ifdef WITH_THREAD
-  PyGILState_STATE __pyx_gilstate_save;
-  #endif
-  __Pyx_RefNannySetupContext("log_callback", 1);
-
-  /* "av/logging.pyx":231
- * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
- * 
- *     cdef bint inited = lib.Py_IsInitialized()             # <<<<<<<<<<<<<<
- *     if not inited and not print_after_shutdown:
- *         return
- */
-  __pyx_v_inited = Py_IsInitialized();
-
-  /* "av/logging.pyx":232
- * 
- *     cdef bint inited = lib.Py_IsInitialized()
- *     if not inited and not print_after_shutdown:             # <<<<<<<<<<<<<<
- *         return
- * 
- */
-  __pyx_t_2 = (!__pyx_v_inited);
-  if (__pyx_t_2) {
-  } else {
-    __pyx_t_1 = __pyx_t_2;
-    goto __pyx_L4_bool_binop_done;
-  }
-  __pyx_t_2 = (!__pyx_v_2av_7logging_print_after_shutdown);
-  __pyx_t_1 = __pyx_t_2;
-  __pyx_L4_bool_binop_done:;
-  if (__pyx_t_1) {
-
-    /* "av/logging.pyx":233
- *     cdef bint inited = lib.Py_IsInitialized()
- *     if not inited and not print_after_shutdown:
- *         return             # <<<<<<<<<<<<<<
- * 
- *     # Fast path: avoid logging overhead. This should match the
- */
-    goto __pyx_L0;
-
-    /* "av/logging.pyx":232
- * 
- *     cdef bint inited = lib.Py_IsInitialized()
- *     if not inited and not print_after_shutdown:             # <<<<<<<<<<<<<<
- *         return
- * 
- */
-  }
-
-  /* "av/logging.pyx":237
- *     # Fast path: avoid logging overhead. This should match the
- *     # log_callback_gil() checks that result in ignoring the message.
- *     with gil:             # <<<<<<<<<<<<<<
- *         if level > level_threshold and level != lib.AV_LOG_ERROR:
- *             return
- */
-  {
-      #ifdef WITH_THREAD
-      PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-      #endif
-      /*try:*/ {
-
-        /* "av/logging.pyx":238
- *     # log_callback_gil() checks that result in ignoring the message.
- *     with gil:
- *         if level > level_threshold and level != lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
- *             return
- * 
- */
-        __pyx_t_2 = (__pyx_v_level > __pyx_v_2av_7logging_level_threshold);
-        if (__pyx_t_2) {
-        } else {
-          __pyx_t_1 = __pyx_t_2;
-          goto __pyx_L10_bool_binop_done;
-        }
-        __pyx_t_2 = (__pyx_v_level != AV_LOG_ERROR);
-        __pyx_t_1 = __pyx_t_2;
-        __pyx_L10_bool_binop_done:;
-        if (__pyx_t_1) {
-
-          /* "av/logging.pyx":239
- *     with gil:
- *         if level > level_threshold and level != lib.AV_LOG_ERROR:
- *             return             # <<<<<<<<<<<<<<
- * 
- *     # Format the message.
- */
-          goto __pyx_L6_return;
-
-          /* "av/logging.pyx":238
- *     # log_callback_gil() checks that result in ignoring the message.
- *     with gil:
- *         if level > level_threshold and level != lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
- *             return
- * 
- */
-        }
-      }
-
-      /* "av/logging.pyx":237
- *     # Fast path: avoid logging overhead. This should match the
- *     # log_callback_gil() checks that result in ignoring the message.
- *     with gil:             # <<<<<<<<<<<<<<
- *         if level > level_threshold and level != lib.AV_LOG_ERROR:
- *             return
- */
-      /*finally:*/ {
-        /*normal exit:*/{
-          #ifdef WITH_THREAD
-          __Pyx_PyGILState_Release(__pyx_gilstate_save);
-          #endif
-          goto __pyx_L8;
-        }
-        __pyx_L6_return: {
-          #ifdef WITH_THREAD
-          __Pyx_PyGILState_Release(__pyx_gilstate_save);
-          #endif
-          goto __pyx_L0;
-        }
-        __pyx_L8:;
-      }
-  }
-
-  /* "av/logging.pyx":243
- *     # Format the message.
- *     cdef char message[1024]
- *     lib.vsnprintf(message, 1023, format, args)             # <<<<<<<<<<<<<<
- * 
- *     # Get the name.
- */
-  (void)(vsnprintf(__pyx_v_message, 0x3FF, __pyx_v_format, __pyx_v_args));
-
-  /* "av/logging.pyx":246
- * 
- *     # Get the name.
- *     cdef const char *name = NULL             # <<<<<<<<<<<<<<
- *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
- *     if cls and cls.item_name:
- */
-  __pyx_v_name = NULL;
-
-  /* "av/logging.pyx":247
- *     # Get the name.
- *     cdef const char *name = NULL
- *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL             # <<<<<<<<<<<<<<
- *     if cls and cls.item_name:
- *         # I'm not 100% on this, but this should be static, and so
- */
-  __pyx_t_1 = (__pyx_v_ptr != 0);
-  if (__pyx_t_1) {
-    __pyx_t_3 = (((struct AVClass **)__pyx_v_ptr)[0]);
-  } else {
-    __pyx_t_3 = NULL;
-  }
-  __pyx_v_cls = __pyx_t_3;
-
-  /* "av/logging.pyx":248
- *     cdef const char *name = NULL
- *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
- *     if cls and cls.item_name:             # <<<<<<<<<<<<<<
- *         # I'm not 100% on this, but this should be static, and so
- *         # it doesn't matter if the AVClass that returned it vanishes or not.
- */
-  __pyx_t_2 = (__pyx_v_cls != 0);
-  if (__pyx_t_2) {
-  } else {
-    __pyx_t_1 = __pyx_t_2;
-    goto __pyx_L13_bool_binop_done;
-  }
-  __pyx_t_2 = (__pyx_v_cls->item_name != 0);
-  __pyx_t_1 = __pyx_t_2;
-  __pyx_L13_bool_binop_done:;
-  if (__pyx_t_1) {
-
-    /* "av/logging.pyx":251
- *         # I'm not 100% on this, but this should be static, and so
- *         # it doesn't matter if the AVClass that returned it vanishes or not.
- *         name = cls.item_name(ptr)             # <<<<<<<<<<<<<<
- * 
- *     if not inited:
- */
-    __pyx_v_name = __pyx_v_cls->item_name(__pyx_v_ptr);
-
-    /* "av/logging.pyx":248
- *     cdef const char *name = NULL
- *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
- *     if cls and cls.item_name:             # <<<<<<<<<<<<<<
- *         # I'm not 100% on this, but this should be static, and so
- *         # it doesn't matter if the AVClass that returned it vanishes or not.
- */
-  }
-
-  /* "av/logging.pyx":253
- *         name = cls.item_name(ptr)
- * 
- *     if not inited:             # <<<<<<<<<<<<<<
- *         fprintf(stderr, "av.logging (after shutdown): %s[%d]: %s\n",
- *                 name, level, message)
- */
-  __pyx_t_1 = (!__pyx_v_inited);
-  if (__pyx_t_1) {
-
-    /* "av/logging.pyx":254
- * 
- *     if not inited:
- *         fprintf(stderr, "av.logging (after shutdown): %s[%d]: %s\n",             # <<<<<<<<<<<<<<
- *                 name, level, message)
- *         return
- */
-    (void)(fprintf(stderr, ((char const *)"av.logging (after shutdown): %s[%d]: %s\n"), __pyx_v_name, __pyx_v_level, __pyx_v_message));
-
-    /* "av/logging.pyx":256
- *         fprintf(stderr, "av.logging (after shutdown): %s[%d]: %s\n",
- *                 name, level, message)
- *         return             # <<<<<<<<<<<<<<
- * 
- *     with gil:
- */
-    goto __pyx_L0;
-
-    /* "av/logging.pyx":253
- *         name = cls.item_name(ptr)
- * 
- *     if not inited:             # <<<<<<<<<<<<<<
- *         fprintf(stderr, "av.logging (after shutdown): %s[%d]: %s\n",
- *                 name, level, message)
- */
-  }
-
-  /* "av/logging.pyx":258
- *         return
- * 
- *     with gil:             # <<<<<<<<<<<<<<
- *         try:
- *             log_callback_gil(level, name, message)
- */
-  {
-      #ifdef WITH_THREAD
-      PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-      #endif
-      /*try:*/ {
-
-        /* "av/logging.pyx":259
- * 
- *     with gil:
- *         try:             # <<<<<<<<<<<<<<
- *             log_callback_gil(level, name, message)
- * 
- */
-        {
-          __Pyx_PyThreadState_declare
-          __Pyx_PyThreadState_assign
-          __Pyx_ExceptionSave(&__pyx_t_4, &__pyx_t_5, &__pyx_t_6);
-          __Pyx_XGOTREF(__pyx_t_4);
-          __Pyx_XGOTREF(__pyx_t_5);
-          __Pyx_XGOTREF(__pyx_t_6);
-          /*try:*/ {
-
-            /* "av/logging.pyx":260
- *     with gil:
- *         try:
- *             log_callback_gil(level, name, message)             # <<<<<<<<<<<<<<
- * 
- *         except Exception as e:
- */
-            __pyx_t_7 = __pyx_f_2av_7logging_log_callback_gil(__pyx_v_level, __pyx_v_name, __pyx_v_message); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 260, __pyx_L19_error)
-            __Pyx_GOTREF(__pyx_t_7);
-            __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-            /* "av/logging.pyx":259
- * 
- *     with gil:
- *         try:             # <<<<<<<<<<<<<<
- *             log_callback_gil(level, name, message)
- * 
- */
-          }
-          __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-          __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-          __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-          goto __pyx_L24_try_end;
-          __pyx_L19_error:;
-          __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-
-          /* "av/logging.pyx":262
- *             log_callback_gil(level, name, message)
- * 
- *         except Exception as e:             # <<<<<<<<<<<<<<
- *             fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",
- *                     name, level, message)
- */
-          __pyx_t_8 = __Pyx_PyErr_ExceptionMatches(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
-          if (__pyx_t_8) {
-            __Pyx_AddTraceback("av.logging.log_callback", __pyx_clineno, __pyx_lineno, __pyx_filename);
-            if (__Pyx_GetException(&__pyx_t_7, &__pyx_t_9, &__pyx_t_10) < 0) __PYX_ERR(0, 262, __pyx_L21_except_error)
-            __Pyx_XGOTREF(__pyx_t_7);
-            __Pyx_XGOTREF(__pyx_t_9);
-            __Pyx_XGOTREF(__pyx_t_10);
-            __Pyx_INCREF(__pyx_t_9);
-            __pyx_v_e = __pyx_t_9;
-
-            /* "av/logging.pyx":263
- * 
- *         except Exception as e:
- *             fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",             # <<<<<<<<<<<<<<
- *                     name, level, message)
- *             # For some reason lib.PyErr_PrintEx(0) won't work.
- */
-            (void)(fprintf(stderr, ((char const *)"av.logging: exception while handling %s[%d]: %s\n"), __pyx_v_name, __pyx_v_level, __pyx_v_message));
-
-            /* "av/logging.pyx":266
- *                     name, level, message)
- *             # For some reason lib.PyErr_PrintEx(0) won't work.
- *             exc, type_, tb = sys.exc_info()             # <<<<<<<<<<<<<<
- *             lib.PyErr_Display(exc, type_, tb)
- * 
- */
-            __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_sys); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-            __Pyx_GOTREF(__pyx_t_12);
-            __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-            __Pyx_GOTREF(__pyx_t_13);
-            __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
-            __pyx_t_12 = NULL;
-            __pyx_t_8 = 0;
-            #if CYTHON_UNPACK_METHODS
-            if (unlikely(PyMethod_Check(__pyx_t_13))) {
-              __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_13);
-              if (likely(__pyx_t_12)) {
-                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_13);
-                __Pyx_INCREF(__pyx_t_12);
-                __Pyx_INCREF(function);
-                __Pyx_DECREF_SET(__pyx_t_13, function);
-                __pyx_t_8 = 1;
-              }
-            }
-            #endif
-            {
-              PyObject *__pyx_callargs[2] = {__pyx_t_12, NULL};
-              __pyx_t_11 = __Pyx_PyObject_FastCall(__pyx_t_13, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
-              __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
-              if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __Pyx_GOTREF(__pyx_t_11);
-              __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-            }
-            if ((likely(PyTuple_CheckExact(__pyx_t_11))) || (PyList_CheckExact(__pyx_t_11))) {
-              PyObject* sequence = __pyx_t_11;
-              Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
-              if (unlikely(size != 3)) {
-                if (size > 3) __Pyx_RaiseTooManyValuesError(3);
-                else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-                __PYX_ERR(0, 266, __pyx_L21_except_error)
-              }
-              #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-              if (likely(PyTuple_CheckExact(sequence))) {
-                __pyx_t_13 = PyTuple_GET_ITEM(sequence, 0); 
-                __pyx_t_12 = PyTuple_GET_ITEM(sequence, 1); 
-                __pyx_t_14 = PyTuple_GET_ITEM(sequence, 2); 
-              } else {
-                __pyx_t_13 = PyList_GET_ITEM(sequence, 0); 
-                __pyx_t_12 = PyList_GET_ITEM(sequence, 1); 
-                __pyx_t_14 = PyList_GET_ITEM(sequence, 2); 
-              }
-              __Pyx_INCREF(__pyx_t_13);
-              __Pyx_INCREF(__pyx_t_12);
-              __Pyx_INCREF(__pyx_t_14);
-              #else
-              __pyx_t_13 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __Pyx_GOTREF(__pyx_t_13);
-              __pyx_t_12 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __Pyx_GOTREF(__pyx_t_12);
-              __pyx_t_14 = PySequence_ITEM(sequence, 2); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __Pyx_GOTREF(__pyx_t_14);
-              #endif
-              __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-            } else {
-              Py_ssize_t index = -1;
-              __pyx_t_15 = PyObject_GetIter(__pyx_t_11); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __Pyx_GOTREF(__pyx_t_15);
-              __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
-              __pyx_t_16 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_15);
-              index = 0; __pyx_t_13 = __pyx_t_16(__pyx_t_15); if (unlikely(!__pyx_t_13)) goto __pyx_L27_unpacking_failed;
-              __Pyx_GOTREF(__pyx_t_13);
-              index = 1; __pyx_t_12 = __pyx_t_16(__pyx_t_15); if (unlikely(!__pyx_t_12)) goto __pyx_L27_unpacking_failed;
-              __Pyx_GOTREF(__pyx_t_12);
-              index = 2; __pyx_t_14 = __pyx_t_16(__pyx_t_15); if (unlikely(!__pyx_t_14)) goto __pyx_L27_unpacking_failed;
-              __Pyx_GOTREF(__pyx_t_14);
-              if (__Pyx_IternextUnpackEndCheck(__pyx_t_16(__pyx_t_15), 3) < 0) __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __pyx_t_16 = NULL;
-              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
-              goto __pyx_L28_unpacking_done;
-              __pyx_L27_unpacking_failed:;
-              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
-              __pyx_t_16 = NULL;
-              if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-              __PYX_ERR(0, 266, __pyx_L21_except_error)
-              __pyx_L28_unpacking_done:;
-            }
-            __pyx_v_exc = __pyx_t_13;
-            __pyx_t_13 = 0;
-            __pyx_v_type_ = __pyx_t_12;
-            __pyx_t_12 = 0;
-            __pyx_v_tb = __pyx_t_14;
-            __pyx_t_14 = 0;
-
-            /* "av/logging.pyx":267
- *             # For some reason lib.PyErr_PrintEx(0) won't work.
- *             exc, type_, tb = sys.exc_info()
- *             lib.PyErr_Display(exc, type_, tb)             # <<<<<<<<<<<<<<
- * 
- * 
- */
-            PyErr_Display(__pyx_v_exc, __pyx_v_type_, __pyx_v_tb);
-            __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-            __Pyx_XDECREF(__pyx_t_9); __pyx_t_9 = 0;
-            __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-            goto __pyx_L20_exception_handled;
-          }
-          goto __pyx_L21_except_error;
-
-          /* "av/logging.pyx":259
- * 
- *     with gil:
- *         try:             # <<<<<<<<<<<<<<
- *             log_callback_gil(level, name, message)
- * 
- */
-          __pyx_L21_except_error:;
-          __Pyx_XGIVEREF(__pyx_t_4);
-          __Pyx_XGIVEREF(__pyx_t_5);
-          __Pyx_XGIVEREF(__pyx_t_6);
-          __Pyx_ExceptionReset(__pyx_t_4, __pyx_t_5, __pyx_t_6);
-          goto __pyx_L17_error;
-          __pyx_L20_exception_handled:;
-          __Pyx_XGIVEREF(__pyx_t_4);
-          __Pyx_XGIVEREF(__pyx_t_5);
-          __Pyx_XGIVEREF(__pyx_t_6);
-          __Pyx_ExceptionReset(__pyx_t_4, __pyx_t_5, __pyx_t_6);
-          __pyx_L24_try_end:;
-        }
-      }
-
-      /* "av/logging.pyx":258
- *         return
- * 
- *     with gil:             # <<<<<<<<<<<<<<
- *         try:
- *             log_callback_gil(level, name, message)
- */
-      /*finally:*/ {
-        /*normal exit:*/{
-          #ifdef WITH_THREAD
-          __Pyx_PyGILState_Release(__pyx_gilstate_save);
-          #endif
-          goto __pyx_L18;
-        }
-        __pyx_L17_error: {
-          #ifdef WITH_THREAD
-          __Pyx_PyGILState_Release(__pyx_gilstate_save);
-          #endif
-          goto __pyx_L1_error;
-        }
-        __pyx_L18:;
-      }
-  }
-
-  /* "av/logging.pyx":229
- * 
- * 
- * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:             # <<<<<<<<<<<<<<
- * 
- *     cdef bint inited = lib.Py_IsInitialized()
- */
-
-  /* function exit code */
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  #ifdef WITH_THREAD
-  __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-  #endif
-  __Pyx_XDECREF(__pyx_t_7);
-  __Pyx_XDECREF(__pyx_t_9);
-  __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_XDECREF(__pyx_t_11);
-  __Pyx_XDECREF(__pyx_t_12);
-  __Pyx_XDECREF(__pyx_t_13);
-  __Pyx_XDECREF(__pyx_t_14);
-  __Pyx_XDECREF(__pyx_t_15);
-  __Pyx_WriteUnraisable("av.logging.log_callback", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
-  #ifdef WITH_THREAD
-  __Pyx_PyGILState_Release(__pyx_gilstate_save);
-  #endif
-  __pyx_L0:;
-  #ifdef WITH_THREAD
-  __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
-  #endif
-  __Pyx_XDECREF(__pyx_v_e);
-  __Pyx_XDECREF(__pyx_v_exc);
-  __Pyx_XDECREF(__pyx_v_type_);
-  __Pyx_XDECREF(__pyx_v_tb);
-  __Pyx_RefNannyFinishContext();
-  #ifdef WITH_THREAD
-  __Pyx_PyGILState_Release(__pyx_gilstate_save);
-  #endif
-}
-
-/* "av/logging.pyx":270
+/* "av/logging.pyx":219
  * 
  * 
  * cdef log_callback_gil(int level, const char *c_name, const char *c_message):             # <<<<<<<<<<<<<<
  *     global error_count
  *     global skip_count
  */
 
@@ -6461,394 +5793,400 @@
   PyObject *__pyx_t_12 = NULL;
   PyObject *__pyx_t_13 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("log_callback_gil", 1);
 
-  /* "av/logging.pyx":276
+  /* "av/logging.pyx":225
  *     global last_error
  * 
  *     name = <str>c_name if c_name is not NULL else ""             # <<<<<<<<<<<<<<
  *     message = (<bytes>c_message).decode("utf8", "backslashreplace")
  *     log = (level, name, message)
  */
   __pyx_t_2 = (__pyx_v_c_name != NULL);
   if (__pyx_t_2) {
-    __pyx_t_3 = __Pyx_PyStr_FromString(__pyx_v_c_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 276, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyStr_FromString(__pyx_v_c_name); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 225, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_INCREF(((PyObject*)__pyx_t_3));
     __pyx_t_1 = __pyx_t_3;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   } else {
-    __Pyx_INCREF(__pyx_kp_s__3);
-    __pyx_t_1 = __pyx_kp_s__3;
+    __Pyx_INCREF(__pyx_kp_s__4);
+    __pyx_t_1 = __pyx_kp_s__4;
   }
   __pyx_v_name = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "av/logging.pyx":277
+  /* "av/logging.pyx":226
  * 
  *     name = <str>c_name if c_name is not NULL else ""
  *     message = (<bytes>c_message).decode("utf8", "backslashreplace")             # <<<<<<<<<<<<<<
  *     log = (level, name, message)
  * 
  */
-  __pyx_t_1 = __Pyx_PyBytes_FromString(__pyx_v_c_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 277, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyBytes_FromString(__pyx_v_c_message); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   if (unlikely(__pyx_t_1 == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "decode");
-    __PYX_ERR(0, 277, __pyx_L1_error)
+    __PYX_ERR(0, 226, __pyx_L1_error)
   }
-  __pyx_t_3 = __Pyx_decode_bytes(((PyObject*)__pyx_t_1), 0, PY_SSIZE_T_MAX, NULL, ((char const *)"backslashreplace"), PyUnicode_DecodeUTF8); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 277, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_decode_bytes(((PyObject*)__pyx_t_1), 0, PY_SSIZE_T_MAX, NULL, ((char const *)"backslashreplace"), PyUnicode_DecodeUTF8); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 226, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_v_message = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":278
+  /* "av/logging.pyx":227
  *     name = <str>c_name if c_name is not NULL else ""
  *     message = (<bytes>c_message).decode("utf8", "backslashreplace")
  *     log = (level, name, message)             # <<<<<<<<<<<<<<
  * 
  *     # We have to filter it ourselves, but we will still process it in general so
  */
-  __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_level); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 278, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_level); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 227, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 278, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 227, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_3);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3)) __PYX_ERR(0, 278, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_t_3)) __PYX_ERR(0, 227, __pyx_L1_error);
   __Pyx_INCREF(__pyx_v_name);
   __Pyx_GIVEREF(__pyx_v_name);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_name)) __PYX_ERR(0, 278, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_v_name)) __PYX_ERR(0, 227, __pyx_L1_error);
   __Pyx_INCREF(__pyx_v_message);
   __Pyx_GIVEREF(__pyx_v_message);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_message)) __PYX_ERR(0, 278, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_v_message)) __PYX_ERR(0, 227, __pyx_L1_error);
   __pyx_t_3 = 0;
   __pyx_v_log = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "av/logging.pyx":283
+  /* "av/logging.pyx":232
  *     # it is available to our error handling.
  *     # Note that FFmpeg's levels are backwards from Python's.
  *     cdef bint is_interesting = level <= level_threshold             # <<<<<<<<<<<<<<
  * 
  *     # Skip messages which are identical to the previous.
  */
-  __pyx_v_is_interesting = (__pyx_v_level <= __pyx_v_2av_7logging_level_threshold);
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_level); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 232, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_1);
+  __pyx_t_3 = PyObject_RichCompare(__pyx_t_1, __pyx_v_2av_7logging_level_threshold, Py_LE); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 232, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 232, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_v_is_interesting = __pyx_t_2;
 
-  /* "av/logging.pyx":287
+  /* "av/logging.pyx":236
  *     # Skip messages which are identical to the previous.
  *     # TODO: Be smarter about threads.
  *     cdef bint is_repeated = False             # <<<<<<<<<<<<<<
  * 
  *     cdef object repeat_log = None
  */
   __pyx_v_is_repeated = 0;
 
-  /* "av/logging.pyx":289
+  /* "av/logging.pyx":238
  *     cdef bint is_repeated = False
  * 
  *     cdef object repeat_log = None             # <<<<<<<<<<<<<<
  * 
  *     with skip_lock:
  */
   __Pyx_INCREF(Py_None);
   __pyx_v_repeat_log = Py_None;
 
-  /* "av/logging.pyx":291
+  /* "av/logging.pyx":240
  *     cdef object repeat_log = None
  * 
  *     with skip_lock:             # <<<<<<<<<<<<<<
  *         if is_interesting:
  *             is_repeated = skip_repeated and last_log == log
  */
   /*with:*/ {
-    __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_exit); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 291, __pyx_L1_error)
+    __pyx_t_4 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_exit); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 240, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_3 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_enter); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 291, __pyx_L3_error)
-    __Pyx_GOTREF(__pyx_t_3);
+    __pyx_t_1 = __Pyx_PyObject_LookupSpecial(__pyx_v_2av_7logging_skip_lock, __pyx_n_s_enter); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 240, __pyx_L3_error)
+    __Pyx_GOTREF(__pyx_t_1);
     __pyx_t_5 = NULL;
     __pyx_t_6 = 0;
     #if CYTHON_UNPACK_METHODS
-    if (likely(PyMethod_Check(__pyx_t_3))) {
-      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_3);
+    if (likely(PyMethod_Check(__pyx_t_1))) {
+      __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_1);
       if (likely(__pyx_t_5)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_3);
+        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_1);
         __Pyx_INCREF(__pyx_t_5);
         __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_3, function);
+        __Pyx_DECREF_SET(__pyx_t_1, function);
         __pyx_t_6 = 1;
       }
     }
     #endif
     {
       PyObject *__pyx_callargs[2] = {__pyx_t_5, NULL};
-      __pyx_t_1 = __Pyx_PyObject_FastCall(__pyx_t_3, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
+      __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_1, __pyx_callargs+1-__pyx_t_6, 0+__pyx_t_6);
       __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 291, __pyx_L3_error)
-      __Pyx_GOTREF(__pyx_t_1);
-      __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 240, __pyx_L3_error)
+      __Pyx_GOTREF(__pyx_t_3);
+      __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
     }
-    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     /*try:*/ {
       {
         __Pyx_PyThreadState_declare
         __Pyx_PyThreadState_assign
         __Pyx_ExceptionSave(&__pyx_t_7, &__pyx_t_8, &__pyx_t_9);
         __Pyx_XGOTREF(__pyx_t_7);
         __Pyx_XGOTREF(__pyx_t_8);
         __Pyx_XGOTREF(__pyx_t_9);
         /*try:*/ {
 
-          /* "av/logging.pyx":292
+          /* "av/logging.pyx":241
  * 
  *     with skip_lock:
  *         if is_interesting:             # <<<<<<<<<<<<<<
  *             is_repeated = skip_repeated and last_log == log
  * 
  */
           if (__pyx_v_is_interesting) {
 
-            /* "av/logging.pyx":293
+            /* "av/logging.pyx":242
  *     with skip_lock:
  *         if is_interesting:
  *             is_repeated = skip_repeated and last_log == log             # <<<<<<<<<<<<<<
  * 
  *             if is_repeated:
  */
             if (__pyx_v_2av_7logging_skip_repeated) {
             } else {
               __pyx_t_2 = __pyx_v_2av_7logging_skip_repeated;
               goto __pyx_L14_bool_binop_done;
             }
-            __pyx_t_1 = PyObject_RichCompare(__pyx_v_2av_7logging_last_log, __pyx_v_log, Py_EQ); __Pyx_XGOTREF(__pyx_t_1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 293, __pyx_L7_error)
-            __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_1); if (unlikely((__pyx_t_10 < 0))) __PYX_ERR(0, 293, __pyx_L7_error)
-            __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+            __pyx_t_3 = PyObject_RichCompare(__pyx_v_2av_7logging_last_log, __pyx_v_log, Py_EQ); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 242, __pyx_L7_error)
+            __pyx_t_10 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely((__pyx_t_10 < 0))) __PYX_ERR(0, 242, __pyx_L7_error)
+            __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
             __pyx_t_2 = __pyx_t_10;
             __pyx_L14_bool_binop_done:;
             __pyx_v_is_repeated = __pyx_t_2;
 
-            /* "av/logging.pyx":295
+            /* "av/logging.pyx":244
  *             is_repeated = skip_repeated and last_log == log
  * 
  *             if is_repeated:             # <<<<<<<<<<<<<<
  *                 skip_count += 1
  * 
  */
             if (__pyx_v_is_repeated) {
 
-              /* "av/logging.pyx":296
+              /* "av/logging.pyx":245
  * 
  *             if is_repeated:
  *                 skip_count += 1             # <<<<<<<<<<<<<<
  * 
  *             elif skip_count:
  */
               __pyx_v_2av_7logging_skip_count = (__pyx_v_2av_7logging_skip_count + 1);
 
-              /* "av/logging.pyx":295
+              /* "av/logging.pyx":244
  *             is_repeated = skip_repeated and last_log == log
  * 
  *             if is_repeated:             # <<<<<<<<<<<<<<
  *                 skip_count += 1
  * 
  */
               goto __pyx_L16;
             }
 
-            /* "av/logging.pyx":298
+            /* "av/logging.pyx":247
  *                 skip_count += 1
  * 
  *             elif skip_count:             # <<<<<<<<<<<<<<
  *                 # Now that we have hit the end of the repeat cycle, tally up how many.
  *                 if skip_count == 1:
  */
             __pyx_t_2 = (__pyx_v_2av_7logging_skip_count != 0);
             if (__pyx_t_2) {
 
-              /* "av/logging.pyx":300
+              /* "av/logging.pyx":249
  *             elif skip_count:
  *                 # Now that we have hit the end of the repeat cycle, tally up how many.
  *                 if skip_count == 1:             # <<<<<<<<<<<<<<
  *                     repeat_log = last_log
  *                 else:
  */
               __pyx_t_2 = (__pyx_v_2av_7logging_skip_count == 1);
               if (__pyx_t_2) {
 
-                /* "av/logging.pyx":301
+                /* "av/logging.pyx":250
  *                 # Now that we have hit the end of the repeat cycle, tally up how many.
  *                 if skip_count == 1:
  *                     repeat_log = last_log             # <<<<<<<<<<<<<<
  *                 else:
  *                     repeat_log = (
  */
                 __Pyx_INCREF(__pyx_v_2av_7logging_last_log);
                 __Pyx_DECREF_SET(__pyx_v_repeat_log, __pyx_v_2av_7logging_last_log);
 
-                /* "av/logging.pyx":300
+                /* "av/logging.pyx":249
  *             elif skip_count:
  *                 # Now that we have hit the end of the repeat cycle, tally up how many.
  *                 if skip_count == 1:             # <<<<<<<<<<<<<<
  *                     repeat_log = last_log
  *                 else:
  */
                 goto __pyx_L17;
               }
 
-              /* "av/logging.pyx":304
+              /* "av/logging.pyx":253
  *                 else:
  *                     repeat_log = (
  *                         last_log[0],             # <<<<<<<<<<<<<<
  *                         last_log[1],
  *                         "%s (repeated %d more times)" % (last_log[2], skip_count)
  */
               /*else*/ {
-                __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_2av_7logging_last_log, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 304, __pyx_L7_error)
-                __Pyx_GOTREF(__pyx_t_1);
+                __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_2av_7logging_last_log, 0, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 253, __pyx_L7_error)
+                __Pyx_GOTREF(__pyx_t_3);
 
-                /* "av/logging.pyx":305
+                /* "av/logging.pyx":254
  *                     repeat_log = (
  *                         last_log[0],
  *                         last_log[1],             # <<<<<<<<<<<<<<
  *                         "%s (repeated %d more times)" % (last_log[2], skip_count)
  *                     )
  */
-                __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_2av_7logging_last_log, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 305, __pyx_L7_error)
-                __Pyx_GOTREF(__pyx_t_3);
+                __pyx_t_1 = __Pyx_GetItemInt(__pyx_v_2av_7logging_last_log, 1, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 254, __pyx_L7_error)
+                __Pyx_GOTREF(__pyx_t_1);
 
-                /* "av/logging.pyx":306
+                /* "av/logging.pyx":255
  *                         last_log[0],
  *                         last_log[1],
  *                         "%s (repeated %d more times)" % (last_log[2], skip_count)             # <<<<<<<<<<<<<<
  *                     )
  *                 skip_count = 0
  */
-                __pyx_t_5 = __Pyx_GetItemInt(__pyx_v_2av_7logging_last_log, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 306, __pyx_L7_error)
+                __pyx_t_5 = __Pyx_GetItemInt(__pyx_v_2av_7logging_last_log, 2, long, 1, __Pyx_PyInt_From_long, 0, 0, 1); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 255, __pyx_L7_error)
                 __Pyx_GOTREF(__pyx_t_5);
-                __pyx_t_11 = __Pyx_PyInt_From_int(__pyx_v_2av_7logging_skip_count); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 306, __pyx_L7_error)
+                __pyx_t_11 = __Pyx_PyInt_From_int(__pyx_v_2av_7logging_skip_count); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 255, __pyx_L7_error)
                 __Pyx_GOTREF(__pyx_t_11);
-                __pyx_t_12 = PyTuple_New(2); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 306, __pyx_L7_error)
+                __pyx_t_12 = PyTuple_New(2); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 255, __pyx_L7_error)
                 __Pyx_GOTREF(__pyx_t_12);
                 __Pyx_GIVEREF(__pyx_t_5);
-                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_5)) __PYX_ERR(0, 306, __pyx_L7_error);
+                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_5)) __PYX_ERR(0, 255, __pyx_L7_error);
                 __Pyx_GIVEREF(__pyx_t_11);
-                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 1, __pyx_t_11)) __PYX_ERR(0, 306, __pyx_L7_error);
+                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 1, __pyx_t_11)) __PYX_ERR(0, 255, __pyx_L7_error);
                 __pyx_t_5 = 0;
                 __pyx_t_11 = 0;
-                __pyx_t_11 = __Pyx_PyString_Format(__pyx_kp_s_s_repeated_d_more_times, __pyx_t_12); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 306, __pyx_L7_error)
+                __pyx_t_11 = __Pyx_PyString_Format(__pyx_kp_s_s_repeated_d_more_times, __pyx_t_12); if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 255, __pyx_L7_error)
                 __Pyx_GOTREF(__pyx_t_11);
                 __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
 
-                /* "av/logging.pyx":304
+                /* "av/logging.pyx":253
  *                 else:
  *                     repeat_log = (
  *                         last_log[0],             # <<<<<<<<<<<<<<
  *                         last_log[1],
  *                         "%s (repeated %d more times)" % (last_log[2], skip_count)
  */
-                __pyx_t_12 = PyTuple_New(3); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 304, __pyx_L7_error)
+                __pyx_t_12 = PyTuple_New(3); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 253, __pyx_L7_error)
                 __Pyx_GOTREF(__pyx_t_12);
-                __Pyx_GIVEREF(__pyx_t_1);
-                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_1)) __PYX_ERR(0, 304, __pyx_L7_error);
                 __Pyx_GIVEREF(__pyx_t_3);
-                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 1, __pyx_t_3)) __PYX_ERR(0, 304, __pyx_L7_error);
+                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 0, __pyx_t_3)) __PYX_ERR(0, 253, __pyx_L7_error);
+                __Pyx_GIVEREF(__pyx_t_1);
+                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 1, __pyx_t_1)) __PYX_ERR(0, 253, __pyx_L7_error);
                 __Pyx_GIVEREF(__pyx_t_11);
-                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 2, __pyx_t_11)) __PYX_ERR(0, 304, __pyx_L7_error);
-                __pyx_t_1 = 0;
+                if (__Pyx_PyTuple_SET_ITEM(__pyx_t_12, 2, __pyx_t_11)) __PYX_ERR(0, 253, __pyx_L7_error);
                 __pyx_t_3 = 0;
+                __pyx_t_1 = 0;
                 __pyx_t_11 = 0;
                 __Pyx_DECREF_SET(__pyx_v_repeat_log, __pyx_t_12);
                 __pyx_t_12 = 0;
               }
               __pyx_L17:;
 
-              /* "av/logging.pyx":308
+              /* "av/logging.pyx":257
  *                         "%s (repeated %d more times)" % (last_log[2], skip_count)
  *                     )
  *                 skip_count = 0             # <<<<<<<<<<<<<<
  * 
  *             last_log = log
  */
               __pyx_v_2av_7logging_skip_count = 0;
 
-              /* "av/logging.pyx":298
+              /* "av/logging.pyx":247
  *                 skip_count += 1
  * 
  *             elif skip_count:             # <<<<<<<<<<<<<<
  *                 # Now that we have hit the end of the repeat cycle, tally up how many.
  *                 if skip_count == 1:
  */
             }
             __pyx_L16:;
 
-            /* "av/logging.pyx":310
+            /* "av/logging.pyx":259
  *                 skip_count = 0
  * 
  *             last_log = log             # <<<<<<<<<<<<<<
  * 
  *         # Hold onto errors for err_check.
  */
             __Pyx_INCREF(__pyx_v_log);
             __Pyx_XGOTREF(__pyx_v_2av_7logging_last_log);
             __Pyx_DECREF_SET(__pyx_v_2av_7logging_last_log, __pyx_v_log);
             __Pyx_GIVEREF(__pyx_v_log);
 
-            /* "av/logging.pyx":292
+            /* "av/logging.pyx":241
  * 
  *     with skip_lock:
  *         if is_interesting:             # <<<<<<<<<<<<<<
  *             is_repeated = skip_repeated and last_log == log
  * 
  */
           }
 
-          /* "av/logging.pyx":313
+          /* "av/logging.pyx":262
  * 
  *         # Hold onto errors for err_check.
  *         if level == lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
  *             error_count += 1
  *             last_error = log
  */
           __pyx_t_2 = (__pyx_v_level == AV_LOG_ERROR);
           if (__pyx_t_2) {
 
-            /* "av/logging.pyx":314
+            /* "av/logging.pyx":263
  *         # Hold onto errors for err_check.
  *         if level == lib.AV_LOG_ERROR:
  *             error_count += 1             # <<<<<<<<<<<<<<
  *             last_error = log
  * 
  */
             __pyx_v_2av_7logging_error_count = (__pyx_v_2av_7logging_error_count + 1);
 
-            /* "av/logging.pyx":315
+            /* "av/logging.pyx":264
  *         if level == lib.AV_LOG_ERROR:
  *             error_count += 1
  *             last_error = log             # <<<<<<<<<<<<<<
  * 
  *     if repeat_log is not None:
  */
             __Pyx_INCREF(__pyx_v_log);
             __Pyx_XGOTREF(__pyx_v_2av_7logging_last_error);
             __Pyx_DECREF_SET(__pyx_v_2av_7logging_last_error, __pyx_v_log);
             __Pyx_GIVEREF(__pyx_v_log);
 
-            /* "av/logging.pyx":313
+            /* "av/logging.pyx":262
  * 
  *         # Hold onto errors for err_check.
  *         if level == lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
  *             error_count += 1
  *             last_error = log
  */
           }
 
-          /* "av/logging.pyx":291
+          /* "av/logging.pyx":240
  *     cdef object repeat_log = None
  * 
  *     with skip_lock:             # <<<<<<<<<<<<<<
  *         if is_interesting:
  *             is_repeated = skip_repeated and last_log == log
  */
         }
@@ -6860,40 +6198,40 @@
         __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
         __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
         __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
         __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
         __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
         /*except:*/ {
           __Pyx_AddTraceback("av.logging.log_callback_gil", __pyx_clineno, __pyx_lineno, __pyx_filename);
-          if (__Pyx_GetException(&__pyx_t_12, &__pyx_t_11, &__pyx_t_3) < 0) __PYX_ERR(0, 291, __pyx_L9_except_error)
+          if (__Pyx_GetException(&__pyx_t_12, &__pyx_t_11, &__pyx_t_1) < 0) __PYX_ERR(0, 240, __pyx_L9_except_error)
           __Pyx_XGOTREF(__pyx_t_12);
           __Pyx_XGOTREF(__pyx_t_11);
-          __Pyx_XGOTREF(__pyx_t_3);
-          __pyx_t_1 = PyTuple_Pack(3, __pyx_t_12, __pyx_t_11, __pyx_t_3); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 291, __pyx_L9_except_error)
-          __Pyx_GOTREF(__pyx_t_1);
-          __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_1, NULL);
+          __Pyx_XGOTREF(__pyx_t_1);
+          __pyx_t_3 = PyTuple_Pack(3, __pyx_t_12, __pyx_t_11, __pyx_t_1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 240, __pyx_L9_except_error)
+          __Pyx_GOTREF(__pyx_t_3);
+          __pyx_t_13 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_t_3, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-          if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 291, __pyx_L9_except_error)
+          __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+          if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 240, __pyx_L9_except_error)
           __Pyx_GOTREF(__pyx_t_13);
           __pyx_t_2 = __Pyx_PyObject_IsTrue(__pyx_t_13);
           __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
-          if (__pyx_t_2 < 0) __PYX_ERR(0, 291, __pyx_L9_except_error)
+          if (__pyx_t_2 < 0) __PYX_ERR(0, 240, __pyx_L9_except_error)
           __pyx_t_10 = (!__pyx_t_2);
           if (unlikely(__pyx_t_10)) {
             __Pyx_GIVEREF(__pyx_t_12);
             __Pyx_GIVEREF(__pyx_t_11);
-            __Pyx_XGIVEREF(__pyx_t_3);
-            __Pyx_ErrRestoreWithState(__pyx_t_12, __pyx_t_11, __pyx_t_3);
-            __pyx_t_12 = 0; __pyx_t_11 = 0; __pyx_t_3 = 0; 
-            __PYX_ERR(0, 291, __pyx_L9_except_error)
+            __Pyx_XGIVEREF(__pyx_t_1);
+            __Pyx_ErrRestoreWithState(__pyx_t_12, __pyx_t_11, __pyx_t_1);
+            __pyx_t_12 = 0; __pyx_t_11 = 0; __pyx_t_1 = 0; 
+            __PYX_ERR(0, 240, __pyx_L9_except_error)
           }
           __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
           __Pyx_XDECREF(__pyx_t_11); __pyx_t_11 = 0;
-          __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+          __Pyx_XDECREF(__pyx_t_1); __pyx_t_1 = 0;
           goto __pyx_L8_exception_handled;
         }
         __pyx_L9_except_error:;
         __Pyx_XGIVEREF(__pyx_t_7);
         __Pyx_XGIVEREF(__pyx_t_8);
         __Pyx_XGIVEREF(__pyx_t_9);
         __Pyx_ExceptionReset(__pyx_t_7, __pyx_t_8, __pyx_t_9);
@@ -6905,62 +6243,62 @@
         __Pyx_ExceptionReset(__pyx_t_7, __pyx_t_8, __pyx_t_9);
         __pyx_L12_try_end:;
       }
     }
     /*finally:*/ {
       /*normal exit:*/{
         if (__pyx_t_4) {
-          __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple_, NULL);
+          __pyx_t_9 = __Pyx_PyObject_Call(__pyx_t_4, __pyx_tuple__2, NULL);
           __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 291, __pyx_L1_error)
+          if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 240, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_9);
           __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
         }
         goto __pyx_L6;
       }
       __pyx_L6:;
     }
     goto __pyx_L22;
     __pyx_L3_error:;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     goto __pyx_L1_error;
     __pyx_L22:;
   }
 
-  /* "av/logging.pyx":317
+  /* "av/logging.pyx":266
  *             last_error = log
  * 
  *     if repeat_log is not None:             # <<<<<<<<<<<<<<
  *         log_callback_emit(repeat_log)
  * 
  */
   __pyx_t_10 = (__pyx_v_repeat_log != Py_None);
   if (__pyx_t_10) {
 
-    /* "av/logging.pyx":318
+    /* "av/logging.pyx":267
  * 
  *     if repeat_log is not None:
  *         log_callback_emit(repeat_log)             # <<<<<<<<<<<<<<
  * 
  *     if is_interesting and not is_repeated:
  */
-    __pyx_t_3 = __pyx_f_2av_7logging_log_callback_emit(__pyx_v_repeat_log); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 318, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_t_1 = __pyx_f_2av_7logging_log_callback_emit(__pyx_v_repeat_log); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 267, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "av/logging.pyx":317
+    /* "av/logging.pyx":266
  *             last_error = log
  * 
  *     if repeat_log is not None:             # <<<<<<<<<<<<<<
  *         log_callback_emit(repeat_log)
  * 
  */
   }
 
-  /* "av/logging.pyx":320
+  /* "av/logging.pyx":269
  *         log_callback_emit(repeat_log)
  * 
  *     if is_interesting and not is_repeated:             # <<<<<<<<<<<<<<
  *         log_callback_emit(log)
  * 
  */
   if (__pyx_v_is_interesting) {
@@ -6969,35 +6307,35 @@
     goto __pyx_L25_bool_binop_done;
   }
   __pyx_t_2 = (!__pyx_v_is_repeated);
   __pyx_t_10 = __pyx_t_2;
   __pyx_L25_bool_binop_done:;
   if (__pyx_t_10) {
 
-    /* "av/logging.pyx":321
+    /* "av/logging.pyx":270
  * 
  *     if is_interesting and not is_repeated:
  *         log_callback_emit(log)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __pyx_t_3 = __pyx_f_2av_7logging_log_callback_emit(__pyx_v_log); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 321, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+    __pyx_t_1 = __pyx_f_2av_7logging_log_callback_emit(__pyx_v_log); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 270, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-    /* "av/logging.pyx":320
+    /* "av/logging.pyx":269
  *         log_callback_emit(repeat_log)
  * 
  *     if is_interesting and not is_repeated:             # <<<<<<<<<<<<<<
  *         log_callback_emit(log)
  * 
  */
   }
 
-  /* "av/logging.pyx":270
+  /* "av/logging.pyx":219
  * 
  * 
  * cdef log_callback_gil(int level, const char *c_name, const char *c_message):             # <<<<<<<<<<<<<<
  *     global error_count
  *     global skip_count
  */
 
@@ -7018,15 +6356,15 @@
   __Pyx_XDECREF(__pyx_v_log);
   __Pyx_XDECREF(__pyx_v_repeat_log);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/logging.pyx":324
+/* "av/logging.pyx":273
  * 
  * 
  * cdef log_callback_emit(log):             # <<<<<<<<<<<<<<
  *     lib_level, name, message = log
  * 
  */
 
@@ -7051,28 +6389,28 @@
   int __pyx_t_9;
   int __pyx_t_10;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("log_callback_emit", 1);
 
-  /* "av/logging.pyx":325
+  /* "av/logging.pyx":274
  * 
  * cdef log_callback_emit(log):
  *     lib_level, name, message = log             # <<<<<<<<<<<<<<
  * 
  *     captures = thread_captures.get(get_ident()) or global_captures
  */
   if ((likely(PyTuple_CheckExact(__pyx_v_log))) || (PyList_CheckExact(__pyx_v_log))) {
     PyObject* sequence = __pyx_v_log;
     Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
     if (unlikely(size != 3)) {
       if (size > 3) __Pyx_RaiseTooManyValuesError(3);
       else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
-      __PYX_ERR(0, 325, __pyx_L1_error)
+      __PYX_ERR(0, 274, __pyx_L1_error)
     }
     #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
     if (likely(PyTuple_CheckExact(sequence))) {
       __pyx_t_1 = PyTuple_GET_ITEM(sequence, 0); 
       __pyx_t_2 = PyTuple_GET_ITEM(sequence, 1); 
       __pyx_t_3 = PyTuple_GET_ITEM(sequence, 2); 
     } else {
@@ -7080,60 +6418,60 @@
       __pyx_t_2 = PyList_GET_ITEM(sequence, 1); 
       __pyx_t_3 = PyList_GET_ITEM(sequence, 2); 
     }
     __Pyx_INCREF(__pyx_t_1);
     __Pyx_INCREF(__pyx_t_2);
     __Pyx_INCREF(__pyx_t_3);
     #else
-    __pyx_t_1 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 325, __pyx_L1_error)
+    __pyx_t_1 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 274, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 325, __pyx_L1_error)
+    __pyx_t_2 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 274, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = PySequence_ITEM(sequence, 2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 325, __pyx_L1_error)
+    __pyx_t_3 = PySequence_ITEM(sequence, 2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 274, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     #endif
   } else {
     Py_ssize_t index = -1;
-    __pyx_t_4 = PyObject_GetIter(__pyx_v_log); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 325, __pyx_L1_error)
+    __pyx_t_4 = PyObject_GetIter(__pyx_v_log); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 274, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __pyx_t_5 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_4);
     index = 0; __pyx_t_1 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_1)) goto __pyx_L3_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_1);
     index = 1; __pyx_t_2 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_2)) goto __pyx_L3_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_2);
     index = 2; __pyx_t_3 = __pyx_t_5(__pyx_t_4); if (unlikely(!__pyx_t_3)) goto __pyx_L3_unpacking_failed;
     __Pyx_GOTREF(__pyx_t_3);
-    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_4), 3) < 0) __PYX_ERR(0, 325, __pyx_L1_error)
+    if (__Pyx_IternextUnpackEndCheck(__pyx_t_5(__pyx_t_4), 3) < 0) __PYX_ERR(0, 274, __pyx_L1_error)
     __pyx_t_5 = NULL;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     goto __pyx_L4_unpacking_done;
     __pyx_L3_unpacking_failed:;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_t_5 = NULL;
     if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
-    __PYX_ERR(0, 325, __pyx_L1_error)
+    __PYX_ERR(0, 274, __pyx_L1_error)
     __pyx_L4_unpacking_done:;
   }
   __pyx_v_lib_level = __pyx_t_1;
   __pyx_t_1 = 0;
   __pyx_v_name = __pyx_t_2;
   __pyx_t_2 = 0;
   __pyx_v_message = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":327
+  /* "av/logging.pyx":276
  *     lib_level, name, message = log
  * 
  *     captures = thread_captures.get(get_ident()) or global_captures             # <<<<<<<<<<<<<<
  *     if captures:
  *         captures[-1].append(log)
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_2av_7logging_thread_captures, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 327, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_2av_7logging_thread_captures, __pyx_n_s_get); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 276, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_get_ident); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 327, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_6, __pyx_n_s_get_ident); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 276, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __pyx_t_7 = NULL;
   __pyx_t_8 = 0;
   #if CYTHON_UNPACK_METHODS
   if (unlikely(PyMethod_Check(__pyx_t_6))) {
     __pyx_t_7 = PyMethod_GET_SELF(__pyx_t_6);
     if (likely(__pyx_t_7)) {
@@ -7145,15 +6483,15 @@
     }
   }
   #endif
   {
     PyObject *__pyx_callargs[2] = {__pyx_t_7, NULL};
     __pyx_t_4 = __Pyx_PyObject_FastCall(__pyx_t_6, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
     __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
-    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 327, __pyx_L1_error)
+    if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 276, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
   }
   __pyx_t_6 = NULL;
   __pyx_t_8 = 0;
   #if CYTHON_UNPACK_METHODS
   if (likely(PyMethod_Check(__pyx_t_1))) {
@@ -7168,118 +6506,118 @@
   }
   #endif
   {
     PyObject *__pyx_callargs[2] = {__pyx_t_6, __pyx_t_4};
     __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 327, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 276, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   }
-  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_9 < 0))) __PYX_ERR(0, 327, __pyx_L1_error)
+  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_9 < 0))) __PYX_ERR(0, 276, __pyx_L1_error)
   if (!__pyx_t_9) {
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   } else {
     __Pyx_INCREF(__pyx_t_2);
     __pyx_t_3 = __pyx_t_2;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     goto __pyx_L5_bool_binop_done;
   }
   __Pyx_INCREF(__pyx_v_2av_7logging_global_captures);
   __pyx_t_3 = __pyx_v_2av_7logging_global_captures;
   __pyx_L5_bool_binop_done:;
   __pyx_v_captures = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":328
+  /* "av/logging.pyx":277
  * 
  *     captures = thread_captures.get(get_ident()) or global_captures
  *     if captures:             # <<<<<<<<<<<<<<
  *         captures[-1].append(log)
  *         return
  */
-  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_captures); if (unlikely((__pyx_t_9 < 0))) __PYX_ERR(0, 328, __pyx_L1_error)
+  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_captures); if (unlikely((__pyx_t_9 < 0))) __PYX_ERR(0, 277, __pyx_L1_error)
   if (__pyx_t_9) {
 
-    /* "av/logging.pyx":329
+    /* "av/logging.pyx":278
  *     captures = thread_captures.get(get_ident()) or global_captures
  *     if captures:
  *         captures[-1].append(log)             # <<<<<<<<<<<<<<
  *         return
  * 
  */
-    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_captures, -1L, long, 1, __Pyx_PyInt_From_long, 0, 1, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 329, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_GetItemInt(__pyx_v_captures, -1L, long, 1, __Pyx_PyInt_From_long, 0, 1, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 278, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_10 = __Pyx_PyObject_Append(__pyx_t_3, __pyx_v_log); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(0, 329, __pyx_L1_error)
+    __pyx_t_10 = __Pyx_PyObject_Append(__pyx_t_3, __pyx_v_log); if (unlikely(__pyx_t_10 == ((int)-1))) __PYX_ERR(0, 278, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-    /* "av/logging.pyx":330
+    /* "av/logging.pyx":279
  *     if captures:
  *         captures[-1].append(log)
  *         return             # <<<<<<<<<<<<<<
  * 
  *     py_level = adapt_level(lib_level)
  */
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
 
-    /* "av/logging.pyx":328
+    /* "av/logging.pyx":277
  * 
  *     captures = thread_captures.get(get_ident()) or global_captures
  *     if captures:             # <<<<<<<<<<<<<<
  *         captures[-1].append(log)
  *         return
  */
   }
 
-  /* "av/logging.pyx":332
+  /* "av/logging.pyx":281
  *         return
  * 
  *     py_level = adapt_level(lib_level)             # <<<<<<<<<<<<<<
  * 
  *     logger_name = "libav." + name if name else "libav.generic"
  */
-  __pyx_t_8 = __Pyx_PyInt_As_int(__pyx_v_lib_level); if (unlikely((__pyx_t_8 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 332, __pyx_L1_error)
-  __pyx_t_3 = __pyx_f_2av_7logging_adapt_level(__pyx_t_8, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 332, __pyx_L1_error)
+  __pyx_t_8 = __Pyx_PyInt_As_int(__pyx_v_lib_level); if (unlikely((__pyx_t_8 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 281, __pyx_L1_error)
+  __pyx_t_3 = __pyx_f_2av_7logging_adapt_level(__pyx_t_8, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 281, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_v_py_level = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":334
+  /* "av/logging.pyx":283
  *     py_level = adapt_level(lib_level)
  * 
  *     logger_name = "libav." + name if name else "libav.generic"             # <<<<<<<<<<<<<<
  *     logger = logging.getLogger(logger_name)
  *     logger.log(py_level, message.strip())
  */
-  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_name); if (unlikely((__pyx_t_9 < 0))) __PYX_ERR(0, 334, __pyx_L1_error)
+  __pyx_t_9 = __Pyx_PyObject_IsTrue(__pyx_v_name); if (unlikely((__pyx_t_9 < 0))) __PYX_ERR(0, 283, __pyx_L1_error)
   if (__pyx_t_9) {
-    __pyx_t_2 = PyNumber_Add(__pyx_kp_s_libav, __pyx_v_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 334, __pyx_L1_error)
+    __pyx_t_2 = PyNumber_Add(__pyx_kp_s_libav, __pyx_v_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 283, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_t_3 = __pyx_t_2;
     __pyx_t_2 = 0;
   } else {
     __Pyx_INCREF(__pyx_kp_s_libav_generic);
     __pyx_t_3 = __pyx_kp_s_libav_generic;
   }
   __pyx_v_logger_name = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":335
+  /* "av/logging.pyx":284
  * 
  *     logger_name = "libav." + name if name else "libav.generic"
  *     logger = logging.getLogger(logger_name)             # <<<<<<<<<<<<<<
  *     logger.log(py_level, message.strip())
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_logging); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 335, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_logging); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 284, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_getLogger); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 335, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_getLogger); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 284, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __pyx_t_2 = NULL;
   __pyx_t_8 = 0;
   #if CYTHON_UNPACK_METHODS
   if (unlikely(PyMethod_Check(__pyx_t_1))) {
     __pyx_t_2 = PyMethod_GET_SELF(__pyx_t_1);
@@ -7292,31 +6630,31 @@
     }
   }
   #endif
   {
     PyObject *__pyx_callargs[2] = {__pyx_t_2, __pyx_v_logger_name};
     __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 1+__pyx_t_8);
     __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 335, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 284, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   }
   __pyx_v_logger = __pyx_t_3;
   __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":336
+  /* "av/logging.pyx":285
  *     logger_name = "libav." + name if name else "libav.generic"
  *     logger = logging.getLogger(logger_name)
  *     logger.log(py_level, message.strip())             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_logger, __pyx_n_s_log); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 336, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_GetAttrStr(__pyx_v_logger, __pyx_n_s_log); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 285, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_message, __pyx_n_s_strip); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 336, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_v_message, __pyx_n_s_strip); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 285, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_6 = NULL;
   __pyx_t_8 = 0;
   #if CYTHON_UNPACK_METHODS
   if (likely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_6)) {
@@ -7328,15 +6666,15 @@
     }
   }
   #endif
   {
     PyObject *__pyx_callargs[2] = {__pyx_t_6, NULL};
     __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_8, 0+__pyx_t_8);
     __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 336, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 285, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __pyx_t_4 = NULL;
   __pyx_t_8 = 0;
   #if CYTHON_UNPACK_METHODS
   if (likely(PyMethod_Check(__pyx_t_1))) {
@@ -7351,21 +6689,21 @@
   }
   #endif
   {
     PyObject *__pyx_callargs[3] = {__pyx_t_4, __pyx_v_py_level, __pyx_t_2};
     __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_1, __pyx_callargs+1-__pyx_t_8, 2+__pyx_t_8);
     __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 336, __pyx_L1_error)
+    if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 285, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   }
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":324
+  /* "av/logging.pyx":273
  * 
  * 
  * cdef log_callback_emit(log):             # <<<<<<<<<<<<<<
  *     lib_level, name, message = log
  * 
  */
 
@@ -7390,31 +6728,554 @@
   __Pyx_XDECREF(__pyx_v_logger_name);
   __Pyx_XDECREF(__pyx_v_logger);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
+/* "av/logging.pyx":288
+ * 
+ * 
+ * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:             # <<<<<<<<<<<<<<
+ *     cdef bint inited = lib.Py_IsInitialized()
+ *     if not inited:
+ */
+
+static void __pyx_f_2av_7logging_log_callback(void *__pyx_v_ptr, int __pyx_v_level, char const *__pyx_v_format, va_list __pyx_v_args) {
+  int __pyx_v_inited;
+  char __pyx_v_message[0x400];
+  char const *__pyx_v_name;
+  struct AVClass *__pyx_v_cls;
+  CYTHON_UNUSED PyObject *__pyx_v_e = NULL;
+  PyObject *__pyx_v_exc = NULL;
+  PyObject *__pyx_v_type_ = NULL;
+  PyObject *__pyx_v_tb = NULL;
+  __Pyx_RefNannyDeclarations
+  int __pyx_t_1;
+  PyObject *__pyx_t_2 = NULL;
+  PyObject *__pyx_t_3 = NULL;
+  int __pyx_t_4;
+  struct AVClass *__pyx_t_5;
+  PyObject *__pyx_t_6 = NULL;
+  PyObject *__pyx_t_7 = NULL;
+  PyObject *__pyx_t_8 = NULL;
+  int __pyx_t_9;
+  PyObject *__pyx_t_10 = NULL;
+  PyObject *__pyx_t_11 = NULL;
+  PyObject *__pyx_t_12 = NULL;
+  PyObject *__pyx_t_13 = NULL;
+  PyObject *__pyx_t_14 = NULL;
+  PyObject *__pyx_t_15 = NULL;
+  PyObject *(*__pyx_t_16)(PyObject *);
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  #ifdef WITH_THREAD
+  PyGILState_STATE __pyx_gilstate_save;
+  #endif
+  __Pyx_RefNannySetupContext("log_callback", 1);
+
+  /* "av/logging.pyx":289
+ * 
+ * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
+ *     cdef bint inited = lib.Py_IsInitialized()             # <<<<<<<<<<<<<<
+ *     if not inited:
+ *         return
+ */
+  __pyx_v_inited = Py_IsInitialized();
+
+  /* "av/logging.pyx":290
+ * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
+ *     cdef bint inited = lib.Py_IsInitialized()
+ *     if not inited:             # <<<<<<<<<<<<<<
+ *         return
+ * 
+ */
+  __pyx_t_1 = (!__pyx_v_inited);
+  if (__pyx_t_1) {
+
+    /* "av/logging.pyx":291
+ *     cdef bint inited = lib.Py_IsInitialized()
+ *     if not inited:
+ *         return             # <<<<<<<<<<<<<<
+ * 
+ *     with gil:
+ */
+    goto __pyx_L0;
+
+    /* "av/logging.pyx":290
+ * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:
+ *     cdef bint inited = lib.Py_IsInitialized()
+ *     if not inited:             # <<<<<<<<<<<<<<
+ *         return
+ * 
+ */
+  }
+
+  /* "av/logging.pyx":293
+ *         return
+ * 
+ *     with gil:             # <<<<<<<<<<<<<<
+ *         if level > level_threshold and level != lib.AV_LOG_ERROR:
+ *             return
+ */
+  {
+      #ifdef WITH_THREAD
+      PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+      #endif
+      /*try:*/ {
+
+        /* "av/logging.pyx":294
+ * 
+ *     with gil:
+ *         if level > level_threshold and level != lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
+ *             return
+ * 
+ */
+        __pyx_t_2 = __Pyx_PyInt_From_int(__pyx_v_level); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 294, __pyx_L5_error)
+        __Pyx_GOTREF(__pyx_t_2);
+        __pyx_t_3 = PyObject_RichCompare(__pyx_t_2, __pyx_v_2av_7logging_level_threshold, Py_GT); __Pyx_XGOTREF(__pyx_t_3); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 294, __pyx_L5_error)
+        __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+        __pyx_t_4 = __Pyx_PyObject_IsTrue(__pyx_t_3); if (unlikely((__pyx_t_4 < 0))) __PYX_ERR(0, 294, __pyx_L5_error)
+        __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+        if (__pyx_t_4) {
+        } else {
+          __pyx_t_1 = __pyx_t_4;
+          goto __pyx_L8_bool_binop_done;
+        }
+        __pyx_t_4 = (__pyx_v_level != AV_LOG_ERROR);
+        __pyx_t_1 = __pyx_t_4;
+        __pyx_L8_bool_binop_done:;
+        if (__pyx_t_1) {
+
+          /* "av/logging.pyx":295
+ *     with gil:
+ *         if level > level_threshold and level != lib.AV_LOG_ERROR:
+ *             return             # <<<<<<<<<<<<<<
+ * 
+ *     # Format the message.
+ */
+          goto __pyx_L4_return;
+
+          /* "av/logging.pyx":294
+ * 
+ *     with gil:
+ *         if level > level_threshold and level != lib.AV_LOG_ERROR:             # <<<<<<<<<<<<<<
+ *             return
+ * 
+ */
+        }
+      }
+
+      /* "av/logging.pyx":293
+ *         return
+ * 
+ *     with gil:             # <<<<<<<<<<<<<<
+ *         if level > level_threshold and level != lib.AV_LOG_ERROR:
+ *             return
+ */
+      /*finally:*/ {
+        /*normal exit:*/{
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          goto __pyx_L6;
+        }
+        __pyx_L4_return: {
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          goto __pyx_L0;
+        }
+        __pyx_L5_error: {
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          goto __pyx_L1_error;
+        }
+        __pyx_L6:;
+      }
+  }
+
+  /* "av/logging.pyx":299
+ *     # Format the message.
+ *     cdef char message[1024]
+ *     lib.vsnprintf(message, 1023, format, args)             # <<<<<<<<<<<<<<
+ * 
+ *     # Get the name.
+ */
+  (void)(vsnprintf(__pyx_v_message, 0x3FF, __pyx_v_format, __pyx_v_args));
+
+  /* "av/logging.pyx":302
+ * 
+ *     # Get the name.
+ *     cdef const char *name = NULL             # <<<<<<<<<<<<<<
+ *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
+ *     if cls and cls.item_name:
+ */
+  __pyx_v_name = NULL;
+
+  /* "av/logging.pyx":303
+ *     # Get the name.
+ *     cdef const char *name = NULL
+ *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL             # <<<<<<<<<<<<<<
+ *     if cls and cls.item_name:
+ *         name = cls.item_name(ptr)
+ */
+  __pyx_t_1 = (__pyx_v_ptr != 0);
+  if (__pyx_t_1) {
+    __pyx_t_5 = (((struct AVClass **)__pyx_v_ptr)[0]);
+  } else {
+    __pyx_t_5 = NULL;
+  }
+  __pyx_v_cls = __pyx_t_5;
+
+  /* "av/logging.pyx":304
+ *     cdef const char *name = NULL
+ *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
+ *     if cls and cls.item_name:             # <<<<<<<<<<<<<<
+ *         name = cls.item_name(ptr)
+ * 
+ */
+  __pyx_t_4 = (__pyx_v_cls != 0);
+  if (__pyx_t_4) {
+  } else {
+    __pyx_t_1 = __pyx_t_4;
+    goto __pyx_L11_bool_binop_done;
+  }
+  __pyx_t_4 = (__pyx_v_cls->item_name != 0);
+  __pyx_t_1 = __pyx_t_4;
+  __pyx_L11_bool_binop_done:;
+  if (__pyx_t_1) {
+
+    /* "av/logging.pyx":305
+ *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
+ *     if cls and cls.item_name:
+ *         name = cls.item_name(ptr)             # <<<<<<<<<<<<<<
+ * 
+ *     with gil:
+ */
+    __pyx_v_name = __pyx_v_cls->item_name(__pyx_v_ptr);
+
+    /* "av/logging.pyx":304
+ *     cdef const char *name = NULL
+ *     cdef lib.AVClass *cls = (<lib.AVClass**>ptr)[0] if ptr else NULL
+ *     if cls and cls.item_name:             # <<<<<<<<<<<<<<
+ *         name = cls.item_name(ptr)
+ * 
+ */
+  }
+
+  /* "av/logging.pyx":307
+ *         name = cls.item_name(ptr)
+ * 
+ *     with gil:             # <<<<<<<<<<<<<<
+ *         try:
+ *             log_callback_gil(level, name, message)
+ */
+  {
+      #ifdef WITH_THREAD
+      PyGILState_STATE __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+      #endif
+      /*try:*/ {
+
+        /* "av/logging.pyx":308
+ * 
+ *     with gil:
+ *         try:             # <<<<<<<<<<<<<<
+ *             log_callback_gil(level, name, message)
+ *         except Exception as e:
+ */
+        {
+          __Pyx_PyThreadState_declare
+          __Pyx_PyThreadState_assign
+          __Pyx_ExceptionSave(&__pyx_t_6, &__pyx_t_7, &__pyx_t_8);
+          __Pyx_XGOTREF(__pyx_t_6);
+          __Pyx_XGOTREF(__pyx_t_7);
+          __Pyx_XGOTREF(__pyx_t_8);
+          /*try:*/ {
+
+            /* "av/logging.pyx":309
+ *     with gil:
+ *         try:
+ *             log_callback_gil(level, name, message)             # <<<<<<<<<<<<<<
+ *         except Exception as e:
+ *             fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",
+ */
+            __pyx_t_3 = __pyx_f_2av_7logging_log_callback_gil(__pyx_v_level, __pyx_v_name, __pyx_v_message); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 309, __pyx_L16_error)
+            __Pyx_GOTREF(__pyx_t_3);
+            __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+
+            /* "av/logging.pyx":308
+ * 
+ *     with gil:
+ *         try:             # <<<<<<<<<<<<<<
+ *             log_callback_gil(level, name, message)
+ *         except Exception as e:
+ */
+          }
+          __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
+          __Pyx_XDECREF(__pyx_t_7); __pyx_t_7 = 0;
+          __Pyx_XDECREF(__pyx_t_8); __pyx_t_8 = 0;
+          goto __pyx_L21_try_end;
+          __pyx_L16_error:;
+          __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
+          __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+
+          /* "av/logging.pyx":310
+ *         try:
+ *             log_callback_gil(level, name, message)
+ *         except Exception as e:             # <<<<<<<<<<<<<<
+ *             fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",
+ *                     name, level, message)
+ */
+          __pyx_t_9 = __Pyx_PyErr_ExceptionMatches(((PyObject *)(&((PyTypeObject*)PyExc_Exception)[0])));
+          if (__pyx_t_9) {
+            __Pyx_AddTraceback("av.logging.log_callback", __pyx_clineno, __pyx_lineno, __pyx_filename);
+            if (__Pyx_GetException(&__pyx_t_3, &__pyx_t_2, &__pyx_t_10) < 0) __PYX_ERR(0, 310, __pyx_L18_except_error)
+            __Pyx_XGOTREF(__pyx_t_3);
+            __Pyx_XGOTREF(__pyx_t_2);
+            __Pyx_XGOTREF(__pyx_t_10);
+            __Pyx_INCREF(__pyx_t_2);
+            __pyx_v_e = __pyx_t_2;
+
+            /* "av/logging.pyx":311
+ *             log_callback_gil(level, name, message)
+ *         except Exception as e:
+ *             fprintf(stderr, "av.logging: exception while handling %s[%d]: %s\n",             # <<<<<<<<<<<<<<
+ *                     name, level, message)
+ *             # For some reason lib.PyErr_PrintEx(0) won't work.
+ */
+            (void)(fprintf(stderr, ((char const *)"av.logging: exception while handling %s[%d]: %s\n"), __pyx_v_name, __pyx_v_level, __pyx_v_message));
+
+            /* "av/logging.pyx":314
+ *                     name, level, message)
+ *             # For some reason lib.PyErr_PrintEx(0) won't work.
+ *             exc, type_, tb = sys.exc_info()             # <<<<<<<<<<<<<<
+ *             lib.PyErr_Display(exc, type_, tb)
+ * 
+ */
+            __Pyx_GetModuleGlobalName(__pyx_t_12, __pyx_n_s_sys); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+            __Pyx_GOTREF(__pyx_t_12);
+            __pyx_t_13 = __Pyx_PyObject_GetAttrStr(__pyx_t_12, __pyx_n_s_exc_info); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+            __Pyx_GOTREF(__pyx_t_13);
+            __Pyx_DECREF(__pyx_t_12); __pyx_t_12 = 0;
+            __pyx_t_12 = NULL;
+            __pyx_t_9 = 0;
+            #if CYTHON_UNPACK_METHODS
+            if (unlikely(PyMethod_Check(__pyx_t_13))) {
+              __pyx_t_12 = PyMethod_GET_SELF(__pyx_t_13);
+              if (likely(__pyx_t_12)) {
+                PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_13);
+                __Pyx_INCREF(__pyx_t_12);
+                __Pyx_INCREF(function);
+                __Pyx_DECREF_SET(__pyx_t_13, function);
+                __pyx_t_9 = 1;
+              }
+            }
+            #endif
+            {
+              PyObject *__pyx_callargs[2] = {__pyx_t_12, NULL};
+              __pyx_t_11 = __Pyx_PyObject_FastCall(__pyx_t_13, __pyx_callargs+1-__pyx_t_9, 0+__pyx_t_9);
+              __Pyx_XDECREF(__pyx_t_12); __pyx_t_12 = 0;
+              if (unlikely(!__pyx_t_11)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __Pyx_GOTREF(__pyx_t_11);
+              __Pyx_DECREF(__pyx_t_13); __pyx_t_13 = 0;
+            }
+            if ((likely(PyTuple_CheckExact(__pyx_t_11))) || (PyList_CheckExact(__pyx_t_11))) {
+              PyObject* sequence = __pyx_t_11;
+              Py_ssize_t size = __Pyx_PySequence_SIZE(sequence);
+              if (unlikely(size != 3)) {
+                if (size > 3) __Pyx_RaiseTooManyValuesError(3);
+                else if (size >= 0) __Pyx_RaiseNeedMoreValuesError(size);
+                __PYX_ERR(0, 314, __pyx_L18_except_error)
+              }
+              #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
+              if (likely(PyTuple_CheckExact(sequence))) {
+                __pyx_t_13 = PyTuple_GET_ITEM(sequence, 0); 
+                __pyx_t_12 = PyTuple_GET_ITEM(sequence, 1); 
+                __pyx_t_14 = PyTuple_GET_ITEM(sequence, 2); 
+              } else {
+                __pyx_t_13 = PyList_GET_ITEM(sequence, 0); 
+                __pyx_t_12 = PyList_GET_ITEM(sequence, 1); 
+                __pyx_t_14 = PyList_GET_ITEM(sequence, 2); 
+              }
+              __Pyx_INCREF(__pyx_t_13);
+              __Pyx_INCREF(__pyx_t_12);
+              __Pyx_INCREF(__pyx_t_14);
+              #else
+              __pyx_t_13 = PySequence_ITEM(sequence, 0); if (unlikely(!__pyx_t_13)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __Pyx_GOTREF(__pyx_t_13);
+              __pyx_t_12 = PySequence_ITEM(sequence, 1); if (unlikely(!__pyx_t_12)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __Pyx_GOTREF(__pyx_t_12);
+              __pyx_t_14 = PySequence_ITEM(sequence, 2); if (unlikely(!__pyx_t_14)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __Pyx_GOTREF(__pyx_t_14);
+              #endif
+              __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
+            } else {
+              Py_ssize_t index = -1;
+              __pyx_t_15 = PyObject_GetIter(__pyx_t_11); if (unlikely(!__pyx_t_15)) __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __Pyx_GOTREF(__pyx_t_15);
+              __Pyx_DECREF(__pyx_t_11); __pyx_t_11 = 0;
+              __pyx_t_16 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_15);
+              index = 0; __pyx_t_13 = __pyx_t_16(__pyx_t_15); if (unlikely(!__pyx_t_13)) goto __pyx_L24_unpacking_failed;
+              __Pyx_GOTREF(__pyx_t_13);
+              index = 1; __pyx_t_12 = __pyx_t_16(__pyx_t_15); if (unlikely(!__pyx_t_12)) goto __pyx_L24_unpacking_failed;
+              __Pyx_GOTREF(__pyx_t_12);
+              index = 2; __pyx_t_14 = __pyx_t_16(__pyx_t_15); if (unlikely(!__pyx_t_14)) goto __pyx_L24_unpacking_failed;
+              __Pyx_GOTREF(__pyx_t_14);
+              if (__Pyx_IternextUnpackEndCheck(__pyx_t_16(__pyx_t_15), 3) < 0) __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __pyx_t_16 = NULL;
+              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
+              goto __pyx_L25_unpacking_done;
+              __pyx_L24_unpacking_failed:;
+              __Pyx_DECREF(__pyx_t_15); __pyx_t_15 = 0;
+              __pyx_t_16 = NULL;
+              if (__Pyx_IterFinish() == 0) __Pyx_RaiseNeedMoreValuesError(index);
+              __PYX_ERR(0, 314, __pyx_L18_except_error)
+              __pyx_L25_unpacking_done:;
+            }
+            __pyx_v_exc = __pyx_t_13;
+            __pyx_t_13 = 0;
+            __pyx_v_type_ = __pyx_t_12;
+            __pyx_t_12 = 0;
+            __pyx_v_tb = __pyx_t_14;
+            __pyx_t_14 = 0;
+
+            /* "av/logging.pyx":315
+ *             # For some reason lib.PyErr_PrintEx(0) won't work.
+ *             exc, type_, tb = sys.exc_info()
+ *             lib.PyErr_Display(exc, type_, tb)             # <<<<<<<<<<<<<<
+ * 
+ * 
+ */
+            PyErr_Display(__pyx_v_exc, __pyx_v_type_, __pyx_v_tb);
+            __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
+            __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
+            __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
+            goto __pyx_L17_exception_handled;
+          }
+          goto __pyx_L18_except_error;
+
+          /* "av/logging.pyx":308
+ * 
+ *     with gil:
+ *         try:             # <<<<<<<<<<<<<<
+ *             log_callback_gil(level, name, message)
+ *         except Exception as e:
+ */
+          __pyx_L18_except_error:;
+          __Pyx_XGIVEREF(__pyx_t_6);
+          __Pyx_XGIVEREF(__pyx_t_7);
+          __Pyx_XGIVEREF(__pyx_t_8);
+          __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
+          goto __pyx_L14_error;
+          __pyx_L17_exception_handled:;
+          __Pyx_XGIVEREF(__pyx_t_6);
+          __Pyx_XGIVEREF(__pyx_t_7);
+          __Pyx_XGIVEREF(__pyx_t_8);
+          __Pyx_ExceptionReset(__pyx_t_6, __pyx_t_7, __pyx_t_8);
+          __pyx_L21_try_end:;
+        }
+      }
+
+      /* "av/logging.pyx":307
+ *         name = cls.item_name(ptr)
+ * 
+ *     with gil:             # <<<<<<<<<<<<<<
+ *         try:
+ *             log_callback_gil(level, name, message)
+ */
+      /*finally:*/ {
+        /*normal exit:*/{
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          goto __pyx_L15;
+        }
+        __pyx_L14_error: {
+          #ifdef WITH_THREAD
+          __Pyx_PyGILState_Release(__pyx_gilstate_save);
+          #endif
+          goto __pyx_L1_error;
+        }
+        __pyx_L15:;
+      }
+  }
+
+  /* "av/logging.pyx":288
+ * 
+ * 
+ * cdef void log_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:             # <<<<<<<<<<<<<<
+ *     cdef bint inited = lib.Py_IsInitialized()
+ *     if not inited:
+ */
+
+  /* function exit code */
+  goto __pyx_L0;
+  __pyx_L1_error:;
+  #ifdef WITH_THREAD
+  __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+  #endif
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_XDECREF(__pyx_t_3);
+  __Pyx_XDECREF(__pyx_t_10);
+  __Pyx_XDECREF(__pyx_t_11);
+  __Pyx_XDECREF(__pyx_t_12);
+  __Pyx_XDECREF(__pyx_t_13);
+  __Pyx_XDECREF(__pyx_t_14);
+  __Pyx_XDECREF(__pyx_t_15);
+  __Pyx_WriteUnraisable("av.logging.log_callback", __pyx_clineno, __pyx_lineno, __pyx_filename, 1, 0);
+  #ifdef WITH_THREAD
+  __Pyx_PyGILState_Release(__pyx_gilstate_save);
+  #endif
+  __pyx_L0:;
+  #ifdef WITH_THREAD
+  __pyx_gilstate_save = __Pyx_PyGILState_Ensure();
+  #endif
+  __Pyx_XDECREF(__pyx_v_e);
+  __Pyx_XDECREF(__pyx_v_exc);
+  __Pyx_XDECREF(__pyx_v_type_);
+  __Pyx_XDECREF(__pyx_v_tb);
+  __Pyx_RefNannyFinishContext();
+  #ifdef WITH_THREAD
+  __Pyx_PyGILState_Release(__pyx_gilstate_save);
+  #endif
+}
+
+/* "av/logging.pyx":318
+ * 
+ * 
+ * cdef void nolog_callback(void *ptr, int level, const char *format, lib.va_list args) noexcept nogil:             # <<<<<<<<<<<<<<
+ *     pass
+ * 
+ */
+
+static void __pyx_f_2av_7logging_nolog_callback(CYTHON_UNUSED void *__pyx_v_ptr, CYTHON_UNUSED int __pyx_v_level, CYTHON_UNUSED char const *__pyx_v_format, CYTHON_UNUSED va_list __pyx_v_args) {
+
+  /* function exit code */
+}
+
 /* "(tree fragment)":1
  * def __pyx_unpickle_Capture(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_7logging_21__pyx_unpickle_Capture(PyObject *__pyx_self, 
+static PyObject *__pyx_pw_2av_7logging_17__pyx_unpickle_Capture(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_7logging_20__pyx_unpickle_Capture, "__pyx_unpickle_Capture(__pyx_type, long __pyx_checksum, __pyx_state)");
-static PyMethodDef __pyx_mdef_2av_7logging_21__pyx_unpickle_Capture = {"__pyx_unpickle_Capture", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_21__pyx_unpickle_Capture, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_20__pyx_unpickle_Capture};
-static PyObject *__pyx_pw_2av_7logging_21__pyx_unpickle_Capture(PyObject *__pyx_self, 
+PyDoc_STRVAR(__pyx_doc_2av_7logging_16__pyx_unpickle_Capture, "__pyx_unpickle_Capture(__pyx_type, long __pyx_checksum, __pyx_state)");
+static PyMethodDef __pyx_mdef_2av_7logging_17__pyx_unpickle_Capture = {"__pyx_unpickle_Capture", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_7logging_17__pyx_unpickle_Capture, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_7logging_16__pyx_unpickle_Capture};
+static PyObject *__pyx_pw_2av_7logging_17__pyx_unpickle_Capture(PyObject *__pyx_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   PyObject *__pyx_v___pyx_type = 0;
@@ -7510,28 +7371,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.logging.__pyx_unpickle_Capture", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_7logging_20__pyx_unpickle_Capture(__pyx_self, __pyx_v___pyx_type, __pyx_v___pyx_checksum, __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_7logging_16__pyx_unpickle_Capture(__pyx_self, __pyx_v___pyx_type, __pyx_v___pyx_checksum, __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_7logging_20__pyx_unpickle_Capture(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_7logging_16__pyx_unpickle_Capture(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v___pyx_type, long __pyx_v___pyx_checksum, PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_v___pyx_PickleError = 0;
   PyObject *__pyx_v___pyx_result = 0;
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_t_2;
   PyObject *__pyx_t_3 = NULL;
@@ -7547,15 +7408,15 @@
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xe004c80, 0x7af9b82, 0xb8921c2):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError, "Incompatible checksums (0x%x vs (0xe004c80, 0x7af9b82, 0xb8921c2) = (captures, logs))" % __pyx_checksum
  */
   __pyx_t_1 = __Pyx_PyInt_From_long(__pyx_v___pyx_checksum); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__4, Py_NE)); if (unlikely((__pyx_t_2 < 0))) __PYX_ERR(1, 4, __pyx_L1_error)
+  __pyx_t_2 = (__Pyx_PySequence_ContainsTF(__pyx_t_1, __pyx_tuple__5, Py_NE)); if (unlikely((__pyx_t_2 < 0))) __PYX_ERR(1, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   if (__pyx_t_2) {
 
     /* "(tree fragment)":5
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xe004c80, 0x7af9b82, 0xb8921c2):
  *         from pickle import PickleError as __pyx_PickleError             # <<<<<<<<<<<<<<
@@ -8062,66 +7923,63 @@
     {&__pyx_n_s_ERROR, __pyx_k_ERROR, sizeof(__pyx_k_ERROR), 0, 0, 1, 1},
     {&__pyx_n_s_FATAL, __pyx_k_FATAL, sizeof(__pyx_k_FATAL), 0, 0, 1, 1},
     {&__pyx_n_s_INFO, __pyx_k_INFO, sizeof(__pyx_k_INFO), 0, 0, 1, 1},
     {&__pyx_kp_s_Incompatible_checksums_0x_x_vs_0, __pyx_k_Incompatible_checksums_0x_x_vs_0, sizeof(__pyx_k_Incompatible_checksums_0x_x_vs_0), 0, 0, 1, 0},
     {&__pyx_n_s_Lock, __pyx_k_Lock, sizeof(__pyx_k_Lock), 0, 0, 1, 1},
     {&__pyx_n_s_Logger, __pyx_k_Logger, sizeof(__pyx_k_Logger), 0, 0, 1, 1},
     {&__pyx_n_s_PANIC, __pyx_k_PANIC, sizeof(__pyx_k_PANIC), 0, 0, 1, 1},
-    {&__pyx_n_s_PYAV_LOGGING, __pyx_k_PYAV_LOGGING, sizeof(__pyx_k_PYAV_LOGGING), 0, 0, 1, 1},
     {&__pyx_n_s_PickleError, __pyx_k_PickleError, sizeof(__pyx_k_PickleError), 0, 0, 1, 1},
     {&__pyx_n_s_TRACE, __pyx_k_TRACE, sizeof(__pyx_k_TRACE), 0, 0, 1, 1},
     {&__pyx_n_s_VERBOSE, __pyx_k_VERBOSE, sizeof(__pyx_k_VERBOSE), 0, 0, 1, 1},
+    {&__pyx_n_s_ValueError, __pyx_k_ValueError, sizeof(__pyx_k_ValueError), 0, 0, 1, 1},
     {&__pyx_n_s_WARNING, __pyx_k_WARNING, sizeof(__pyx_k_WARNING), 0, 0, 1, 1},
-    {&__pyx_kp_s__3, __pyx_k__3, sizeof(__pyx_k__3), 0, 0, 1, 0},
-    {&__pyx_n_s__32, __pyx_k__32, sizeof(__pyx_k__32), 0, 0, 1, 1},
-    {&__pyx_kp_u__5, __pyx_k__5, sizeof(__pyx_k__5), 0, 1, 0, 0},
-    {&__pyx_n_s__6, __pyx_k__6, sizeof(__pyx_k__6), 0, 0, 1, 1},
+    {&__pyx_n_s__30, __pyx_k__30, sizeof(__pyx_k__30), 0, 0, 1, 1},
+    {&__pyx_kp_s__4, __pyx_k__4, sizeof(__pyx_k__4), 0, 0, 1, 0},
+    {&__pyx_kp_u__6, __pyx_k__6, sizeof(__pyx_k__6), 0, 1, 0, 0},
+    {&__pyx_n_s__7, __pyx_k__7, sizeof(__pyx_k__7), 0, 0, 1, 1},
     {&__pyx_n_s_adapt_level, __pyx_k_adapt_level, sizeof(__pyx_k_adapt_level), 0, 0, 1, 1},
     {&__pyx_n_s_append, __pyx_k_append, sizeof(__pyx_k_append), 0, 0, 1, 1},
     {&__pyx_n_s_asyncio_coroutines, __pyx_k_asyncio_coroutines, sizeof(__pyx_k_asyncio_coroutines), 0, 0, 1, 1},
     {&__pyx_n_s_av_logging, __pyx_k_av_logging, sizeof(__pyx_k_av_logging), 0, 0, 1, 1},
     {&__pyx_kp_s_av_logging_pyx, __pyx_k_av_logging_pyx, sizeof(__pyx_k_av_logging_pyx), 0, 0, 1, 0},
     {&__pyx_n_s_cline_in_traceback, __pyx_k_cline_in_traceback, sizeof(__pyx_k_cline_in_traceback), 0, 0, 1, 1},
     {&__pyx_n_s_dict, __pyx_k_dict, sizeof(__pyx_k_dict), 0, 0, 1, 1},
     {&__pyx_n_s_dict_2, __pyx_k_dict_2, sizeof(__pyx_k_dict_2), 0, 0, 1, 1},
     {&__pyx_kp_u_disable, __pyx_k_disable, sizeof(__pyx_k_disable), 0, 1, 0, 0},
     {&__pyx_kp_u_enable, __pyx_k_enable, sizeof(__pyx_k_enable), 0, 1, 0, 0},
     {&__pyx_n_s_enter, __pyx_k_enter, sizeof(__pyx_k_enter), 0, 0, 1, 1},
-    {&__pyx_n_s_environ, __pyx_k_environ, sizeof(__pyx_k_environ), 0, 0, 1, 1},
     {&__pyx_n_s_exc_info, __pyx_k_exc_info, sizeof(__pyx_k_exc_info), 0, 0, 1, 1},
     {&__pyx_n_s_exit, __pyx_k_exit, sizeof(__pyx_k_exit), 0, 0, 1, 1},
     {&__pyx_kp_u_gc, __pyx_k_gc, sizeof(__pyx_k_gc), 0, 1, 0, 0},
     {&__pyx_n_s_get, __pyx_k_get, sizeof(__pyx_k_get), 0, 0, 1, 1},
     {&__pyx_n_s_getLogger, __pyx_k_getLogger, sizeof(__pyx_k_getLogger), 0, 0, 1, 1},
     {&__pyx_n_s_get_ident, __pyx_k_get_ident, sizeof(__pyx_k_get_ident), 0, 0, 1, 1},
     {&__pyx_n_s_get_last_error, __pyx_k_get_last_error, sizeof(__pyx_k_get_last_error), 0, 0, 1, 1},
     {&__pyx_n_s_get_level, __pyx_k_get_level, sizeof(__pyx_k_get_level), 0, 0, 1, 1},
-    {&__pyx_n_s_get_print_after_shutdown, __pyx_k_get_print_after_shutdown, sizeof(__pyx_k_get_print_after_shutdown), 0, 0, 1, 1},
     {&__pyx_n_s_get_skip_repeated, __pyx_k_get_skip_repeated, sizeof(__pyx_k_get_skip_repeated), 0, 0, 1, 1},
     {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
     {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
     {&__pyx_n_s_initializing, __pyx_k_initializing, sizeof(__pyx_k_initializing), 0, 0, 1, 1},
     {&__pyx_n_s_is_coroutine, __pyx_k_is_coroutine, sizeof(__pyx_k_is_coroutine), 0, 0, 1, 1},
     {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
     {&__pyx_n_s_level, __pyx_k_level, sizeof(__pyx_k_level), 0, 0, 1, 1},
+    {&__pyx_kp_s_level_must_be_int_None, __pyx_k_level_must_be_int_None, sizeof(__pyx_k_level_must_be_int_None), 0, 0, 1, 0},
     {&__pyx_kp_s_libav, __pyx_k_libav, sizeof(__pyx_k_libav), 0, 0, 1, 0},
     {&__pyx_n_s_libav_2, __pyx_k_libav_2, sizeof(__pyx_k_libav_2), 0, 0, 1, 1},
     {&__pyx_kp_s_libav_generic, __pyx_k_libav_generic, sizeof(__pyx_k_libav_generic), 0, 0, 1, 0},
     {&__pyx_n_s_local, __pyx_k_local, sizeof(__pyx_k_local), 0, 0, 1, 1},
     {&__pyx_n_s_log, __pyx_k_log, sizeof(__pyx_k_log), 0, 0, 1, 1},
     {&__pyx_n_s_loggerDict, __pyx_k_loggerDict, sizeof(__pyx_k_loggerDict), 0, 0, 1, 1},
     {&__pyx_n_s_logging, __pyx_k_logging, sizeof(__pyx_k_logging), 0, 0, 1, 1},
     {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
     {&__pyx_n_s_manager, __pyx_k_manager, sizeof(__pyx_k_manager), 0, 0, 1, 1},
     {&__pyx_n_s_message, __pyx_k_message, sizeof(__pyx_k_message), 0, 0, 1, 1},
     {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
     {&__pyx_n_s_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 0, 1, 1},
     {&__pyx_n_s_new, __pyx_k_new, sizeof(__pyx_k_new), 0, 0, 1, 1},
-    {&__pyx_n_s_off, __pyx_k_off, sizeof(__pyx_k_off), 0, 0, 1, 1},
-    {&__pyx_n_s_os, __pyx_k_os, sizeof(__pyx_k_os), 0, 0, 1, 1},
     {&__pyx_n_s_pickle, __pyx_k_pickle, sizeof(__pyx_k_pickle), 0, 0, 1, 1},
     {&__pyx_n_s_pop, __pyx_k_pop, sizeof(__pyx_k_pop), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_PickleError, __pyx_k_pyx_PickleError, sizeof(__pyx_k_pyx_PickleError), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_checksum, __pyx_k_pyx_checksum, sizeof(__pyx_k_pyx_checksum), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_result, __pyx_k_pyx_result, sizeof(__pyx_k_pyx_result), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_state, __pyx_k_pyx_state, sizeof(__pyx_k_pyx_state), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_type, __pyx_k_pyx_type, sizeof(__pyx_k_pyx_type), 0, 0, 1, 1},
@@ -8130,15 +7988,14 @@
     {&__pyx_n_s_reduce_cython, __pyx_k_reduce_cython, sizeof(__pyx_k_reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_ex, __pyx_k_reduce_ex, sizeof(__pyx_k_reduce_ex), 0, 0, 1, 1},
     {&__pyx_n_s_restore_default_callback, __pyx_k_restore_default_callback, sizeof(__pyx_k_restore_default_callback), 0, 0, 1, 1},
     {&__pyx_kp_s_s_repeated_d_more_times, __pyx_k_s_repeated_d_more_times, sizeof(__pyx_k_s_repeated_d_more_times), 0, 0, 1, 0},
     {&__pyx_n_s_self, __pyx_k_self, sizeof(__pyx_k_self), 0, 0, 1, 1},
     {&__pyx_n_s_setLevel, __pyx_k_setLevel, sizeof(__pyx_k_setLevel), 0, 0, 1, 1},
     {&__pyx_n_s_set_level, __pyx_k_set_level, sizeof(__pyx_k_set_level), 0, 0, 1, 1},
-    {&__pyx_n_s_set_print_after_shutdown, __pyx_k_set_print_after_shutdown, sizeof(__pyx_k_set_print_after_shutdown), 0, 0, 1, 1},
     {&__pyx_n_s_set_skip_repeated, __pyx_k_set_skip_repeated, sizeof(__pyx_k_set_skip_repeated), 0, 0, 1, 1},
     {&__pyx_n_s_setdefault, __pyx_k_setdefault, sizeof(__pyx_k_setdefault), 0, 0, 1, 1},
     {&__pyx_n_s_setstate, __pyx_k_setstate, sizeof(__pyx_k_setstate), 0, 0, 1, 1},
     {&__pyx_n_s_setstate_cython, __pyx_k_setstate_cython, sizeof(__pyx_k_setstate_cython), 0, 0, 1, 1},
     {&__pyx_n_s_spec, __pyx_k_spec, sizeof(__pyx_k_spec), 0, 0, 1, 1},
     {&__pyx_n_s_state, __pyx_k_state, sizeof(__pyx_k_state), 0, 0, 1, 1},
     {&__pyx_kp_s_stringsource, __pyx_k_stringsource, sizeof(__pyx_k_stringsource), 0, 0, 1, 0},
@@ -8154,229 +8011,215 @@
     {&__pyx_n_s_value, __pyx_k_value, sizeof(__pyx_k_value), 0, 0, 1, 1},
     {0, 0, 0, 0, 0, 0, 0}
   };
   return __Pyx_InitStrings(__pyx_string_tab);
 }
 /* #### Code section: cached_builtins ### */
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
+  __pyx_builtin_ValueError = __Pyx_GetBuiltinName(__pyx_n_s_ValueError); if (!__pyx_builtin_ValueError) __PYX_ERR(0, 119, __pyx_L1_error)
   return 0;
+  __pyx_L1_error:;
+  return -1;
 }
 /* #### Code section: cached_constants ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__Pyx_InitCachedConstants", 0);
 
-  /* "av/logging.pyx":161
+  /* "av/logging.pyx":119
+ *         lib.av_log_set_callback(log_callback)
+ *     else:
+ *         raise ValueError("level must be: int | None")             # <<<<<<<<<<<<<<
+ * 
+ * 
+ */
+  __pyx_tuple_ = PyTuple_Pack(1, __pyx_kp_s_level_must_be_int_None); if (unlikely(!__pyx_tuple_)) __PYX_ERR(0, 119, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple_);
+  __Pyx_GIVEREF(__pyx_tuple_);
+
+  /* "av/logging.pyx":151
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  *         with skip_lock:             # <<<<<<<<<<<<<<
  *             return error_count, last_error
  *     else:
  */
-  __pyx_tuple_ = PyTuple_Pack(3, Py_None, Py_None, Py_None); if (unlikely(!__pyx_tuple_)) __PYX_ERR(0, 161, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple_);
-  __Pyx_GIVEREF(__pyx_tuple_);
+  __pyx_tuple__2 = PyTuple_Pack(3, Py_None, Py_None, Py_None); if (unlikely(!__pyx_tuple__2)) __PYX_ERR(0, 151, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__2);
+  __Pyx_GIVEREF(__pyx_tuple__2);
 
-  /* "av/logging.pyx":164
+  /* "av/logging.pyx":154
  *             return error_count, last_error
  *     else:
  *         return 0, None             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_tuple__2 = PyTuple_Pack(2, __pyx_int_0, Py_None); if (unlikely(!__pyx_tuple__2)) __PYX_ERR(0, 164, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__2);
-  __Pyx_GIVEREF(__pyx_tuple__2);
+  __pyx_tuple__3 = PyTuple_Pack(2, __pyx_int_0, Py_None); if (unlikely(!__pyx_tuple__3)) __PYX_ERR(0, 154, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__3);
+  __Pyx_GIVEREF(__pyx_tuple__3);
 
   /* "(tree fragment)":4
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0xe004c80, 0x7af9b82, 0xb8921c2):             # <<<<<<<<<<<<<<
  *         from pickle import PickleError as __pyx_PickleError
  *         raise __pyx_PickleError, "Incompatible checksums (0x%x vs (0xe004c80, 0x7af9b82, 0xb8921c2) = (captures, logs))" % __pyx_checksum
  */
-  __pyx_tuple__4 = PyTuple_Pack(3, __pyx_int_234900608, __pyx_int_128949122, __pyx_int_193536450); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(1, 4, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__4);
-  __Pyx_GIVEREF(__pyx_tuple__4);
+  __pyx_tuple__5 = PyTuple_Pack(3, __pyx_int_234900608, __pyx_int_128949122, __pyx_int_193536450); if (unlikely(!__pyx_tuple__5)) __PYX_ERR(1, 4, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__5);
+  __Pyx_GIVEREF(__pyx_tuple__5);
 
-  /* "av/logging.pyx":59
+  /* "av/logging.pyx":65
  * 
  * 
  * cpdef adapt_level(int level):             # <<<<<<<<<<<<<<
  *     """Convert a library log level to a Python log level."""
  * 
  */
-  __pyx_tuple__7 = PyTuple_Pack(1, __pyx_n_s_level); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 59, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__7);
-  __Pyx_GIVEREF(__pyx_tuple__7);
-  __pyx_codeobj__8 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__7, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_adapt_level, 59, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__8)) __PYX_ERR(0, 59, __pyx_L1_error)
+  __pyx_tuple__8 = PyTuple_Pack(1, __pyx_n_s_level); if (unlikely(!__pyx_tuple__8)) __PYX_ERR(0, 65, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__8);
+  __Pyx_GIVEREF(__pyx_tuple__8);
+  __pyx_codeobj__9 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__8, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_adapt_level, 65, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__9)) __PYX_ERR(0, 65, __pyx_L1_error)
 
-  /* "av/logging.pyx":85
+  /* "av/logging.pyx":88
  * # ... but lets limit ourselves to WARNING (assuming nobody already did this).
  * if "libav" not in logging.Logger.manager.loggerDict:
  *     logging.getLogger("libav").setLevel(logging.WARNING)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __pyx_tuple__9 = PyTuple_Pack(1, __pyx_n_s_libav_2); if (unlikely(!__pyx_tuple__9)) __PYX_ERR(0, 85, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__9);
-  __Pyx_GIVEREF(__pyx_tuple__9);
+  __pyx_tuple__10 = PyTuple_Pack(1, __pyx_n_s_libav_2); if (unlikely(!__pyx_tuple__10)) __PYX_ERR(0, 88, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__10);
+  __Pyx_GIVEREF(__pyx_tuple__10);
 
-  /* "av/logging.pyx":88
+  /* "av/logging.pyx":91
  * 
  * 
  * def get_level():             # <<<<<<<<<<<<<<
- *     """Return current FFmpeg logging threshold. See :func:`set_level`."""
+ *     """Returns the current log level. See :func:`set_level`."""
  *     return level_threshold
  */
-  __pyx_codeobj__10 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_level, 88, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__10)) __PYX_ERR(0, 88, __pyx_L1_error)
+  __pyx_codeobj__11 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_level, 91, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__11)) __PYX_ERR(0, 91, __pyx_L1_error)
 
-  /* "av/logging.pyx":93
+  /* "av/logging.pyx":96
  * 
  * 
- * def set_level(int level):             # <<<<<<<<<<<<<<
+ * def set_level(level):             # <<<<<<<<<<<<<<
  *     """set_level(level)
  * 
  */
-  __pyx_codeobj__11 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__7, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_set_level, 93, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__11)) __PYX_ERR(0, 93, __pyx_L1_error)
+  __pyx_codeobj__12 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__8, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_set_level, 96, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__12)) __PYX_ERR(0, 96, __pyx_L1_error)
 
-  /* "av/logging.pyx":118
+  /* "av/logging.pyx":122
  * 
  * 
  * def restore_default_callback():             # <<<<<<<<<<<<<<
  *     """Revert back to FFmpeg's log callback, which prints to the terminal."""
  *     lib.av_log_set_callback(lib.av_log_default_callback)
  */
-  __pyx_codeobj__12 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_restore_default_callback, 118, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__12)) __PYX_ERR(0, 118, __pyx_L1_error)
-
-  /* "av/logging.pyx":126
- * 
- * 
- * def get_print_after_shutdown():             # <<<<<<<<<<<<<<
- *     """Will logging continue to ``stderr`` after Python shutdown?"""
- *     return print_after_shutdown
- */
-  __pyx_codeobj__13 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_print_after_shutdown, 126, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__13)) __PYX_ERR(0, 126, __pyx_L1_error)
-
-  /* "av/logging.pyx":131
- * 
- * 
- * def set_print_after_shutdown(v):             # <<<<<<<<<<<<<<
- *     """Set if logging should continue to ``stderr`` after Python shutdown."""
- *     global print_after_shutdown
- */
-  __pyx_tuple__14 = PyTuple_Pack(1, __pyx_n_s_v); if (unlikely(!__pyx_tuple__14)) __PYX_ERR(0, 131, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__14);
-  __Pyx_GIVEREF(__pyx_tuple__14);
-  __pyx_codeobj__15 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__14, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_set_print_after_shutdown, 131, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__15)) __PYX_ERR(0, 131, __pyx_L1_error)
+  __pyx_codeobj__13 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_restore_default_callback, 122, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__13)) __PYX_ERR(0, 122, __pyx_L1_error)
 
-  /* "av/logging.pyx":143
+  /* "av/logging.pyx":133
  * 
  * 
  * def get_skip_repeated():             # <<<<<<<<<<<<<<
  *     """Will identical logs be emitted?"""
  *     return skip_repeated
  */
-  __pyx_codeobj__16 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_skip_repeated, 143, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__16)) __PYX_ERR(0, 143, __pyx_L1_error)
+  __pyx_codeobj__14 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_skip_repeated, 133, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__14)) __PYX_ERR(0, 133, __pyx_L1_error)
 
-  /* "av/logging.pyx":148
+  /* "av/logging.pyx":138
  * 
  * 
  * def set_skip_repeated(v):             # <<<<<<<<<<<<<<
  *     """Set if identical logs will be emitted"""
  *     global skip_repeated
  */
-  __pyx_codeobj__17 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__14, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_set_skip_repeated, 148, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__17)) __PYX_ERR(0, 148, __pyx_L1_error)
+  __pyx_tuple__15 = PyTuple_Pack(1, __pyx_n_s_v); if (unlikely(!__pyx_tuple__15)) __PYX_ERR(0, 138, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__15);
+  __Pyx_GIVEREF(__pyx_tuple__15);
+  __pyx_codeobj__16 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__15, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_set_skip_repeated, 138, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__16)) __PYX_ERR(0, 138, __pyx_L1_error)
 
-  /* "av/logging.pyx":158
+  /* "av/logging.pyx":148
  * cdef int error_count = 0
  * 
  * cpdef get_last_error():             # <<<<<<<<<<<<<<
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  */
-  __pyx_codeobj__18 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_last_error, 158, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__18)) __PYX_ERR(0, 158, __pyx_L1_error)
+  __pyx_codeobj__17 = (PyObject*)__Pyx_PyCode_New(0, 0, 0, 0, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_get_last_error, 148, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__17)) __PYX_ERR(0, 148, __pyx_L1_error)
 
-  /* "av/logging.pyx":196
+  /* "av/logging.pyx":186
  *             self.captures = global_captures
  * 
  *     def __enter__(self):             # <<<<<<<<<<<<<<
  *         self.captures.append(self.logs)
  *         return self.logs
  */
-  __pyx_tuple__19 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__19)) __PYX_ERR(0, 196, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__19);
-  __Pyx_GIVEREF(__pyx_tuple__19);
-  __pyx_codeobj__20 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__19, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_enter, 196, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__20)) __PYX_ERR(0, 196, __pyx_L1_error)
+  __pyx_tuple__18 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__18)) __PYX_ERR(0, 186, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__18);
+  __Pyx_GIVEREF(__pyx_tuple__18);
+  __pyx_codeobj__19 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__18, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_enter, 186, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__19)) __PYX_ERR(0, 186, __pyx_L1_error)
 
-  /* "av/logging.pyx":200
+  /* "av/logging.pyx":190
  *         return self.logs
  * 
  *     def __exit__(self, type_, value, traceback):             # <<<<<<<<<<<<<<
  *         self.captures.pop(-1)
  * 
  */
-  __pyx_tuple__21 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_type, __pyx_n_s_value, __pyx_n_s_traceback); if (unlikely(!__pyx_tuple__21)) __PYX_ERR(0, 200, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__21);
-  __Pyx_GIVEREF(__pyx_tuple__21);
-  __pyx_codeobj__22 = (PyObject*)__Pyx_PyCode_New(4, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__21, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_exit, 200, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__22)) __PYX_ERR(0, 200, __pyx_L1_error)
+  __pyx_tuple__20 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_type, __pyx_n_s_value, __pyx_n_s_traceback); if (unlikely(!__pyx_tuple__20)) __PYX_ERR(0, 190, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__20);
+  __Pyx_GIVEREF(__pyx_tuple__20);
+  __pyx_codeobj__21 = (PyObject*)__Pyx_PyCode_New(4, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__20, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_exit, 190, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__21)) __PYX_ERR(0, 190, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     cdef tuple state
  *     cdef object _dict
  */
-  __pyx_tuple__23 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_state, __pyx_n_s_dict_2, __pyx_n_s_use_setstate); if (unlikely(!__pyx_tuple__23)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__23);
-  __Pyx_GIVEREF(__pyx_tuple__23);
-  __pyx_codeobj__24 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__23, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__24)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__22 = PyTuple_Pack(4, __pyx_n_s_self, __pyx_n_s_state, __pyx_n_s_dict_2, __pyx_n_s_use_setstate); if (unlikely(!__pyx_tuple__22)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__22);
+  __Pyx_GIVEREF(__pyx_tuple__22);
+  __pyx_codeobj__23 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 4, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__22, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__23)) __PYX_ERR(1, 1, __pyx_L1_error)
 
   /* "(tree fragment)":16
  *     else:
  *         return __pyx_unpickle_Capture, (type(self), 0xe004c80, state)
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     __pyx_unpickle_Capture__set_state(self, __pyx_state)
  */
-  __pyx_tuple__25 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__25)) __PYX_ERR(1, 16, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__25);
-  __Pyx_GIVEREF(__pyx_tuple__25);
-  __pyx_codeobj__26 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__25, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__26)) __PYX_ERR(1, 16, __pyx_L1_error)
+  __pyx_tuple__24 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__24)) __PYX_ERR(1, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__24);
+  __Pyx_GIVEREF(__pyx_tuple__24);
+  __pyx_codeobj__25 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__24, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 16, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__25)) __PYX_ERR(1, 16, __pyx_L1_error)
 
-  /* "av/logging.pyx":215
+  /* "av/logging.pyx":205
  * log_class.item_name = log_context_name
  * 
  * cpdef log(int level, str name, str message):             # <<<<<<<<<<<<<<
  *     """Send a log through the library logging system.
  * 
  */
-  __pyx_tuple__27 = PyTuple_Pack(3, __pyx_n_s_level, __pyx_n_s_name, __pyx_n_s_message); if (unlikely(!__pyx_tuple__27)) __PYX_ERR(0, 215, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__27);
-  __Pyx_GIVEREF(__pyx_tuple__27);
-  __pyx_codeobj__28 = (PyObject*)__Pyx_PyCode_New(3, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__27, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_log, 215, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__28)) __PYX_ERR(0, 215, __pyx_L1_error)
-
-  /* "av/logging.pyx":342
- * # We allow the user to fully disable the logging system as it will not play
- * # nicely with subinterpreters due to FFmpeg-created threads.
- * if os.environ.get("PYAV_LOGGING") != "off":             # <<<<<<<<<<<<<<
- *     lib.av_log_set_callback(log_callback)
- */
-  __pyx_tuple__29 = PyTuple_Pack(1, __pyx_n_s_PYAV_LOGGING); if (unlikely(!__pyx_tuple__29)) __PYX_ERR(0, 342, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__29);
-  __Pyx_GIVEREF(__pyx_tuple__29);
+  __pyx_tuple__26 = PyTuple_Pack(3, __pyx_n_s_level, __pyx_n_s_name, __pyx_n_s_message); if (unlikely(!__pyx_tuple__26)) __PYX_ERR(0, 205, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__26);
+  __Pyx_GIVEREF(__pyx_tuple__26);
+  __pyx_codeobj__27 = (PyObject*)__Pyx_PyCode_New(3, 0, 0, 3, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__26, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_logging_pyx, __pyx_n_s_log, 205, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__27)) __PYX_ERR(0, 205, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_Capture(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_tuple__30 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__30)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__30);
-  __Pyx_GIVEREF(__pyx_tuple__30);
-  __pyx_codeobj__31 = (PyObject*)__Pyx_PyCode_New(3, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__30, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_Capture, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__31)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__28 = PyTuple_Pack(5, __pyx_n_s_pyx_type, __pyx_n_s_pyx_checksum, __pyx_n_s_pyx_state, __pyx_n_s_pyx_PickleError, __pyx_n_s_pyx_result); if (unlikely(!__pyx_tuple__28)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__28);
+  __Pyx_GIVEREF(__pyx_tuple__28);
+  __pyx_codeobj__29 = (PyObject*)__Pyx_PyCode_New(3, 0, 0, 5, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__28, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_pyx_unpickle_Capture, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__29)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 /* #### Code section: init_constants ### */
@@ -8414,14 +8257,15 @@
 static CYTHON_SMALL_CODE int __Pyx_modinit_variable_import_code(void); /*proto*/
 static CYTHON_SMALL_CODE int __Pyx_modinit_function_import_code(void); /*proto*/
 
 static int __Pyx_modinit_global_init_code(void) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__Pyx_modinit_global_init_code", 0);
   /*--- Global init code ---*/
+  __pyx_v_2av_7logging_level_threshold = Py_None; Py_INCREF(Py_None);
   __pyx_v_2av_7logging_skip_lock = Py_None; Py_INCREF(Py_None);
   __pyx_v_2av_7logging_last_log = Py_None; Py_INCREF(Py_None);
   __pyx_v_2av_7logging_last_error = Py_None; Py_INCREF(Py_None);
   __pyx_v_2av_7logging_global_captures = Py_None; Py_INCREF(Py_None);
   __pyx_v_2av_7logging_thread_captures = Py_None; Py_INCREF(Py_None);
   __Pyx_RefNannyFinishContext();
   return 0;
@@ -8454,35 +8298,35 @@
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   #if CYTHON_USE_TYPE_SPECS
-  __pyx_ptype_2av_7logging_Capture = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_7logging_Capture_spec, NULL); if (unlikely(!__pyx_ptype_2av_7logging_Capture)) __PYX_ERR(0, 170, __pyx_L1_error)
-  if (__Pyx_fix_up_extension_type_from_spec(&__pyx_type_2av_7logging_Capture_spec, __pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 170, __pyx_L1_error)
+  __pyx_ptype_2av_7logging_Capture = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_7logging_Capture_spec, NULL); if (unlikely(!__pyx_ptype_2av_7logging_Capture)) __PYX_ERR(0, 160, __pyx_L1_error)
+  if (__Pyx_fix_up_extension_type_from_spec(&__pyx_type_2av_7logging_Capture_spec, __pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 160, __pyx_L1_error)
   #else
   __pyx_ptype_2av_7logging_Capture = &__pyx_type_2av_7logging_Capture;
   #endif
   #if !CYTHON_COMPILING_IN_LIMITED_API
   #endif
   #if !CYTHON_USE_TYPE_SPECS
-  if (__Pyx_PyType_Ready(__pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 170, __pyx_L1_error)
+  if (__Pyx_PyType_Ready(__pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 160, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_7logging_Capture->tp_print = 0;
   #endif
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_7logging_Capture->tp_dictoffset && __pyx_ptype_2av_7logging_Capture->tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_ptype_2av_7logging_Capture->tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Capture, (PyObject *) __pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 170, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Capture, (PyObject *) __pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 160, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
-  if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 170, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_7logging_Capture) < 0) __PYX_ERR(0, 160, __pyx_L1_error)
   #endif
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
@@ -8788,593 +8632,522 @@
   (void)__Pyx_modinit_variable_import_code();
   (void)__Pyx_modinit_function_import_code();
   /*--- Execution code ---*/
   #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
   if (__Pyx_patch_abc() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   #endif
 
-  /* "av/logging.pyx":39
+  /* "av/logging.pyx":47
  * from libc.stdlib cimport free, malloc
  * 
  * import logging             # <<<<<<<<<<<<<<
- * import os
- * import sys
- */
-  __pyx_t_2 = __Pyx_ImportDottedModule(__pyx_n_s_logging, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 39, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_logging, __pyx_t_2) < 0) __PYX_ERR(0, 39, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "av/logging.pyx":40
- * 
- * import logging
- * import os             # <<<<<<<<<<<<<<
  * import sys
  * from threading import Lock, get_ident
  */
-  __pyx_t_2 = __Pyx_ImportDottedModule(__pyx_n_s_os, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportDottedModule(__pyx_n_s_logging, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 47, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_os, __pyx_t_2) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_logging, __pyx_t_2) < 0) __PYX_ERR(0, 47, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "av/logging.pyx":41
+  /* "av/logging.pyx":48
+ * 
  * import logging
- * import os
  * import sys             # <<<<<<<<<<<<<<
  * from threading import Lock, get_ident
  * 
  */
-  __pyx_t_2 = __Pyx_ImportDottedModule(__pyx_n_s_sys, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportDottedModule(__pyx_n_s_sys, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 48, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_sys, __pyx_t_2) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_sys, __pyx_t_2) < 0) __PYX_ERR(0, 48, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "av/logging.pyx":42
- * import os
+  /* "av/logging.pyx":49
+ * import logging
  * import sys
  * from threading import Lock, get_ident             # <<<<<<<<<<<<<<
  * 
  * # Library levels.
  */
-  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)
+  __pyx_t_2 = PyList_New(2); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 49, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_INCREF(__pyx_n_s_Lock);
   __Pyx_GIVEREF(__pyx_n_s_Lock);
-  if (__Pyx_PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_Lock)) __PYX_ERR(0, 42, __pyx_L1_error);
+  if (__Pyx_PyList_SET_ITEM(__pyx_t_2, 0, __pyx_n_s_Lock)) __PYX_ERR(0, 49, __pyx_L1_error);
   __Pyx_INCREF(__pyx_n_s_get_ident);
   __Pyx_GIVEREF(__pyx_n_s_get_ident);
-  if (__Pyx_PyList_SET_ITEM(__pyx_t_2, 1, __pyx_n_s_get_ident)) __PYX_ERR(0, 42, __pyx_L1_error);
-  __pyx_t_3 = __Pyx_Import(__pyx_n_s_threading, __pyx_t_2, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 42, __pyx_L1_error)
+  if (__Pyx_PyList_SET_ITEM(__pyx_t_2, 1, __pyx_n_s_get_ident)) __PYX_ERR(0, 49, __pyx_L1_error);
+  __pyx_t_3 = __Pyx_Import(__pyx_n_s_threading, __pyx_t_2, 0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 49, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_3, __pyx_n_s_Lock); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_3, __pyx_n_s_Lock); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 49, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Lock, __pyx_t_2) < 0) __PYX_ERR(0, 42, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Lock, __pyx_t_2) < 0) __PYX_ERR(0, 49, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_3, __pyx_n_s_get_ident); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 42, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_ImportFrom(__pyx_t_3, __pyx_n_s_get_ident); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 49, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_ident, __pyx_t_2) < 0) __PYX_ERR(0, 42, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_ident, __pyx_t_2) < 0) __PYX_ERR(0, 49, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":46
+  /* "av/logging.pyx":52
+ * 
  * # Library levels.
- * # QUIET  = lib.AV_LOG_QUIET # -8; not really a level.
  * PANIC = lib.AV_LOG_PANIC  # 0             # <<<<<<<<<<<<<<
  * FATAL = lib.AV_LOG_FATAL  # 8
  * ERROR = lib.AV_LOG_ERROR
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_PANIC); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 46, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_PANIC); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 52, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_PANIC, __pyx_t_3) < 0) __PYX_ERR(0, 46, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_PANIC, __pyx_t_3) < 0) __PYX_ERR(0, 52, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":47
- * # QUIET  = lib.AV_LOG_QUIET # -8; not really a level.
+  /* "av/logging.pyx":53
+ * # Library levels.
  * PANIC = lib.AV_LOG_PANIC  # 0
  * FATAL = lib.AV_LOG_FATAL  # 8             # <<<<<<<<<<<<<<
  * ERROR = lib.AV_LOG_ERROR
  * WARNING = lib.AV_LOG_WARNING
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_FATAL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 47, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_FATAL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 53, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_FATAL, __pyx_t_3) < 0) __PYX_ERR(0, 47, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_FATAL, __pyx_t_3) < 0) __PYX_ERR(0, 53, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":48
+  /* "av/logging.pyx":54
  * PANIC = lib.AV_LOG_PANIC  # 0
  * FATAL = lib.AV_LOG_FATAL  # 8
  * ERROR = lib.AV_LOG_ERROR             # <<<<<<<<<<<<<<
  * WARNING = lib.AV_LOG_WARNING
  * INFO = lib.AV_LOG_INFO
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_ERROR); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 48, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_ERROR); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 54, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_ERROR, __pyx_t_3) < 0) __PYX_ERR(0, 48, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_ERROR, __pyx_t_3) < 0) __PYX_ERR(0, 54, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":49
+  /* "av/logging.pyx":55
  * FATAL = lib.AV_LOG_FATAL  # 8
  * ERROR = lib.AV_LOG_ERROR
  * WARNING = lib.AV_LOG_WARNING             # <<<<<<<<<<<<<<
  * INFO = lib.AV_LOG_INFO
  * VERBOSE = lib.AV_LOG_VERBOSE
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_WARNING); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 49, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_WARNING); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 55, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_WARNING, __pyx_t_3) < 0) __PYX_ERR(0, 49, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_WARNING, __pyx_t_3) < 0) __PYX_ERR(0, 55, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":50
+  /* "av/logging.pyx":56
  * ERROR = lib.AV_LOG_ERROR
  * WARNING = lib.AV_LOG_WARNING
  * INFO = lib.AV_LOG_INFO             # <<<<<<<<<<<<<<
  * VERBOSE = lib.AV_LOG_VERBOSE
  * DEBUG = lib.AV_LOG_DEBUG
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_INFO); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 50, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_INFO); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 56, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_INFO, __pyx_t_3) < 0) __PYX_ERR(0, 50, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_INFO, __pyx_t_3) < 0) __PYX_ERR(0, 56, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":51
+  /* "av/logging.pyx":57
  * WARNING = lib.AV_LOG_WARNING
  * INFO = lib.AV_LOG_INFO
  * VERBOSE = lib.AV_LOG_VERBOSE             # <<<<<<<<<<<<<<
  * DEBUG = lib.AV_LOG_DEBUG
  * TRACE = lib.AV_LOG_TRACE
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_VERBOSE); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 51, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_VERBOSE); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 57, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_VERBOSE, __pyx_t_3) < 0) __PYX_ERR(0, 51, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_VERBOSE, __pyx_t_3) < 0) __PYX_ERR(0, 57, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":52
+  /* "av/logging.pyx":58
  * INFO = lib.AV_LOG_INFO
  * VERBOSE = lib.AV_LOG_VERBOSE
  * DEBUG = lib.AV_LOG_DEBUG             # <<<<<<<<<<<<<<
  * TRACE = lib.AV_LOG_TRACE
  * 
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_DEBUG); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 52, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_DEBUG); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 58, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_DEBUG, __pyx_t_3) < 0) __PYX_ERR(0, 52, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_DEBUG, __pyx_t_3) < 0) __PYX_ERR(0, 58, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":53
+  /* "av/logging.pyx":59
  * VERBOSE = lib.AV_LOG_VERBOSE
  * DEBUG = lib.AV_LOG_DEBUG
  * TRACE = lib.AV_LOG_TRACE             # <<<<<<<<<<<<<<
  * 
  * # Mimicking stdlib.
  */
-  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_TRACE); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 53, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From___pyx_anon_enum(AV_LOG_TRACE); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_TRACE, __pyx_t_3) < 0) __PYX_ERR(0, 53, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_TRACE, __pyx_t_3) < 0) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":56
+  /* "av/logging.pyx":62
  * 
  * # Mimicking stdlib.
  * CRITICAL = FATAL             # <<<<<<<<<<<<<<
  * 
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_FATAL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 56, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_FATAL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 62, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_CRITICAL, __pyx_t_3) < 0) __PYX_ERR(0, 56, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_CRITICAL, __pyx_t_3) < 0) __PYX_ERR(0, 62, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":59
+  /* "av/logging.pyx":65
  * 
  * 
  * cpdef adapt_level(int level):             # <<<<<<<<<<<<<<
  *     """Convert a library log level to a Python log level."""
  * 
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_1adapt_level, 0, __pyx_n_s_adapt_level, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__8)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 59, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_1adapt_level, 0, __pyx_n_s_adapt_level, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 65, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_adapt_level, __pyx_t_3) < 0) __PYX_ERR(0, 59, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_adapt_level, __pyx_t_3) < 0) __PYX_ERR(0, 65, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
 
-  /* "av/logging.pyx":81
- * # they will not show. The logging system can add significant overhead, so
- * # be wary of dropping this lower.
- * cdef int level_threshold = lib.AV_LOG_VERBOSE             # <<<<<<<<<<<<<<
+  /* "av/logging.pyx":84
+ * 
+ * 
+ * cdef object level_threshold = None             # <<<<<<<<<<<<<<
  * 
  * # ... but lets limit ourselves to WARNING (assuming nobody already did this).
  */
-  __pyx_v_2av_7logging_level_threshold = AV_LOG_VERBOSE;
+  __Pyx_INCREF(Py_None);
+  __Pyx_XGOTREF(__pyx_v_2av_7logging_level_threshold);
+  __Pyx_DECREF_SET(__pyx_v_2av_7logging_level_threshold, Py_None);
+  __Pyx_GIVEREF(Py_None);
 
-  /* "av/logging.pyx":84
+  /* "av/logging.pyx":87
  * 
  * # ... but lets limit ourselves to WARNING (assuming nobody already did this).
  * if "libav" not in logging.Logger.manager.loggerDict:             # <<<<<<<<<<<<<<
  *     logging.getLogger("libav").setLevel(logging.WARNING)
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_logging); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 84, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_logging); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 87, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_Logger); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 84, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_Logger); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 87, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_manager); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 84, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_manager); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 87, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_loggerDict); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 84, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_loggerDict); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 87, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_libav_2, __pyx_t_2, Py_NE)); if (unlikely((__pyx_t_4 < 0))) __PYX_ERR(0, 84, __pyx_L1_error)
+  __pyx_t_4 = (__Pyx_PySequence_ContainsTF(__pyx_n_s_libav_2, __pyx_t_2, Py_NE)); if (unlikely((__pyx_t_4 < 0))) __PYX_ERR(0, 87, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   if (__pyx_t_4) {
 
-    /* "av/logging.pyx":85
+    /* "av/logging.pyx":88
  * # ... but lets limit ourselves to WARNING (assuming nobody already did this).
  * if "libav" not in logging.Logger.manager.loggerDict:
  *     logging.getLogger("libav").setLevel(logging.WARNING)             # <<<<<<<<<<<<<<
  * 
  * 
  */
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_logging); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_logging); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_getLogger); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_getLogger); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__9, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_3, __pyx_tuple__10, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_setLevel); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_setLevel); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_logging); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_logging); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
-    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_WARNING); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_WARNING); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 85, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_CallOneArg(__pyx_t_3, __pyx_t_5); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 88, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
     __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "av/logging.pyx":84
+    /* "av/logging.pyx":87
  * 
  * # ... but lets limit ourselves to WARNING (assuming nobody already did this).
  * if "libav" not in logging.Logger.manager.loggerDict:             # <<<<<<<<<<<<<<
  *     logging.getLogger("libav").setLevel(logging.WARNING)
  * 
  */
   }
 
-  /* "av/logging.pyx":88
+  /* "av/logging.pyx":91
  * 
  * 
  * def get_level():             # <<<<<<<<<<<<<<
- *     """Return current FFmpeg logging threshold. See :func:`set_level`."""
+ *     """Returns the current log level. See :func:`set_level`."""
  *     return level_threshold
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_3get_level, 0, __pyx_n_s_get_level, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__10)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 88, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_3get_level, 0, __pyx_n_s_get_level, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 91, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_level, __pyx_t_2) < 0) __PYX_ERR(0, 88, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_level, __pyx_t_2) < 0) __PYX_ERR(0, 91, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "av/logging.pyx":93
+  /* "av/logging.pyx":96
  * 
  * 
- * def set_level(int level):             # <<<<<<<<<<<<<<
+ * def set_level(level):             # <<<<<<<<<<<<<<
  *     """set_level(level)
  * 
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_5set_level, 0, __pyx_n_s_set_level, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 93, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_5set_level, 0, __pyx_n_s_set_level, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 96, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_set_level, __pyx_t_2) < 0) __PYX_ERR(0, 93, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_set_level, __pyx_t_2) < 0) __PYX_ERR(0, 96, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "av/logging.pyx":118
+  /* "av/logging.pyx":122
  * 
  * 
  * def restore_default_callback():             # <<<<<<<<<<<<<<
  *     """Revert back to FFmpeg's log callback, which prints to the terminal."""
  *     lib.av_log_set_callback(lib.av_log_default_callback)
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7restore_default_callback, 0, __pyx_n_s_restore_default_callback, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 118, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_restore_default_callback, __pyx_t_2) < 0) __PYX_ERR(0, 118, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "av/logging.pyx":123
- * 
- * 
- * cdef bint print_after_shutdown = False             # <<<<<<<<<<<<<<
- * 
- * 
- */
-  __pyx_v_2av_7logging_print_after_shutdown = 0;
-
-  /* "av/logging.pyx":126
- * 
- * 
- * def get_print_after_shutdown():             # <<<<<<<<<<<<<<
- *     """Will logging continue to ``stderr`` after Python shutdown?"""
- *     return print_after_shutdown
- */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_9get_print_after_shutdown, 0, __pyx_n_s_get_print_after_shutdown, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__13)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 126, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_print_after_shutdown, __pyx_t_2) < 0) __PYX_ERR(0, 126, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-
-  /* "av/logging.pyx":131
- * 
- * 
- * def set_print_after_shutdown(v):             # <<<<<<<<<<<<<<
- *     """Set if logging should continue to ``stderr`` after Python shutdown."""
- *     global print_after_shutdown
- */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_11set_print_after_shutdown, 0, __pyx_n_s_set_print_after_shutdown, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__15)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 131, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7restore_default_callback, 0, __pyx_n_s_restore_default_callback, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__13)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_set_print_after_shutdown, __pyx_t_2) < 0) __PYX_ERR(0, 131, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_restore_default_callback, __pyx_t_2) < 0) __PYX_ERR(0, 122, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-  /* "av/logging.pyx":137
+  /* "av/logging.pyx":127
  * 
  * 
  * cdef bint skip_repeated = True             # <<<<<<<<<<<<<<
  * cdef skip_lock = Lock()
  * cdef object last_log = None
  */
   __pyx_v_2av_7logging_skip_repeated = 1;
 
-  /* "av/logging.pyx":138
+  /* "av/logging.pyx":128
  * 
  * cdef bint skip_repeated = True
  * cdef skip_lock = Lock()             # <<<<<<<<<<<<<<
  * cdef object last_log = None
  * cdef int skip_count = 0
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_Lock); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 138, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_2, __pyx_n_s_Lock); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 128, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_5 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 138, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_CallNoArg(__pyx_t_2); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 128, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_XGOTREF(__pyx_v_2av_7logging_skip_lock);
   __Pyx_DECREF_SET(__pyx_v_2av_7logging_skip_lock, __pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_5);
   __pyx_t_5 = 0;
 
-  /* "av/logging.pyx":139
+  /* "av/logging.pyx":129
  * cdef bint skip_repeated = True
  * cdef skip_lock = Lock()
  * cdef object last_log = None             # <<<<<<<<<<<<<<
  * cdef int skip_count = 0
  * 
  */
   __Pyx_INCREF(Py_None);
   __Pyx_XGOTREF(__pyx_v_2av_7logging_last_log);
   __Pyx_DECREF_SET(__pyx_v_2av_7logging_last_log, Py_None);
   __Pyx_GIVEREF(Py_None);
 
-  /* "av/logging.pyx":140
+  /* "av/logging.pyx":130
  * cdef skip_lock = Lock()
  * cdef object last_log = None
  * cdef int skip_count = 0             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __pyx_v_2av_7logging_skip_count = 0;
 
-  /* "av/logging.pyx":143
+  /* "av/logging.pyx":133
  * 
  * 
  * def get_skip_repeated():             # <<<<<<<<<<<<<<
  *     """Will identical logs be emitted?"""
  *     return skip_repeated
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_13get_skip_repeated, 0, __pyx_n_s_get_skip_repeated, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__16)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 143, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_9get_skip_repeated, 0, __pyx_n_s_get_skip_repeated, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__14)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 133, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_skip_repeated, __pyx_t_5) < 0) __PYX_ERR(0, 143, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_skip_repeated, __pyx_t_5) < 0) __PYX_ERR(0, 133, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "av/logging.pyx":148
+  /* "av/logging.pyx":138
  * 
  * 
  * def set_skip_repeated(v):             # <<<<<<<<<<<<<<
  *     """Set if identical logs will be emitted"""
  *     global skip_repeated
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_15set_skip_repeated, 0, __pyx_n_s_set_skip_repeated, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__17)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 148, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_11set_skip_repeated, 0, __pyx_n_s_set_skip_repeated, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__16)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 138, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_set_skip_repeated, __pyx_t_5) < 0) __PYX_ERR(0, 148, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_set_skip_repeated, __pyx_t_5) < 0) __PYX_ERR(0, 138, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "av/logging.pyx":155
+  /* "av/logging.pyx":145
  * 
  * # For error reporting.
  * cdef object last_error = None             # <<<<<<<<<<<<<<
  * cdef int error_count = 0
  * 
  */
   __Pyx_INCREF(Py_None);
   __Pyx_XGOTREF(__pyx_v_2av_7logging_last_error);
   __Pyx_DECREF_SET(__pyx_v_2av_7logging_last_error, Py_None);
   __Pyx_GIVEREF(Py_None);
 
-  /* "av/logging.pyx":156
+  /* "av/logging.pyx":146
  * # For error reporting.
  * cdef object last_error = None
  * cdef int error_count = 0             # <<<<<<<<<<<<<<
  * 
  * cpdef get_last_error():
  */
   __pyx_v_2av_7logging_error_count = 0;
 
-  /* "av/logging.pyx":158
+  /* "av/logging.pyx":148
  * cdef int error_count = 0
  * 
  * cpdef get_last_error():             # <<<<<<<<<<<<<<
  *     """Get the last log that was at least ``ERROR``."""
  *     if error_count:
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_17get_last_error, 0, __pyx_n_s_get_last_error, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__18)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 158, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_13get_last_error, 0, __pyx_n_s_get_last_error, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__17)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 148, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_last_error, __pyx_t_5) < 0) __PYX_ERR(0, 158, __pyx_L1_error)
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_get_last_error, __pyx_t_5) < 0) __PYX_ERR(0, 148, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
-  /* "av/logging.pyx":167
+  /* "av/logging.pyx":157
  * 
  * 
  * cdef global_captures = []             # <<<<<<<<<<<<<<
  * cdef thread_captures = {}
  * 
  */
-  __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 167, __pyx_L1_error)
+  __pyx_t_5 = PyList_New(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 157, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_XGOTREF(__pyx_v_2av_7logging_global_captures);
   __Pyx_DECREF_SET(__pyx_v_2av_7logging_global_captures, __pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_5);
   __pyx_t_5 = 0;
 
-  /* "av/logging.pyx":168
+  /* "av/logging.pyx":158
  * 
  * cdef global_captures = []
  * cdef thread_captures = {}             # <<<<<<<<<<<<<<
  * 
  * cdef class Capture:
  */
-  __pyx_t_5 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 168, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 158, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_XGOTREF(__pyx_v_2av_7logging_thread_captures);
   __Pyx_DECREF_SET(__pyx_v_2av_7logging_thread_captures, __pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_5);
   __pyx_t_5 = 0;
 
-  /* "av/logging.pyx":196
+  /* "av/logging.pyx":186
  *             self.captures = global_captures
  * 
  *     def __enter__(self):             # <<<<<<<<<<<<<<
  *         self.captures.append(self.logs)
  *         return self.logs
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_3__enter__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___enter, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__20)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 196, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_3__enter__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___enter, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__19)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 186, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_7logging_Capture, __pyx_n_s_enter, __pyx_t_5) < 0) __PYX_ERR(0, 196, __pyx_L1_error)
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_7logging_Capture, __pyx_n_s_enter, __pyx_t_5) < 0) __PYX_ERR(0, 186, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   PyType_Modified(__pyx_ptype_2av_7logging_Capture);
 
-  /* "av/logging.pyx":200
+  /* "av/logging.pyx":190
  *         return self.logs
  * 
  *     def __exit__(self, type_, value, traceback):             # <<<<<<<<<<<<<<
  *         self.captures.pop(-1)
  * 
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_5__exit__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___exit, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__22)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 200, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_5__exit__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___exit, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__21)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 190, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_7logging_Capture, __pyx_n_s_exit, __pyx_t_5) < 0) __PYX_ERR(0, 200, __pyx_L1_error)
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_7logging_Capture, __pyx_n_s_exit, __pyx_t_5) < 0) __PYX_ERR(0, 190, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   PyType_Modified(__pyx_ptype_2av_7logging_Capture);
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     cdef tuple state
  *     cdef object _dict
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_7__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___reduce_cython, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__24)); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_7__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___reduce_cython, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__23)); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_7logging_Capture, __pyx_n_s_reduce_cython, __pyx_t_5) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   PyType_Modified(__pyx_ptype_2av_7logging_Capture);
 
   /* "(tree fragment)":16
  *     else:
  *         return __pyx_unpickle_Capture, (type(self), 0xe004c80, state)
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     __pyx_unpickle_Capture__set_state(self, __pyx_state)
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_9__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___setstate_cython, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__26)); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 16, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_7Capture_9__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Capture___setstate_cython, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__25)); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_7logging_Capture, __pyx_n_s_setstate_cython, __pyx_t_5) < 0) __PYX_ERR(1, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   PyType_Modified(__pyx_ptype_2av_7logging_Capture);
 
-  /* "av/logging.pyx":213
+  /* "av/logging.pyx":203
  * 
  * cdef lib.AVClass log_class
  * log_class.item_name = log_context_name             # <<<<<<<<<<<<<<
  * 
  * cpdef log(int level, str name, str message):
  */
   __pyx_v_2av_7logging_log_class.item_name = __pyx_f_2av_7logging_log_context_name;
 
-  /* "av/logging.pyx":215
+  /* "av/logging.pyx":205
  * log_class.item_name = log_context_name
  * 
  * cpdef log(int level, str name, str message):             # <<<<<<<<<<<<<<
  *     """Send a log through the library logging system.
  * 
  */
-  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_19log, 0, __pyx_n_s_log, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__28)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 215, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_5);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_log, __pyx_t_5) < 0) __PYX_ERR(0, 215, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-
-  /* "av/logging.pyx":342
- * # We allow the user to fully disable the logging system as it will not play
- * # nicely with subinterpreters due to FFmpeg-created threads.
- * if os.environ.get("PYAV_LOGGING") != "off":             # <<<<<<<<<<<<<<
- *     lib.av_log_set_callback(log_callback)
- */
-  __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_os); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 342, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_5);
-  __pyx_t_2 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_environ); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 342, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_2, __pyx_n_s_get); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 342, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_15log, 0, __pyx_n_s_log, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__27)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 205, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __pyx_t_2 = __Pyx_PyObject_Call(__pyx_t_5, __pyx_tuple__29, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 342, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_log, __pyx_t_5) < 0) __PYX_ERR(0, 205, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-  __pyx_t_4 = (__Pyx_PyString_Equals(__pyx_t_2, __pyx_n_s_off, Py_NE)); if (unlikely((__pyx_t_4 < 0))) __PYX_ERR(0, 342, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (__pyx_t_4) {
-
-    /* "av/logging.pyx":343
- * # nicely with subinterpreters due to FFmpeg-created threads.
- * if os.environ.get("PYAV_LOGGING") != "off":
- *     lib.av_log_set_callback(log_callback)             # <<<<<<<<<<<<<<
- */
-    av_log_set_callback(__pyx_f_2av_7logging_log_callback);
 
-    /* "av/logging.pyx":342
- * # We allow the user to fully disable the logging system as it will not play
- * # nicely with subinterpreters due to FFmpeg-created threads.
- * if os.environ.get("PYAV_LOGGING") != "off":             # <<<<<<<<<<<<<<
- *     lib.av_log_set_callback(log_callback)
+  /* "av/logging.pyx":321
+ *     pass
+ * 
+ * lib.av_log_set_callback(nolog_callback)             # <<<<<<<<<<<<<<
  */
-  }
+  av_log_set_callback(__pyx_f_2av_7logging_nolog_callback);
 
   /* "(tree fragment)":1
  * def __pyx_unpickle_Capture(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_21__pyx_unpickle_Capture, 0, __pyx_n_s_pyx_unpickle_Capture, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__31)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_Capture, __pyx_t_2) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  __pyx_t_5 = __Pyx_CyFunction_New(&__pyx_mdef_2av_7logging_17__pyx_unpickle_Capture, 0, __pyx_n_s_pyx_unpickle_Capture, NULL, __pyx_n_s_av_logging, __pyx_d, ((PyObject *)__pyx_codeobj__29)); if (unlikely(!__pyx_t_5)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_5);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle_Capture, __pyx_t_5) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
   /* "av/logging.pyx":1
  * """             # <<<<<<<<<<<<<<
- * FFmpeg has a logging system that it uses extensively. PyAV hooks into that system
- * to translate FFmpeg logs into Python's
+ * FFmpeg has a logging system that it uses extensively. It's very noisy so PyAV turns it
+ * off by default. This, unfortunately has the effect of making raised errors having less
  */
-  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_2);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_2) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  __pyx_t_5 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_5);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_5) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
 
   /*--- Wrapped vars code ---*/
 
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
@@ -9438,14 +9211,173 @@
 end:
     Py_XDECREF(p);
     Py_XDECREF(m);
     return (__Pyx_RefNannyAPIStruct *)r;
 }
 #endif
 
+/* PyErrExceptionMatches */
+#if CYTHON_FAST_THREAD_STATE
+static int __Pyx_PyErr_ExceptionMatchesTuple(PyObject *exc_type, PyObject *tuple) {
+    Py_ssize_t i, n;
+    n = PyTuple_GET_SIZE(tuple);
+#if PY_MAJOR_VERSION >= 3
+    for (i=0; i<n; i++) {
+        if (exc_type == PyTuple_GET_ITEM(tuple, i)) return 1;
+    }
+#endif
+    for (i=0; i<n; i++) {
+        if (__Pyx_PyErr_GivenExceptionMatches(exc_type, PyTuple_GET_ITEM(tuple, i))) return 1;
+    }
+    return 0;
+}
+static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err) {
+    int result;
+    PyObject *exc_type;
+#if PY_VERSION_HEX >= 0x030C00A6
+    PyObject *current_exception = tstate->current_exception;
+    if (unlikely(!current_exception)) return 0;
+    exc_type = (PyObject*) Py_TYPE(current_exception);
+    if (exc_type == err) return 1;
+#else
+    exc_type = tstate->curexc_type;
+    if (exc_type == err) return 1;
+    if (unlikely(!exc_type)) return 0;
+#endif
+    #if CYTHON_AVOID_BORROWED_REFS
+    Py_INCREF(exc_type);
+    #endif
+    if (unlikely(PyTuple_Check(err))) {
+        result = __Pyx_PyErr_ExceptionMatchesTuple(exc_type, err);
+    } else {
+        result = __Pyx_PyErr_GivenExceptionMatches(exc_type, err);
+    }
+    #if CYTHON_AVOID_BORROWED_REFS
+    Py_DECREF(exc_type);
+    #endif
+    return result;
+}
+#endif
+
+/* PyErrFetchRestore */
+#if CYTHON_FAST_THREAD_STATE
+static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb) {
+#if PY_VERSION_HEX >= 0x030C00A6
+    PyObject *tmp_value;
+    assert(type == NULL || (value != NULL && type == (PyObject*) Py_TYPE(value)));
+    if (value) {
+        #if CYTHON_COMPILING_IN_CPYTHON
+        if (unlikely(((PyBaseExceptionObject*) value)->traceback != tb))
+        #endif
+            PyException_SetTraceback(value, tb);
+    }
+    tmp_value = tstate->current_exception;
+    tstate->current_exception = value;
+    Py_XDECREF(tmp_value);
+    Py_XDECREF(type);
+    Py_XDECREF(tb);
+#else
+    PyObject *tmp_type, *tmp_value, *tmp_tb;
+    tmp_type = tstate->curexc_type;
+    tmp_value = tstate->curexc_value;
+    tmp_tb = tstate->curexc_traceback;
+    tstate->curexc_type = type;
+    tstate->curexc_value = value;
+    tstate->curexc_traceback = tb;
+    Py_XDECREF(tmp_type);
+    Py_XDECREF(tmp_value);
+    Py_XDECREF(tmp_tb);
+#endif
+}
+static CYTHON_INLINE void __Pyx_ErrFetchInState(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb) {
+#if PY_VERSION_HEX >= 0x030C00A6
+    PyObject* exc_value;
+    exc_value = tstate->current_exception;
+    tstate->current_exception = 0;
+    *value = exc_value;
+    *type = NULL;
+    *tb = NULL;
+    if (exc_value) {
+        *type = (PyObject*) Py_TYPE(exc_value);
+        Py_INCREF(*type);
+        #if CYTHON_COMPILING_IN_CPYTHON
+        *tb = ((PyBaseExceptionObject*) exc_value)->traceback;
+        Py_XINCREF(*tb);
+        #else
+        *tb = PyException_GetTraceback(exc_value);
+        #endif
+    }
+#else
+    *type = tstate->curexc_type;
+    *value = tstate->curexc_value;
+    *tb = tstate->curexc_traceback;
+    tstate->curexc_type = 0;
+    tstate->curexc_value = 0;
+    tstate->curexc_traceback = 0;
+#endif
+}
+#endif
+
+/* PyObjectGetAttrStr */
+#if CYTHON_USE_TYPE_SLOTS
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStr(PyObject* obj, PyObject* attr_name) {
+    PyTypeObject* tp = Py_TYPE(obj);
+    if (likely(tp->tp_getattro))
+        return tp->tp_getattro(obj, attr_name);
+#if PY_MAJOR_VERSION < 3
+    if (likely(tp->tp_getattr))
+        return tp->tp_getattr(obj, PyString_AS_STRING(attr_name));
+#endif
+    return PyObject_GetAttr(obj, attr_name);
+}
+#endif
+
+/* PyObjectGetAttrStrNoError */
+#if __PYX_LIMITED_VERSION_HEX < 0x030d00A1
+static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
+    __Pyx_PyThreadState_declare
+    __Pyx_PyThreadState_assign
+    if (likely(__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
+        __Pyx_PyErr_Clear();
+}
+#endif
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name) {
+    PyObject *result;
+#if __PYX_LIMITED_VERSION_HEX >= 0x030d00A1
+    (void) PyObject_GetOptionalAttr(obj, attr_name, &result);
+    return result;
+#else
+#if CYTHON_COMPILING_IN_CPYTHON && CYTHON_USE_TYPE_SLOTS && PY_VERSION_HEX >= 0x030700B1
+    PyTypeObject* tp = Py_TYPE(obj);
+    if (likely(tp->tp_getattro == PyObject_GenericGetAttr)) {
+        return _PyObject_GenericGetAttrWithDict(obj, attr_name, NULL, 1);
+    }
+#endif
+    result = __Pyx_PyObject_GetAttrStr(obj, attr_name);
+    if (unlikely(!result)) {
+        __Pyx_PyObject_GetAttrStr_ClearAttributeError();
+    }
+    return result;
+#endif
+}
+
+/* GetBuiltinName */
+static PyObject *__Pyx_GetBuiltinName(PyObject *name) {
+    PyObject* result = __Pyx_PyObject_GetAttrStrNoError(__pyx_b, name);
+    if (unlikely(!result) && !PyErr_Occurred()) {
+        PyErr_Format(PyExc_NameError,
+#if PY_MAJOR_VERSION >= 3
+            "name '%U' is not defined", name);
+#else
+            "name '%.200s' is not defined", PyString_AS_STRING(name));
+#endif
+    }
+    return result;
+}
+
 /* TupleAndListFromArray */
 #if CYTHON_COMPILING_IN_CPYTHON
 static CYTHON_INLINE void __Pyx_copy_object_array(PyObject *const *CYTHON_RESTRICT src, PyObject** CYTHON_RESTRICT dest, Py_ssize_t length) {
     PyObject *v;
     Py_ssize_t i;
     for (i = 0; i < length; i++) {
         v = dest[i] = src[i];
@@ -9859,158 +9791,199 @@
     }
     PyErr_Format(PyExc_TypeError,
                  "%.200s() takes %.8s %" CYTHON_FORMAT_SSIZE_T "d positional argument%.1s (%" CYTHON_FORMAT_SSIZE_T "d given)",
                  func_name, more_or_less, num_expected,
                  (num_expected == 1) ? "" : "s", num_found);
 }
 
-/* PyObjectGetAttrStr */
-#if CYTHON_USE_TYPE_SLOTS
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStr(PyObject* obj, PyObject* attr_name) {
-    PyTypeObject* tp = Py_TYPE(obj);
-    if (likely(tp->tp_getattro))
-        return tp->tp_getattro(obj, attr_name);
-#if PY_MAJOR_VERSION < 3
-    if (likely(tp->tp_getattr))
-        return tp->tp_getattr(obj, PyString_AS_STRING(attr_name));
-#endif
-    return PyObject_GetAttr(obj, attr_name);
-}
-#endif
-
-/* PyErrExceptionMatches */
-#if CYTHON_FAST_THREAD_STATE
-static int __Pyx_PyErr_ExceptionMatchesTuple(PyObject *exc_type, PyObject *tuple) {
-    Py_ssize_t i, n;
-    n = PyTuple_GET_SIZE(tuple);
-#if PY_MAJOR_VERSION >= 3
-    for (i=0; i<n; i++) {
-        if (exc_type == PyTuple_GET_ITEM(tuple, i)) return 1;
-    }
-#endif
-    for (i=0; i<n; i++) {
-        if (__Pyx_PyErr_GivenExceptionMatches(exc_type, PyTuple_GET_ITEM(tuple, i))) return 1;
-    }
-    return 0;
-}
-static CYTHON_INLINE int __Pyx_PyErr_ExceptionMatchesInState(PyThreadState* tstate, PyObject* err) {
-    int result;
-    PyObject *exc_type;
-#if PY_VERSION_HEX >= 0x030C00A6
-    PyObject *current_exception = tstate->current_exception;
-    if (unlikely(!current_exception)) return 0;
-    exc_type = (PyObject*) Py_TYPE(current_exception);
-    if (exc_type == err) return 1;
-#else
-    exc_type = tstate->curexc_type;
-    if (exc_type == err) return 1;
-    if (unlikely(!exc_type)) return 0;
-#endif
-    #if CYTHON_AVOID_BORROWED_REFS
-    Py_INCREF(exc_type);
+/* PyObjectCall */
+#if CYTHON_COMPILING_IN_CPYTHON
+static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw) {
+    PyObject *result;
+    ternaryfunc call = Py_TYPE(func)->tp_call;
+    if (unlikely(!call))
+        return PyObject_Call(func, arg, kw);
+    #if PY_MAJOR_VERSION < 3
+    if (unlikely(Py_EnterRecursiveCall((char*)" while calling a Python object")))
+        return NULL;
+    #else
+    if (unlikely(Py_EnterRecursiveCall(" while calling a Python object")))
+        return NULL;
     #endif
-    if (unlikely(PyTuple_Check(err))) {
-        result = __Pyx_PyErr_ExceptionMatchesTuple(exc_type, err);
-    } else {
-        result = __Pyx_PyErr_GivenExceptionMatches(exc_type, err);
+    result = (*call)(func, arg, kw);
+    Py_LeaveRecursiveCall();
+    if (unlikely(!result) && unlikely(!PyErr_Occurred())) {
+        PyErr_SetString(
+            PyExc_SystemError,
+            "NULL result without error in PyObject_Call");
     }
-    #if CYTHON_AVOID_BORROWED_REFS
-    Py_DECREF(exc_type);
-    #endif
     return result;
 }
 #endif
 
-/* PyErrFetchRestore */
-#if CYTHON_FAST_THREAD_STATE
-static CYTHON_INLINE void __Pyx_ErrRestoreInState(PyThreadState *tstate, PyObject *type, PyObject *value, PyObject *tb) {
-#if PY_VERSION_HEX >= 0x030C00A6
-    PyObject *tmp_value;
-    assert(type == NULL || (value != NULL && type == (PyObject*) Py_TYPE(value)));
-    if (value) {
-        #if CYTHON_COMPILING_IN_CPYTHON
-        if (unlikely(((PyBaseExceptionObject*) value)->traceback != tb))
-        #endif
-            PyException_SetTraceback(value, tb);
+/* RaiseException */
+#if PY_MAJOR_VERSION < 3
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
+    __Pyx_PyThreadState_declare
+    CYTHON_UNUSED_VAR(cause);
+    Py_XINCREF(type);
+    if (!value || value == Py_None)
+        value = NULL;
+    else
+        Py_INCREF(value);
+    if (!tb || tb == Py_None)
+        tb = NULL;
+    else {
+        Py_INCREF(tb);
+        if (!PyTraceBack_Check(tb)) {
+            PyErr_SetString(PyExc_TypeError,
+                "raise: arg 3 must be a traceback or None");
+            goto raise_error;
+        }
     }
-    tmp_value = tstate->current_exception;
-    tstate->current_exception = value;
-    Py_XDECREF(tmp_value);
-    Py_XDECREF(type);
-    Py_XDECREF(tb);
-#else
-    PyObject *tmp_type, *tmp_value, *tmp_tb;
-    tmp_type = tstate->curexc_type;
-    tmp_value = tstate->curexc_value;
-    tmp_tb = tstate->curexc_traceback;
-    tstate->curexc_type = type;
-    tstate->curexc_value = value;
-    tstate->curexc_traceback = tb;
-    Py_XDECREF(tmp_type);
-    Py_XDECREF(tmp_value);
-    Py_XDECREF(tmp_tb);
+    if (PyType_Check(type)) {
+#if CYTHON_COMPILING_IN_PYPY
+        if (!value) {
+            Py_INCREF(Py_None);
+            value = Py_None;
+        }
 #endif
-}
-static CYTHON_INLINE void __Pyx_ErrFetchInState(PyThreadState *tstate, PyObject **type, PyObject **value, PyObject **tb) {
-#if PY_VERSION_HEX >= 0x030C00A6
-    PyObject* exc_value;
-    exc_value = tstate->current_exception;
-    tstate->current_exception = 0;
-    *value = exc_value;
-    *type = NULL;
-    *tb = NULL;
-    if (exc_value) {
-        *type = (PyObject*) Py_TYPE(exc_value);
-        Py_INCREF(*type);
-        #if CYTHON_COMPILING_IN_CPYTHON
-        *tb = ((PyBaseExceptionObject*) exc_value)->traceback;
-        Py_XINCREF(*tb);
-        #else
-        *tb = PyException_GetTraceback(exc_value);
-        #endif
+        PyErr_NormalizeException(&type, &value, &tb);
+    } else {
+        if (value) {
+            PyErr_SetString(PyExc_TypeError,
+                "instance exception may not have a separate value");
+            goto raise_error;
+        }
+        value = type;
+        type = (PyObject*) Py_TYPE(type);
+        Py_INCREF(type);
+        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
+            PyErr_SetString(PyExc_TypeError,
+                "raise: exception class must be a subclass of BaseException");
+            goto raise_error;
+        }
     }
-#else
-    *type = tstate->curexc_type;
-    *value = tstate->curexc_value;
-    *tb = tstate->curexc_traceback;
-    tstate->curexc_type = 0;
-    tstate->curexc_value = 0;
-    tstate->curexc_traceback = 0;
-#endif
-}
-#endif
-
-/* PyObjectGetAttrStrNoError */
-#if __PYX_LIMITED_VERSION_HEX < 0x030d00A1
-static void __Pyx_PyObject_GetAttrStr_ClearAttributeError(void) {
-    __Pyx_PyThreadState_declare
     __Pyx_PyThreadState_assign
-    if (likely(__Pyx_PyErr_ExceptionMatches(PyExc_AttributeError)))
-        __Pyx_PyErr_Clear();
+    __Pyx_ErrRestore(type, value, tb);
+    return;
+raise_error:
+    Py_XDECREF(value);
+    Py_XDECREF(type);
+    Py_XDECREF(tb);
+    return;
 }
-#endif
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GetAttrStrNoError(PyObject* obj, PyObject* attr_name) {
-    PyObject *result;
-#if __PYX_LIMITED_VERSION_HEX >= 0x030d00A1
-    (void) PyObject_GetOptionalAttr(obj, attr_name, &result);
-    return result;
 #else
-#if CYTHON_COMPILING_IN_CPYTHON && CYTHON_USE_TYPE_SLOTS && PY_VERSION_HEX >= 0x030700B1
-    PyTypeObject* tp = Py_TYPE(obj);
-    if (likely(tp->tp_getattro == PyObject_GenericGetAttr)) {
-        return _PyObject_GenericGetAttrWithDict(obj, attr_name, NULL, 1);
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
+    PyObject* owned_instance = NULL;
+    if (tb == Py_None) {
+        tb = 0;
+    } else if (tb && !PyTraceBack_Check(tb)) {
+        PyErr_SetString(PyExc_TypeError,
+            "raise: arg 3 must be a traceback or None");
+        goto bad;
     }
-#endif
-    result = __Pyx_PyObject_GetAttrStr(obj, attr_name);
-    if (unlikely(!result)) {
-        __Pyx_PyObject_GetAttrStr_ClearAttributeError();
+    if (value == Py_None)
+        value = 0;
+    if (PyExceptionInstance_Check(type)) {
+        if (value) {
+            PyErr_SetString(PyExc_TypeError,
+                "instance exception may not have a separate value");
+            goto bad;
+        }
+        value = type;
+        type = (PyObject*) Py_TYPE(value);
+    } else if (PyExceptionClass_Check(type)) {
+        PyObject *instance_class = NULL;
+        if (value && PyExceptionInstance_Check(value)) {
+            instance_class = (PyObject*) Py_TYPE(value);
+            if (instance_class != type) {
+                int is_subclass = PyObject_IsSubclass(instance_class, type);
+                if (!is_subclass) {
+                    instance_class = NULL;
+                } else if (unlikely(is_subclass == -1)) {
+                    goto bad;
+                } else {
+                    type = instance_class;
+                }
+            }
+        }
+        if (!instance_class) {
+            PyObject *args;
+            if (!value)
+                args = PyTuple_New(0);
+            else if (PyTuple_Check(value)) {
+                Py_INCREF(value);
+                args = value;
+            } else
+                args = PyTuple_Pack(1, value);
+            if (!args)
+                goto bad;
+            owned_instance = PyObject_Call(type, args, NULL);
+            Py_DECREF(args);
+            if (!owned_instance)
+                goto bad;
+            value = owned_instance;
+            if (!PyExceptionInstance_Check(value)) {
+                PyErr_Format(PyExc_TypeError,
+                             "calling %R should have returned an instance of "
+                             "BaseException, not %R",
+                             type, Py_TYPE(value));
+                goto bad;
+            }
+        }
+    } else {
+        PyErr_SetString(PyExc_TypeError,
+            "raise: exception class must be a subclass of BaseException");
+        goto bad;
     }
-    return result;
+    if (cause) {
+        PyObject *fixed_cause;
+        if (cause == Py_None) {
+            fixed_cause = NULL;
+        } else if (PyExceptionClass_Check(cause)) {
+            fixed_cause = PyObject_CallObject(cause, NULL);
+            if (fixed_cause == NULL)
+                goto bad;
+        } else if (PyExceptionInstance_Check(cause)) {
+            fixed_cause = cause;
+            Py_INCREF(fixed_cause);
+        } else {
+            PyErr_SetString(PyExc_TypeError,
+                            "exception causes must derive from "
+                            "BaseException");
+            goto bad;
+        }
+        PyException_SetCause(value, fixed_cause);
+    }
+    PyErr_SetObject(type, value);
+    if (tb) {
+      #if PY_VERSION_HEX >= 0x030C00A6
+        PyException_SetTraceback(value, tb);
+      #elif CYTHON_FAST_THREAD_STATE
+        PyThreadState *tstate = __Pyx_PyThreadState_Current;
+        PyObject* tmp_tb = tstate->curexc_traceback;
+        if (tb != tmp_tb) {
+            Py_INCREF(tb);
+            tstate->curexc_traceback = tb;
+            Py_XDECREF(tmp_tb);
+        }
+#else
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
 #endif
+    }
+bad:
+    Py_XDECREF(owned_instance);
+    return;
 }
+#endif
 
 /* PyObjectLookupSpecial */
 #if CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
 static CYTHON_INLINE PyObject* __Pyx__PyObject_LookupSpecial(PyObject* obj, PyObject* attr_name, int with_error) {
     PyObject *res;
     PyTypeObject *tp = Py_TYPE(obj);
 #if PY_MAJOR_VERSION < 3
@@ -10151,39 +10124,14 @@
     Py_XDECREF(kwtuple);
 done:
     Py_LeaveRecursiveCall();
     return result;
 }
 #endif
 
-/* PyObjectCall */
-#if CYTHON_COMPILING_IN_CPYTHON
-static CYTHON_INLINE PyObject* __Pyx_PyObject_Call(PyObject *func, PyObject *arg, PyObject *kw) {
-    PyObject *result;
-    ternaryfunc call = Py_TYPE(func)->tp_call;
-    if (unlikely(!call))
-        return PyObject_Call(func, arg, kw);
-    #if PY_MAJOR_VERSION < 3
-    if (unlikely(Py_EnterRecursiveCall((char*)" while calling a Python object")))
-        return NULL;
-    #else
-    if (unlikely(Py_EnterRecursiveCall(" while calling a Python object")))
-        return NULL;
-    #endif
-    result = (*call)(func, arg, kw);
-    Py_LeaveRecursiveCall();
-    if (unlikely(!result) && unlikely(!PyErr_Occurred())) {
-        PyErr_SetString(
-            PyExc_SystemError,
-            "NULL result without error in PyObject_Call");
-    }
-    return result;
-}
-#endif
-
 /* PyObjectCallMethO */
 #if CYTHON_COMPILING_IN_CPYTHON
 static CYTHON_INLINE PyObject* __Pyx_PyObject_CallMethO(PyObject *func, PyObject *arg) {
     PyObject *self, *result;
     PyCFunction cfunc;
     cfunc = __Pyx_CyOrPyCFunction_GET_FUNCTION(func);
     self = __Pyx_CyOrPyCFunction_GET_SELF(func);
@@ -10456,28 +10404,14 @@
     *tb = 0;
     Py_XDECREF(local_type);
     Py_XDECREF(local_value);
     Py_XDECREF(local_tb);
     return -1;
 }
 
-/* GetBuiltinName */
-static PyObject *__Pyx_GetBuiltinName(PyObject *name) {
-    PyObject* result = __Pyx_PyObject_GetAttrStrNoError(__pyx_b, name);
-    if (unlikely(!result) && !PyErr_Occurred()) {
-        PyErr_Format(PyExc_NameError,
-#if PY_MAJOR_VERSION >= 3
-            "name '%U' is not defined", name);
-#else
-            "name '%.200s' is not defined", PyString_AS_STRING(name));
-#endif
-    }
-    return result;
-}
-
 /* PyDictVersioning */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj) {
     PyObject *dict = Py_TYPE(obj)->tp_dict;
     return likely(dict) ? __PYX_GET_DICT_VERSION(dict) : 0;
 }
 static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj) {
@@ -10859,96 +10793,14 @@
         "Argument '%.200s' has incorrect type (expected " __Pyx_FMT_TYPENAME
         ", got " __Pyx_FMT_TYPENAME ")", name, type_name, obj_type_name);
     __Pyx_DECREF_TypeName(type_name);
     __Pyx_DECREF_TypeName(obj_type_name);
     return 0;
 }
 
-/* RaiseTooManyValuesToUnpack */
-static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected) {
-    PyErr_Format(PyExc_ValueError,
-                 "too many values to unpack (expected %" CYTHON_FORMAT_SSIZE_T "d)", expected);
-}
-
-/* RaiseNeedMoreValuesToUnpack */
-static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index) {
-    PyErr_Format(PyExc_ValueError,
-                 "need more than %" CYTHON_FORMAT_SSIZE_T "d value%.1s to unpack",
-                 index, (index == 1) ? "" : "s");
-}
-
-/* IterFinish */
-static CYTHON_INLINE int __Pyx_IterFinish(void) {
-    PyObject* exc_type;
-    __Pyx_PyThreadState_declare
-    __Pyx_PyThreadState_assign
-    exc_type = __Pyx_PyErr_CurrentExceptionType();
-    if (unlikely(exc_type)) {
-        if (unlikely(!__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))
-            return -1;
-        __Pyx_PyErr_Clear();
-        return 0;
-    }
-    return 0;
-}
-
-/* UnpackItemEndCheck */
-static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected) {
-    if (unlikely(retval)) {
-        Py_DECREF(retval);
-        __Pyx_RaiseTooManyValuesError(expected);
-        return -1;
-    }
-    return __Pyx_IterFinish();
-}
-
-/* WriteUnraisableException */
-static void __Pyx_WriteUnraisable(const char *name, int clineno,
-                                  int lineno, const char *filename,
-                                  int full_traceback, int nogil) {
-    PyObject *old_exc, *old_val, *old_tb;
-    PyObject *ctx;
-    __Pyx_PyThreadState_declare
-#ifdef WITH_THREAD
-    PyGILState_STATE state;
-    if (nogil)
-        state = PyGILState_Ensure();
-    else state = (PyGILState_STATE)0;
-#endif
-    CYTHON_UNUSED_VAR(clineno);
-    CYTHON_UNUSED_VAR(lineno);
-    CYTHON_UNUSED_VAR(filename);
-    CYTHON_MAYBE_UNUSED_VAR(nogil);
-    __Pyx_PyThreadState_assign
-    __Pyx_ErrFetch(&old_exc, &old_val, &old_tb);
-    if (full_traceback) {
-        Py_XINCREF(old_exc);
-        Py_XINCREF(old_val);
-        Py_XINCREF(old_tb);
-        __Pyx_ErrRestore(old_exc, old_val, old_tb);
-        PyErr_PrintEx(1);
-    }
-    #if PY_MAJOR_VERSION < 3
-    ctx = PyString_FromString(name);
-    #else
-    ctx = PyUnicode_FromString(name);
-    #endif
-    __Pyx_ErrRestore(old_exc, old_val, old_tb);
-    if (!ctx) {
-        PyErr_WriteUnraisable(Py_None);
-    } else {
-        PyErr_WriteUnraisable(ctx);
-        Py_DECREF(ctx);
-    }
-#ifdef WITH_THREAD
-    if (nogil)
-        PyGILState_Release(state);
-#endif
-}
-
 /* decode_c_bytes */
 static CYTHON_INLINE PyObject* __Pyx_decode_c_bytes(
          const char* cstring, Py_ssize_t length, Py_ssize_t start, Py_ssize_t stop,
          const char* encoding, const char* errors,
          PyObject* (*decode_func)(const char *s, Py_ssize_t size, const char *errors)) {
     if (unlikely((start < 0) | (stop < 0))) {
         if (start < 0) {
@@ -11063,27 +10915,109 @@
     if (is_list || !PyMapping_Check(o)) {
         return PySequence_GetItem(o, i);
     }
 #endif
     return __Pyx_GetItemInt_Generic(o, PyInt_FromSsize_t(i));
 }
 
+/* RaiseTooManyValuesToUnpack */
+static CYTHON_INLINE void __Pyx_RaiseTooManyValuesError(Py_ssize_t expected) {
+    PyErr_Format(PyExc_ValueError,
+                 "too many values to unpack (expected %" CYTHON_FORMAT_SSIZE_T "d)", expected);
+}
+
+/* RaiseNeedMoreValuesToUnpack */
+static CYTHON_INLINE void __Pyx_RaiseNeedMoreValuesError(Py_ssize_t index) {
+    PyErr_Format(PyExc_ValueError,
+                 "need more than %" CYTHON_FORMAT_SSIZE_T "d value%.1s to unpack",
+                 index, (index == 1) ? "" : "s");
+}
+
+/* IterFinish */
+static CYTHON_INLINE int __Pyx_IterFinish(void) {
+    PyObject* exc_type;
+    __Pyx_PyThreadState_declare
+    __Pyx_PyThreadState_assign
+    exc_type = __Pyx_PyErr_CurrentExceptionType();
+    if (unlikely(exc_type)) {
+        if (unlikely(!__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration)))
+            return -1;
+        __Pyx_PyErr_Clear();
+        return 0;
+    }
+    return 0;
+}
+
+/* UnpackItemEndCheck */
+static int __Pyx_IternextUnpackEndCheck(PyObject *retval, Py_ssize_t expected) {
+    if (unlikely(retval)) {
+        Py_DECREF(retval);
+        __Pyx_RaiseTooManyValuesError(expected);
+        return -1;
+    }
+    return __Pyx_IterFinish();
+}
+
 /* append */
 static CYTHON_INLINE int __Pyx_PyObject_Append(PyObject* L, PyObject* x) {
     if (likely(PyList_CheckExact(L))) {
         if (unlikely(__Pyx_PyList_Append(L, x) < 0)) return -1;
     } else {
         PyObject* retval = __Pyx_PyObject_CallMethod1(L, __pyx_n_s_append, x);
         if (unlikely(!retval))
             return -1;
         Py_DECREF(retval);
     }
     return 0;
 }
 
+/* WriteUnraisableException */
+static void __Pyx_WriteUnraisable(const char *name, int clineno,
+                                  int lineno, const char *filename,
+                                  int full_traceback, int nogil) {
+    PyObject *old_exc, *old_val, *old_tb;
+    PyObject *ctx;
+    __Pyx_PyThreadState_declare
+#ifdef WITH_THREAD
+    PyGILState_STATE state;
+    if (nogil)
+        state = PyGILState_Ensure();
+    else state = (PyGILState_STATE)0;
+#endif
+    CYTHON_UNUSED_VAR(clineno);
+    CYTHON_UNUSED_VAR(lineno);
+    CYTHON_UNUSED_VAR(filename);
+    CYTHON_MAYBE_UNUSED_VAR(nogil);
+    __Pyx_PyThreadState_assign
+    __Pyx_ErrFetch(&old_exc, &old_val, &old_tb);
+    if (full_traceback) {
+        Py_XINCREF(old_exc);
+        Py_XINCREF(old_val);
+        Py_XINCREF(old_tb);
+        __Pyx_ErrRestore(old_exc, old_val, old_tb);
+        PyErr_PrintEx(1);
+    }
+    #if PY_MAJOR_VERSION < 3
+    ctx = PyString_FromString(name);
+    #else
+    ctx = PyUnicode_FromString(name);
+    #endif
+    __Pyx_ErrRestore(old_exc, old_val, old_tb);
+    if (!ctx) {
+        PyErr_WriteUnraisable(Py_None);
+    } else {
+        PyErr_WriteUnraisable(ctx);
+        Py_DECREF(ctx);
+    }
+#ifdef WITH_THREAD
+    if (nogil)
+        PyGILState_Release(state);
+#endif
+}
+
 /* Import */
 static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list, int level) {
     PyObject *module = 0;
     PyObject *empty_dict = 0;
     PyObject *empty_list = 0;
     #if PY_MAJOR_VERSION < 3
     PyObject *py_import;
@@ -11147,15 +11081,15 @@
         PyObject* module_dot = 0;
         PyObject* full_name = 0;
         PyErr_Clear();
         module_name_str = PyModule_GetName(module);
         if (unlikely(!module_name_str)) { goto modbad; }
         module_name = PyUnicode_FromString(module_name_str);
         if (unlikely(!module_name)) { goto modbad; }
-        module_dot = PyUnicode_Concat(module_name, __pyx_kp_u__5);
+        module_dot = PyUnicode_Concat(module_name, __pyx_kp_u__6);
         if (unlikely(!module_dot)) { goto modbad; }
         full_name = PyUnicode_Concat(module_dot, name);
         if (unlikely(!full_name)) { goto modbad; }
         #if PY_VERSION_HEX < 0x030700A1 || (CYTHON_COMPILING_IN_PYPY && PYPY_VERSION_NUM  < 0x07030400)
         {
             PyObject *modules = PyImport_GetModuleDict();
             if (unlikely(!modules))
@@ -11177,175 +11111,14 @@
         #else
             "cannot import name %S", name);
         #endif
     }
     return value;
 }
 
-/* RaiseException */
-#if PY_MAJOR_VERSION < 3
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
-    __Pyx_PyThreadState_declare
-    CYTHON_UNUSED_VAR(cause);
-    Py_XINCREF(type);
-    if (!value || value == Py_None)
-        value = NULL;
-    else
-        Py_INCREF(value);
-    if (!tb || tb == Py_None)
-        tb = NULL;
-    else {
-        Py_INCREF(tb);
-        if (!PyTraceBack_Check(tb)) {
-            PyErr_SetString(PyExc_TypeError,
-                "raise: arg 3 must be a traceback or None");
-            goto raise_error;
-        }
-    }
-    if (PyType_Check(type)) {
-#if CYTHON_COMPILING_IN_PYPY
-        if (!value) {
-            Py_INCREF(Py_None);
-            value = Py_None;
-        }
-#endif
-        PyErr_NormalizeException(&type, &value, &tb);
-    } else {
-        if (value) {
-            PyErr_SetString(PyExc_TypeError,
-                "instance exception may not have a separate value");
-            goto raise_error;
-        }
-        value = type;
-        type = (PyObject*) Py_TYPE(type);
-        Py_INCREF(type);
-        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
-            PyErr_SetString(PyExc_TypeError,
-                "raise: exception class must be a subclass of BaseException");
-            goto raise_error;
-        }
-    }
-    __Pyx_PyThreadState_assign
-    __Pyx_ErrRestore(type, value, tb);
-    return;
-raise_error:
-    Py_XDECREF(value);
-    Py_XDECREF(type);
-    Py_XDECREF(tb);
-    return;
-}
-#else
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
-    PyObject* owned_instance = NULL;
-    if (tb == Py_None) {
-        tb = 0;
-    } else if (tb && !PyTraceBack_Check(tb)) {
-        PyErr_SetString(PyExc_TypeError,
-            "raise: arg 3 must be a traceback or None");
-        goto bad;
-    }
-    if (value == Py_None)
-        value = 0;
-    if (PyExceptionInstance_Check(type)) {
-        if (value) {
-            PyErr_SetString(PyExc_TypeError,
-                "instance exception may not have a separate value");
-            goto bad;
-        }
-        value = type;
-        type = (PyObject*) Py_TYPE(value);
-    } else if (PyExceptionClass_Check(type)) {
-        PyObject *instance_class = NULL;
-        if (value && PyExceptionInstance_Check(value)) {
-            instance_class = (PyObject*) Py_TYPE(value);
-            if (instance_class != type) {
-                int is_subclass = PyObject_IsSubclass(instance_class, type);
-                if (!is_subclass) {
-                    instance_class = NULL;
-                } else if (unlikely(is_subclass == -1)) {
-                    goto bad;
-                } else {
-                    type = instance_class;
-                }
-            }
-        }
-        if (!instance_class) {
-            PyObject *args;
-            if (!value)
-                args = PyTuple_New(0);
-            else if (PyTuple_Check(value)) {
-                Py_INCREF(value);
-                args = value;
-            } else
-                args = PyTuple_Pack(1, value);
-            if (!args)
-                goto bad;
-            owned_instance = PyObject_Call(type, args, NULL);
-            Py_DECREF(args);
-            if (!owned_instance)
-                goto bad;
-            value = owned_instance;
-            if (!PyExceptionInstance_Check(value)) {
-                PyErr_Format(PyExc_TypeError,
-                             "calling %R should have returned an instance of "
-                             "BaseException, not %R",
-                             type, Py_TYPE(value));
-                goto bad;
-            }
-        }
-    } else {
-        PyErr_SetString(PyExc_TypeError,
-            "raise: exception class must be a subclass of BaseException");
-        goto bad;
-    }
-    if (cause) {
-        PyObject *fixed_cause;
-        if (cause == Py_None) {
-            fixed_cause = NULL;
-        } else if (PyExceptionClass_Check(cause)) {
-            fixed_cause = PyObject_CallObject(cause, NULL);
-            if (fixed_cause == NULL)
-                goto bad;
-        } else if (PyExceptionInstance_Check(cause)) {
-            fixed_cause = cause;
-            Py_INCREF(fixed_cause);
-        } else {
-            PyErr_SetString(PyExc_TypeError,
-                            "exception causes must derive from "
-                            "BaseException");
-            goto bad;
-        }
-        PyException_SetCause(value, fixed_cause);
-    }
-    PyErr_SetObject(type, value);
-    if (tb) {
-      #if PY_VERSION_HEX >= 0x030C00A6
-        PyException_SetTraceback(value, tb);
-      #elif CYTHON_FAST_THREAD_STATE
-        PyThreadState *tstate = __Pyx_PyThreadState_Current;
-        PyObject* tmp_tb = tstate->curexc_traceback;
-        if (tb != tmp_tb) {
-            Py_INCREF(tb);
-            tstate->curexc_traceback = tb;
-            Py_XDECREF(tmp_tb);
-        }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
-#endif
-    }
-bad:
-    Py_XDECREF(owned_instance);
-    return;
-}
-#endif
-
 /* GetAttr */
 static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
 #if CYTHON_USE_TYPE_SLOTS
 #if PY_MAJOR_VERSION >= 3
     if (likely(PyUnicode_Check(n)))
 #else
     if (likely(PyString_Check(n)))
@@ -11874,15 +11647,15 @@
         return __Pyx__ImportDottedModule_Error(name, parts_tuple, i);
     }
     return module;
 }
 #endif
 static PyObject *__Pyx__ImportDottedModule(PyObject *name, PyObject *parts_tuple) {
 #if PY_MAJOR_VERSION < 3
-    PyObject *module, *from_list, *star = __pyx_n_s__6;
+    PyObject *module, *from_list, *star = __pyx_n_s__7;
     CYTHON_UNUSED_VAR(parts_tuple);
     from_list = PyList_New(1);
     if (unlikely(!from_list))
         return NULL;
     Py_INCREF(star);
     PyList_SET_ITEM(from_list, 0, star);
     module = __Pyx_Import(name, from_list, 0);
@@ -14188,15 +13961,15 @@
 __Pyx_PyType_GetName(PyTypeObject* tp)
 {
     PyObject *name = __Pyx_PyObject_GetAttrStr((PyObject *)tp,
                                                __pyx_n_s_name_2);
     if (unlikely(name == NULL) || unlikely(!PyUnicode_Check(name))) {
         PyErr_Clear();
         Py_XDECREF(name);
-        name = __Pyx_NewRef(__pyx_n_s__32);
+        name = __Pyx_NewRef(__pyx_n_s__30);
     }
     return name;
 }
 #endif
 
 /* FastTypeChecks */
 #if CYTHON_COMPILING_IN_CPYTHON
```

### Comparing `pyav-12.0.5/src/av/option.c` & `pyav-12.1.0rc1/src/av/option.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2247,15 +2279,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -6744,19 +6776,19 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "flag_in_bitfield", (void (**)(void))&__pyx_f_2av_5utils_flag_in_bitfield, "PyObject *(uint64_t, uint64_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "flag_in_bitfield", (void (**)(void))&__pyx_f_2av_5utils_flag_in_bitfield, "PyObject *(uint64_t, uint64_t)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -12369,17 +12401,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/packet.c` & `pyav-12.1.0rc1/src/av/packet.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1657,15 +1689,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1777,31 +1809,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2011,16 +2043,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2052,14 +2084,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2470,30 +2503,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2793,15 +2826,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static size_t __pyx_f_2av_6packet_6Packet__buffer_size(struct __pyx_obj_2av_6packet_Packet *__pyx_v_self); /* proto*/
 static void *__pyx_f_2av_6packet_6Packet__buffer_ptr(struct __pyx_obj_2av_6packet_Packet *__pyx_v_self); /* proto*/
@@ -6670,15 +6703,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = &__pyx_vtable_2av_6packet_Packet;
   __pyx_vtable_2av_6packet_Packet.__pyx_base = *__pyx_vtabptr_2av_6buffer_Buffer;
   __pyx_vtable_2av_6packet_Packet.__pyx_base._buffer_size = (size_t (*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_6packet_6Packet__buffer_size;
   __pyx_vtable_2av_6packet_Packet.__pyx_base._buffer_ptr = (void *(*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_6packet_6Packet__buffer_ptr;
   __pyx_vtable_2av_6packet_Packet._rebase_time = (PyObject *(*)(struct __pyx_obj_2av_6packet_Packet *, AVRational))__pyx_f_2av_6packet_6Packet__rebase_time;
   #if CYTHON_USE_TYPE_SPECS
@@ -6729,63 +6762,63 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(5, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(5, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(5, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(5, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(5, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(6, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(6, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(6, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(7, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(7, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(7, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(8, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(8, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -6806,28 +6839,28 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "bytesource", (void (**)(void))&__pyx_f_2av_10bytesource_bytesource, "struct __pyx_obj_2av_10bytesource_ByteSource *(PyObject *, struct __pyx_opt_args_2av_10bytesource_bytesource *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "bytesource", (void (**)(void))&__pyx_f_2av_10bytesource_bytesource, "struct __pyx_obj_2av_10bytesource_ByteSource *(PyObject *, struct __pyx_opt_args_2av_10bytesource_bytesource *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -8636,18 +8669,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -8693,23 +8726,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -12338,17 +12371,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/plane.c` & `pyav-12.1.0rc1/src/av/plane.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1639,15 +1671,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1879,31 +1911,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -1981,14 +2013,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2075,16 +2108,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2444,30 +2477,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2760,15 +2793,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static void *__pyx_f_2av_5plane_5Plane__buffer_ptr(struct __pyx_obj_2av_5plane_Plane *__pyx_v_self); /* proto*/
 
@@ -4161,15 +4194,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(0, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(0, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(0, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_5plane_Plane = &__pyx_vtable_2av_5plane_Plane;
   __pyx_vtable_2av_5plane_Plane.__pyx_base = *__pyx_vtabptr_2av_6buffer_Buffer;
   __pyx_vtable_2av_5plane_Plane.__pyx_base._buffer_ptr = (void *(*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_5plane_5Plane__buffer_ptr;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
@@ -4218,68 +4251,68 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(4, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(4, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(4, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(5, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(5, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(9, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(9, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(9, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(10, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(10, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(10, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(11, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(11, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(11, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(12, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(12, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(12, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(13, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(13, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(13, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -4300,15 +4333,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 2, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5930,18 +5963,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -5987,23 +6020,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -8958,17 +8991,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/sidedata/motionvectors.c` & `pyav-12.1.0rc1/src/av/sidedata/motionvectors.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1641,15 +1673,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1881,31 +1913,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -1997,14 +2029,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2091,16 +2124,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2515,30 +2548,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2893,15 +2926,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -6777,15 +6810,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_13motionvectors__MotionVectors = &__pyx_vtable_2av_8sidedata_13motionvectors__MotionVectors;
   __pyx_vtable_2av_8sidedata_13motionvectors__MotionVectors.__pyx_base = *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_ptype_2av_8sidedata_13motionvectors__MotionVectors = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_8sidedata_13motionvectors__MotionVectors_spec, __pyx_t_2);
@@ -6856,71 +6889,71 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
-  __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 18, __pyx_L1_error)
+  __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 17, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -6941,15 +6974,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -9246,18 +9279,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9303,23 +9336,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -13099,17 +13132,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/sidedata/sidedata.c` & `pyav-12.1.0rc1/src/av/sidedata/sidedata.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1637,15 +1669,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1905,31 +1937,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -1990,14 +2022,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2082,15 +2115,15 @@
   PyObject *(*_rebase_time)(struct __pyx_obj_2av_5frame_Frame *, AVRational);
   PyObject *(*_copy_internal_attributes)(struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_opt_args_2av_5frame_5Frame__copy_internal_attributes *__pyx_optional_args);
   PyObject *(*_init_user_attributes)(struct __pyx_obj_2av_5frame_Frame *);
 };
 static struct __pyx_vtabstruct_2av_5frame_Frame *__pyx_vtabptr_2av_5frame_Frame;
 
 
-/* "av/sidedata/sidedata.pyx":40
+/* "av/sidedata/sidedata.pyx":41
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
  *     def __init__(self, sentinel, Frame frame, int index):
  *         if sentinel is not _cinit_bypass_sentinel:
  */
 
@@ -2577,30 +2610,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2899,15 +2932,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static size_t __pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_size(struct __pyx_obj_2av_8sidedata_8sidedata_SideData *__pyx_v_self); /* proto*/
 static void *__pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_ptr(struct __pyx_obj_2av_8sidedata_8sidedata_SideData *__pyx_v_self); /* proto*/
@@ -3029,14 +3062,15 @@
 static const char __pyx_k_SKIP_SAMPLES[] = "SKIP_SAMPLES";
 static const char __pyx_k_is_coroutine[] = "_is_coroutine";
 static const char __pyx_k_pyx_checksum[] = "__pyx_checksum";
 static const char __pyx_k_stringsource[] = "<stringsource>";
 static const char __pyx_k_use_setstate[] = "use_setstate";
 static const char __pyx_k_DISPLAYMATRIX[] = "DISPLAYMATRIX";
 static const char __pyx_k_MotionVectors[] = "MotionVectors";
+static const char __pyx_k_S12M_TIMECODE[] = "S12M_TIMECODE";
 static const char __pyx_k_class_getitem[] = "__class_getitem__";
 static const char __pyx_k_init_subclass[] = "__init_subclass__";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
 static const char __pyx_k_MATRIXENCODING[] = "MATRIXENCODING";
 static const char __pyx_k_MOTION_VECTORS[] = "MOTION_VECTORS";
 static const char __pyx_k_collections_abc[] = "collections.abc";
 static const char __pyx_k_pyx_PickleError[] = "__pyx_PickleError";
@@ -3166,14 +3200,15 @@
   PyObject *__pyx_n_s_MOTION_VECTORS;
   PyObject *__pyx_n_s_Mapping;
   PyObject *__pyx_n_s_MotionVectors;
   PyObject *__pyx_n_s_PANSCAN;
   PyObject *__pyx_n_s_PickleError;
   PyObject *__pyx_n_s_REPLAYGAIN;
   PyObject *__pyx_n_s_RuntimeError;
+  PyObject *__pyx_n_s_S12M_TIMECODE;
   PyObject *__pyx_n_s_SEI_UNREGISTERED;
   PyObject *__pyx_n_s_SKIP_SAMPLES;
   PyObject *__pyx_n_s_SPHERICAL;
   PyObject *__pyx_n_s_STEREO3D;
   PyObject *__pyx_n_s_SideData;
   PyObject *__pyx_n_s_SideDataContainer;
   PyObject *__pyx_n_s_SideDataContainer_2;
@@ -3333,14 +3368,15 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_MOTION_VECTORS);
   Py_CLEAR(clear_module_state->__pyx_n_s_Mapping);
   Py_CLEAR(clear_module_state->__pyx_n_s_MotionVectors);
   Py_CLEAR(clear_module_state->__pyx_n_s_PANSCAN);
   Py_CLEAR(clear_module_state->__pyx_n_s_PickleError);
   Py_CLEAR(clear_module_state->__pyx_n_s_REPLAYGAIN);
   Py_CLEAR(clear_module_state->__pyx_n_s_RuntimeError);
+  Py_CLEAR(clear_module_state->__pyx_n_s_S12M_TIMECODE);
   Py_CLEAR(clear_module_state->__pyx_n_s_SEI_UNREGISTERED);
   Py_CLEAR(clear_module_state->__pyx_n_s_SKIP_SAMPLES);
   Py_CLEAR(clear_module_state->__pyx_n_s_SPHERICAL);
   Py_CLEAR(clear_module_state->__pyx_n_s_STEREO3D);
   Py_CLEAR(clear_module_state->__pyx_n_s_SideData);
   Py_CLEAR(clear_module_state->__pyx_n_s_SideDataContainer);
   Py_CLEAR(clear_module_state->__pyx_n_s_SideDataContainer_2);
@@ -3478,14 +3514,15 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_MOTION_VECTORS);
   Py_VISIT(traverse_module_state->__pyx_n_s_Mapping);
   Py_VISIT(traverse_module_state->__pyx_n_s_MotionVectors);
   Py_VISIT(traverse_module_state->__pyx_n_s_PANSCAN);
   Py_VISIT(traverse_module_state->__pyx_n_s_PickleError);
   Py_VISIT(traverse_module_state->__pyx_n_s_REPLAYGAIN);
   Py_VISIT(traverse_module_state->__pyx_n_s_RuntimeError);
+  Py_VISIT(traverse_module_state->__pyx_n_s_S12M_TIMECODE);
   Py_VISIT(traverse_module_state->__pyx_n_s_SEI_UNREGISTERED);
   Py_VISIT(traverse_module_state->__pyx_n_s_SKIP_SAMPLES);
   Py_VISIT(traverse_module_state->__pyx_n_s_SPHERICAL);
   Py_VISIT(traverse_module_state->__pyx_n_s_STEREO3D);
   Py_VISIT(traverse_module_state->__pyx_n_s_SideData);
   Py_VISIT(traverse_module_state->__pyx_n_s_SideDataContainer);
   Py_VISIT(traverse_module_state->__pyx_n_s_SideDataContainer_2);
@@ -3665,14 +3702,15 @@
 #define __pyx_n_s_MOTION_VECTORS __pyx_mstate_global->__pyx_n_s_MOTION_VECTORS
 #define __pyx_n_s_Mapping __pyx_mstate_global->__pyx_n_s_Mapping
 #define __pyx_n_s_MotionVectors __pyx_mstate_global->__pyx_n_s_MotionVectors
 #define __pyx_n_s_PANSCAN __pyx_mstate_global->__pyx_n_s_PANSCAN
 #define __pyx_n_s_PickleError __pyx_mstate_global->__pyx_n_s_PickleError
 #define __pyx_n_s_REPLAYGAIN __pyx_mstate_global->__pyx_n_s_REPLAYGAIN
 #define __pyx_n_s_RuntimeError __pyx_mstate_global->__pyx_n_s_RuntimeError
+#define __pyx_n_s_S12M_TIMECODE __pyx_mstate_global->__pyx_n_s_S12M_TIMECODE
 #define __pyx_n_s_SEI_UNREGISTERED __pyx_mstate_global->__pyx_n_s_SEI_UNREGISTERED
 #define __pyx_n_s_SKIP_SAMPLES __pyx_mstate_global->__pyx_n_s_SKIP_SAMPLES
 #define __pyx_n_s_SPHERICAL __pyx_mstate_global->__pyx_n_s_SPHERICAL
 #define __pyx_n_s_STEREO3D __pyx_mstate_global->__pyx_n_s_STEREO3D
 #define __pyx_n_s_SideData __pyx_mstate_global->__pyx_n_s_SideData
 #define __pyx_n_s_SideDataContainer __pyx_mstate_global->__pyx_n_s_SideDataContainer
 #define __pyx_n_s_SideDataContainer_2 __pyx_mstate_global->__pyx_n_s_SideDataContainer_2
@@ -3757,15 +3795,15 @@
 #define __pyx_codeobj__7 __pyx_mstate_global->__pyx_codeobj__7
 #define __pyx_codeobj__9 __pyx_mstate_global->__pyx_codeobj__9
 #define __pyx_codeobj__11 __pyx_mstate_global->__pyx_codeobj__11
 #define __pyx_codeobj__12 __pyx_mstate_global->__pyx_codeobj__12
 #define __pyx_codeobj__14 __pyx_mstate_global->__pyx_codeobj__14
 /* #### Code section: module_code ### */
 
-/* "av/sidedata/sidedata.pyx":32
+/* "av/sidedata/sidedata.pyx":33
  * 
  * 
  * cdef SideData wrap_side_data(Frame frame, int index):             # <<<<<<<<<<<<<<
  *     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type
  *     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:
  */
 
@@ -3781,45 +3819,45 @@
   PyObject *__pyx_t_6 = NULL;
   int __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("wrap_side_data", 1);
 
-  /* "av/sidedata/sidedata.pyx":33
+  /* "av/sidedata/sidedata.pyx":34
  * 
  * cdef SideData wrap_side_data(Frame frame, int index):
  *     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type             # <<<<<<<<<<<<<<
  *     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:
  *         return MotionVectors(_cinit_bypass_sentinel, frame, index)
  */
   __pyx_t_1 = (__pyx_v_frame->ptr->side_data[__pyx_v_index])->type;
   __pyx_v_type_ = __pyx_t_1;
 
-  /* "av/sidedata/sidedata.pyx":34
+  /* "av/sidedata/sidedata.pyx":35
  * cdef SideData wrap_side_data(Frame frame, int index):
  *     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type
  *     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:             # <<<<<<<<<<<<<<
  *         return MotionVectors(_cinit_bypass_sentinel, frame, index)
  *     else:
  */
   __pyx_t_2 = (__pyx_v_type_ == AV_FRAME_DATA_MOTION_VECTORS);
   if (__pyx_t_2) {
 
-    /* "av/sidedata/sidedata.pyx":35
+    /* "av/sidedata/sidedata.pyx":36
  *     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type
  *     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:
  *         return MotionVectors(_cinit_bypass_sentinel, frame, index)             # <<<<<<<<<<<<<<
  *     else:
  *         return SideData(_cinit_bypass_sentinel, frame, index)
  */
     __Pyx_XDECREF((PyObject *)__pyx_r);
-    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_MotionVectors); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 35, __pyx_L1_error)
+    __Pyx_GetModuleGlobalName(__pyx_t_4, __pyx_n_s_MotionVectors); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 36, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
-    __pyx_t_5 = __Pyx_PyInt_From_int(__pyx_v_index); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 35, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyInt_From_int(__pyx_v_index); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 36, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_5);
     __pyx_t_6 = NULL;
     __pyx_t_7 = 0;
     #if CYTHON_UNPACK_METHODS
     if (unlikely(PyMethod_Check(__pyx_t_4))) {
       __pyx_t_6 = PyMethod_GET_SELF(__pyx_t_4);
       if (likely(__pyx_t_6)) {
@@ -3832,63 +3870,63 @@
     }
     #endif
     {
       PyObject *__pyx_callargs[4] = {__pyx_t_6, __pyx_v_2av_8sidedata_8sidedata__cinit_bypass_sentinel, ((PyObject *)__pyx_v_frame), __pyx_t_5};
       __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_7, 3+__pyx_t_7);
       __Pyx_XDECREF(__pyx_t_6); __pyx_t_6 = 0;
       __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 35, __pyx_L1_error)
+      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 36, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_3);
       __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     }
-    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_2av_8sidedata_8sidedata_SideData))))) __PYX_ERR(0, 35, __pyx_L1_error)
+    if (!(likely(((__pyx_t_3) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_3, __pyx_ptype_2av_8sidedata_8sidedata_SideData))))) __PYX_ERR(0, 36, __pyx_L1_error)
     __pyx_r = ((struct __pyx_obj_2av_8sidedata_8sidedata_SideData *)__pyx_t_3);
     __pyx_t_3 = 0;
     goto __pyx_L0;
 
-    /* "av/sidedata/sidedata.pyx":34
+    /* "av/sidedata/sidedata.pyx":35
  * cdef SideData wrap_side_data(Frame frame, int index):
  *     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type
  *     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:             # <<<<<<<<<<<<<<
  *         return MotionVectors(_cinit_bypass_sentinel, frame, index)
  *     else:
  */
   }
 
-  /* "av/sidedata/sidedata.pyx":37
+  /* "av/sidedata/sidedata.pyx":38
  *         return MotionVectors(_cinit_bypass_sentinel, frame, index)
  *     else:
  *         return SideData(_cinit_bypass_sentinel, frame, index)             # <<<<<<<<<<<<<<
  * 
  * 
  */
   /*else*/ {
     __Pyx_XDECREF((PyObject *)__pyx_r);
-    __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 37, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_index); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 38, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
-    __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 37, __pyx_L1_error)
+    __pyx_t_4 = PyTuple_New(3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 38, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_4);
     __Pyx_INCREF(__pyx_v_2av_8sidedata_8sidedata__cinit_bypass_sentinel);
     __Pyx_GIVEREF(__pyx_v_2av_8sidedata_8sidedata__cinit_bypass_sentinel);
-    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_2av_8sidedata_8sidedata__cinit_bypass_sentinel)) __PYX_ERR(0, 37, __pyx_L1_error);
+    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 0, __pyx_v_2av_8sidedata_8sidedata__cinit_bypass_sentinel)) __PYX_ERR(0, 38, __pyx_L1_error);
     __Pyx_INCREF((PyObject *)__pyx_v_frame);
     __Pyx_GIVEREF((PyObject *)__pyx_v_frame);
-    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 1, ((PyObject *)__pyx_v_frame))) __PYX_ERR(0, 37, __pyx_L1_error);
+    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 1, ((PyObject *)__pyx_v_frame))) __PYX_ERR(0, 38, __pyx_L1_error);
     __Pyx_GIVEREF(__pyx_t_3);
-    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_t_3)) __PYX_ERR(0, 37, __pyx_L1_error);
+    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_4, 2, __pyx_t_3)) __PYX_ERR(0, 38, __pyx_L1_error);
     __pyx_t_3 = 0;
-    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata_SideData), __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 37, __pyx_L1_error)
+    __pyx_t_3 = __Pyx_PyObject_Call(((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata_SideData), __pyx_t_4, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 38, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_3);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
     __pyx_r = ((struct __pyx_obj_2av_8sidedata_8sidedata_SideData *)__pyx_t_3);
     __pyx_t_3 = 0;
     goto __pyx_L0;
   }
 
-  /* "av/sidedata/sidedata.pyx":32
+  /* "av/sidedata/sidedata.pyx":33
  * 
  * 
  * cdef SideData wrap_side_data(Frame frame, int index):             # <<<<<<<<<<<<<<
  *     cdef lib.AVFrameSideDataType type_ = frame.ptr.side_data[index].type
  *     if type_ == lib.AV_FRAME_DATA_MOTION_VECTORS:
  */
 
@@ -3902,15 +3940,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF((PyObject *)__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":41
+/* "av/sidedata/sidedata.pyx":42
  * 
  * cdef class SideData(Buffer):
  *     def __init__(self, sentinel, Frame frame, int index):             # <<<<<<<<<<<<<<
  *         if sentinel is not _cinit_bypass_sentinel:
  *             raise RuntimeError("cannot manually instatiate SideData")
  */
 
@@ -3952,69 +3990,69 @@
       kw_args = __Pyx_NumKwargs_VARARGS(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_VARARGS(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_sentinel)) != 0)) {
           (void)__Pyx_Arg_NewRef_VARARGS(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 42, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
         CYTHON_FALLTHROUGH;
         case  1:
         if (likely((values[1] = __Pyx_GetKwValue_VARARGS(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_frame)) != 0)) {
           (void)__Pyx_Arg_NewRef_VARARGS(values[1]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 42, __pyx_L3_error)
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 41, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 1); __PYX_ERR(0, 42, __pyx_L3_error)
         }
         CYTHON_FALLTHROUGH;
         case  2:
         if (likely((values[2] = __Pyx_GetKwValue_VARARGS(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_index)) != 0)) {
           (void)__Pyx_Arg_NewRef_VARARGS(values[2]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 42, __pyx_L3_error)
         else {
-          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 41, __pyx_L3_error)
+          __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, 2); __PYX_ERR(0, 42, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__init__") < 0)) __PYX_ERR(0, 41, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__init__") < 0)) __PYX_ERR(0, 42, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 3)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_VARARGS(__pyx_args, 0);
       values[1] = __Pyx_Arg_VARARGS(__pyx_args, 1);
       values[2] = __Pyx_Arg_VARARGS(__pyx_args, 2);
     }
     __pyx_v_sentinel = values[0];
     __pyx_v_frame = ((struct __pyx_obj_2av_5frame_Frame *)values[1]);
-    __pyx_v_index = __Pyx_PyInt_As_int(values[2]); if (unlikely((__pyx_v_index == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L3_error)
+    __pyx_v_index = __Pyx_PyInt_As_int(values[2]); if (unlikely((__pyx_v_index == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 42, __pyx_L3_error)
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, __pyx_nargs); __PYX_ERR(0, 41, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 3, 3, __pyx_nargs); __PYX_ERR(0, 42, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_VARARGS(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.sidedata.sidedata.SideData.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5frame_Frame, 1, "frame", 0))) __PYX_ERR(0, 41, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5frame_Frame, 1, "frame", 0))) __PYX_ERR(0, 42, __pyx_L1_error)
   __pyx_r = __pyx_pf_2av_8sidedata_8sidedata_8SideData___init__(((struct __pyx_obj_2av_8sidedata_8sidedata_SideData *)__pyx_v_self), __pyx_v_sentinel, __pyx_v_frame, __pyx_v_index);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = -1;
   __pyx_L0:;
@@ -4034,84 +4072,84 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 1);
 
-  /* "av/sidedata/sidedata.pyx":42
+  /* "av/sidedata/sidedata.pyx":43
  * cdef class SideData(Buffer):
  *     def __init__(self, sentinel, Frame frame, int index):
  *         if sentinel is not _cinit_bypass_sentinel:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("cannot manually instatiate SideData")
  *         self.frame = frame
  */
   __pyx_t_1 = (__pyx_v_sentinel != __pyx_v_2av_8sidedata_8sidedata__cinit_bypass_sentinel);
   if (unlikely(__pyx_t_1)) {
 
-    /* "av/sidedata/sidedata.pyx":43
+    /* "av/sidedata/sidedata.pyx":44
  *     def __init__(self, sentinel, Frame frame, int index):
  *         if sentinel is not _cinit_bypass_sentinel:
  *             raise RuntimeError("cannot manually instatiate SideData")             # <<<<<<<<<<<<<<
  *         self.frame = frame
  *         self.ptr = frame.ptr.side_data[index]
  */
-    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple_, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 43, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_Call(__pyx_builtin_RuntimeError, __pyx_tuple_, NULL); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 44, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_Raise(__pyx_t_2, 0, 0, 0);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-    __PYX_ERR(0, 43, __pyx_L1_error)
+    __PYX_ERR(0, 44, __pyx_L1_error)
 
-    /* "av/sidedata/sidedata.pyx":42
+    /* "av/sidedata/sidedata.pyx":43
  * cdef class SideData(Buffer):
  *     def __init__(self, sentinel, Frame frame, int index):
  *         if sentinel is not _cinit_bypass_sentinel:             # <<<<<<<<<<<<<<
  *             raise RuntimeError("cannot manually instatiate SideData")
  *         self.frame = frame
  */
   }
 
-  /* "av/sidedata/sidedata.pyx":44
+  /* "av/sidedata/sidedata.pyx":45
  *         if sentinel is not _cinit_bypass_sentinel:
  *             raise RuntimeError("cannot manually instatiate SideData")
  *         self.frame = frame             # <<<<<<<<<<<<<<
  *         self.ptr = frame.ptr.side_data[index]
  *         self.metadata = wrap_dictionary(self.ptr.metadata)
  */
   __Pyx_INCREF((PyObject *)__pyx_v_frame);
   __Pyx_GIVEREF((PyObject *)__pyx_v_frame);
   __Pyx_GOTREF((PyObject *)__pyx_v_self->frame);
   __Pyx_DECREF((PyObject *)__pyx_v_self->frame);
   __pyx_v_self->frame = __pyx_v_frame;
 
-  /* "av/sidedata/sidedata.pyx":45
+  /* "av/sidedata/sidedata.pyx":46
  *             raise RuntimeError("cannot manually instatiate SideData")
  *         self.frame = frame
  *         self.ptr = frame.ptr.side_data[index]             # <<<<<<<<<<<<<<
  *         self.metadata = wrap_dictionary(self.ptr.metadata)
  * 
  */
   __pyx_v_self->ptr = (__pyx_v_frame->ptr->side_data[__pyx_v_index]);
 
-  /* "av/sidedata/sidedata.pyx":46
+  /* "av/sidedata/sidedata.pyx":47
  *         self.frame = frame
  *         self.ptr = frame.ptr.side_data[index]
  *         self.metadata = wrap_dictionary(self.ptr.metadata)             # <<<<<<<<<<<<<<
  * 
  *     cdef size_t _buffer_size(self):
  */
-  __pyx_t_2 = ((PyObject *)__pyx_f_2av_10dictionary_wrap_dictionary(__pyx_v_self->ptr->metadata)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 46, __pyx_L1_error)
+  __pyx_t_2 = ((PyObject *)__pyx_f_2av_10dictionary_wrap_dictionary(__pyx_v_self->ptr->metadata)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 47, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_GIVEREF(__pyx_t_2);
   __Pyx_GOTREF((PyObject *)__pyx_v_self->metadata);
   __Pyx_DECREF((PyObject *)__pyx_v_self->metadata);
   __pyx_v_self->metadata = ((struct __pyx_obj_2av_10dictionary__Dictionary *)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "av/sidedata/sidedata.pyx":41
+  /* "av/sidedata/sidedata.pyx":42
  * 
  * cdef class SideData(Buffer):
  *     def __init__(self, sentinel, Frame frame, int index):             # <<<<<<<<<<<<<<
  *         if sentinel is not _cinit_bypass_sentinel:
  *             raise RuntimeError("cannot manually instatiate SideData")
  */
 
@@ -4123,117 +4161,117 @@
   __Pyx_AddTraceback("av.sidedata.sidedata.SideData.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":48
+/* "av/sidedata/sidedata.pyx":49
  *         self.metadata = wrap_dictionary(self.ptr.metadata)
  * 
  *     cdef size_t _buffer_size(self):             # <<<<<<<<<<<<<<
  *         return self.ptr.size
  * 
  */
 
 static size_t __pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_size(struct __pyx_obj_2av_8sidedata_8sidedata_SideData *__pyx_v_self) {
   size_t __pyx_r;
 
-  /* "av/sidedata/sidedata.pyx":49
+  /* "av/sidedata/sidedata.pyx":50
  * 
  *     cdef size_t _buffer_size(self):
  *         return self.ptr.size             # <<<<<<<<<<<<<<
  * 
  *     cdef void* _buffer_ptr(self):
  */
   __pyx_r = __pyx_v_self->ptr->size;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":48
+  /* "av/sidedata/sidedata.pyx":49
  *         self.metadata = wrap_dictionary(self.ptr.metadata)
  * 
  *     cdef size_t _buffer_size(self):             # <<<<<<<<<<<<<<
  *         return self.ptr.size
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":51
+/* "av/sidedata/sidedata.pyx":52
  *         return self.ptr.size
  * 
  *     cdef void* _buffer_ptr(self):             # <<<<<<<<<<<<<<
  *         return self.ptr.data
  * 
  */
 
 static void *__pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_ptr(struct __pyx_obj_2av_8sidedata_8sidedata_SideData *__pyx_v_self) {
   void *__pyx_r;
 
-  /* "av/sidedata/sidedata.pyx":52
+  /* "av/sidedata/sidedata.pyx":53
  * 
  *     cdef void* _buffer_ptr(self):
  *         return self.ptr.data             # <<<<<<<<<<<<<<
  * 
  *     cdef bint _buffer_writable(self):
  */
   __pyx_r = __pyx_v_self->ptr->data;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":51
+  /* "av/sidedata/sidedata.pyx":52
  *         return self.ptr.size
  * 
  *     cdef void* _buffer_ptr(self):             # <<<<<<<<<<<<<<
  *         return self.ptr.data
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":54
+/* "av/sidedata/sidedata.pyx":55
  *         return self.ptr.data
  * 
  *     cdef bint _buffer_writable(self):             # <<<<<<<<<<<<<<
  *         return False
  * 
  */
 
 static int __pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_writable(CYTHON_UNUSED struct __pyx_obj_2av_8sidedata_8sidedata_SideData *__pyx_v_self) {
   int __pyx_r;
 
-  /* "av/sidedata/sidedata.pyx":55
+  /* "av/sidedata/sidedata.pyx":56
  * 
  *     cdef bint _buffer_writable(self):
  *         return False             # <<<<<<<<<<<<<<
  * 
  *     def __repr__(self):
  */
   __pyx_r = 0;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":54
+  /* "av/sidedata/sidedata.pyx":55
  *         return self.ptr.data
  * 
  *     cdef bint _buffer_writable(self):             # <<<<<<<<<<<<<<
  *         return False
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":57
+/* "av/sidedata/sidedata.pyx":58
  *         return False
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return f"<av.sidedata.{self.__class__.__name__} {self.ptr.size} bytes of {self.type} at 0x{<unsigned int>self.ptr.data:0x}>"
  * 
  */
 
@@ -4261,93 +4299,93 @@
   PyObject *__pyx_t_4 = NULL;
   PyObject *__pyx_t_5 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__repr__", 1);
 
-  /* "av/sidedata/sidedata.pyx":58
+  /* "av/sidedata/sidedata.pyx":59
  * 
  *     def __repr__(self):
  *         return f"<av.sidedata.{self.__class__.__name__} {self.ptr.size} bytes of {self.type} at 0x{<unsigned int>self.ptr.data:0x}>"             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = PyTuple_New(9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_1 = PyTuple_New(9); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_t_2 = 0;
   __pyx_t_3 = 127;
   __Pyx_INCREF(__pyx_kp_u_av_sidedata);
   __pyx_t_2 += 13;
   __Pyx_GIVEREF(__pyx_kp_u_av_sidedata);
   PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_kp_u_av_sidedata);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_class); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_GetAttrStr(__pyx_t_4, __pyx_n_s_name); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
-  __pyx_t_4 = __Pyx_PyObject_FormatSimple(__pyx_t_5, __pyx_empty_unicode); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_FormatSimple(__pyx_t_5, __pyx_empty_unicode); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) : __pyx_t_3;
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_4);
   __pyx_t_4 = 0;
   __Pyx_INCREF(__pyx_kp_u__2);
   __pyx_t_2 += 1;
   __Pyx_GIVEREF(__pyx_kp_u__2);
   PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_kp_u__2);
-  __pyx_t_4 = __Pyx_PyUnicode_From_int(__pyx_v_self->ptr->size, 0, ' ', 'd'); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyUnicode_From_int(__pyx_v_self->ptr->size, 0, ' ', 'd'); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_1, 3, __pyx_t_4);
   __pyx_t_4 = 0;
   __Pyx_INCREF(__pyx_kp_u_bytes_of);
   __pyx_t_2 += 10;
   __Pyx_GIVEREF(__pyx_kp_u_bytes_of);
   PyTuple_SET_ITEM(__pyx_t_1, 4, __pyx_kp_u_bytes_of);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_type); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_type); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
-  __pyx_t_5 = __Pyx_PyObject_FormatSimple(__pyx_t_4, __pyx_empty_unicode); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyObject_FormatSimple(__pyx_t_4, __pyx_empty_unicode); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_5) : __pyx_t_3;
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_5);
   __Pyx_GIVEREF(__pyx_t_5);
   PyTuple_SET_ITEM(__pyx_t_1, 5, __pyx_t_5);
   __pyx_t_5 = 0;
   __Pyx_INCREF(__pyx_kp_u_at_0x);
   __pyx_t_2 += 6;
   __Pyx_GIVEREF(__pyx_kp_u_at_0x);
   PyTuple_SET_ITEM(__pyx_t_1, 6, __pyx_kp_u_at_0x);
-  __pyx_t_5 = __Pyx_PyInt_From_unsigned_int(((unsigned int)__pyx_v_self->ptr->data)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_5 = __Pyx_PyInt_From_unsigned_int(((unsigned int)__pyx_v_self->ptr->data)); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_5);
-  __pyx_t_4 = __Pyx_PyObject_Format(__pyx_t_5, __pyx_kp_u_0x); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_Format(__pyx_t_5, __pyx_kp_u_0x); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
   __pyx_t_3 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) > __pyx_t_3) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_4) : __pyx_t_3;
   __pyx_t_2 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_4);
   __Pyx_GIVEREF(__pyx_t_4);
   PyTuple_SET_ITEM(__pyx_t_1, 7, __pyx_t_4);
   __pyx_t_4 = 0;
   __Pyx_INCREF(__pyx_kp_u__3);
   __pyx_t_2 += 1;
   __Pyx_GIVEREF(__pyx_kp_u__3);
   PyTuple_SET_ITEM(__pyx_t_1, 8, __pyx_kp_u__3);
-  __pyx_t_4 = __Pyx_PyUnicode_Join(__pyx_t_1, 9, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 58, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyUnicode_Join(__pyx_t_1, 9, __pyx_t_2, __pyx_t_3); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 59, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_4;
   __pyx_t_4 = 0;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":57
+  /* "av/sidedata/sidedata.pyx":58
  *         return False
  * 
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return f"<av.sidedata.{self.__class__.__name__} {self.ptr.size} bytes of {self.type} at 0x{<unsigned int>self.ptr.data:0x}>"
  * 
  */
 
@@ -4360,15 +4398,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":60
+/* "av/sidedata/sidedata.pyx":61
  *         return f"<av.sidedata.{self.__class__.__name__} {self.ptr.size} bytes of {self.type} at 0x{<unsigned int>self.ptr.data:0x}>"
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         return Type.get(self.ptr.type) or self.ptr.type
  */
 
@@ -4398,28 +4436,28 @@
   int __pyx_t_6;
   int __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/sidedata/sidedata.pyx":62
+  /* "av/sidedata/sidedata.pyx":63
  *     @property
  *     def type(self):
  *         return Type.get(self.ptr.type) or self.ptr.type             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_Type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 62, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_Type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 63, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 62, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 63, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PyInt_From_enum__AVFrameSideDataType(__pyx_v_self->ptr->type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 62, __pyx_L1_error)
+  __pyx_t_3 = __Pyx_PyInt_From_enum__AVFrameSideDataType(__pyx_v_self->ptr->type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 63, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_5 = NULL;
   __pyx_t_6 = 0;
   #if CYTHON_UNPACK_METHODS
   if (unlikely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_5 = PyMethod_GET_SELF(__pyx_t_4);
     if (likely(__pyx_t_5)) {
@@ -4432,37 +4470,37 @@
   }
   #endif
   {
     PyObject *__pyx_callargs[2] = {__pyx_t_5, __pyx_t_3};
     __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_6, 1+__pyx_t_6);
     __Pyx_XDECREF(__pyx_t_5); __pyx_t_5 = 0;
     __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 62, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 63, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
-  __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_7 < 0))) __PYX_ERR(0, 62, __pyx_L1_error)
+  __pyx_t_7 = __Pyx_PyObject_IsTrue(__pyx_t_2); if (unlikely((__pyx_t_7 < 0))) __PYX_ERR(0, 63, __pyx_L1_error)
   if (!__pyx_t_7) {
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   } else {
     __Pyx_INCREF(__pyx_t_2);
     __pyx_t_1 = __pyx_t_2;
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
     goto __pyx_L3_bool_binop_done;
   }
-  __pyx_t_2 = __Pyx_PyInt_From_enum__AVFrameSideDataType(__pyx_v_self->ptr->type); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 62, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_enum__AVFrameSideDataType(__pyx_v_self->ptr->type); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 63, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_t_1 = __pyx_t_2;
   __pyx_t_2 = 0;
   __pyx_L3_bool_binop_done:;
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":60
+  /* "av/sidedata/sidedata.pyx":61
  *         return f"<av.sidedata.{self.__class__.__name__} {self.ptr.size} bytes of {self.type} at 0x{<unsigned int>self.ptr.data:0x}>"
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         return Type.get(self.ptr.type) or self.ptr.type
  */
 
@@ -4693,15 +4731,15 @@
   __Pyx_AddTraceback("av.sidedata.sidedata.SideData.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = NULL;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":66
+/* "av/sidedata/sidedata.pyx":67
  * 
  * cdef class _SideDataContainer:
  *     def __init__(self, Frame frame):             # <<<<<<<<<<<<<<
  *         self.frame = frame
  *         self._by_index = []
  */
 
@@ -4737,45 +4775,45 @@
       kw_args = __Pyx_NumKwargs_VARARGS(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (likely((values[0] = __Pyx_GetKwValue_VARARGS(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_frame)) != 0)) {
           (void)__Pyx_Arg_NewRef_VARARGS(values[0]);
           kw_args--;
         }
-        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 66, __pyx_L3_error)
+        else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 67, __pyx_L3_error)
         else goto __pyx_L5_argtuple_error;
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__init__") < 0)) __PYX_ERR(0, 66, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "__init__") < 0)) __PYX_ERR(0, 67, __pyx_L3_error)
       }
     } else if (unlikely(__pyx_nargs != 1)) {
       goto __pyx_L5_argtuple_error;
     } else {
       values[0] = __Pyx_Arg_VARARGS(__pyx_args, 0);
     }
     __pyx_v_frame = ((struct __pyx_obj_2av_5frame_Frame *)values[0]);
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 66, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("__init__", 1, 1, 1, __pyx_nargs); __PYX_ERR(0, 67, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_VARARGS(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.sidedata.sidedata._SideDataContainer.__init__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return -1;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5frame_Frame, 1, "frame", 0))) __PYX_ERR(0, 66, __pyx_L1_error)
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5frame_Frame, 1, "frame", 0))) __PYX_ERR(0, 67, __pyx_L1_error)
   __pyx_r = __pyx_pf_2av_8sidedata_8sidedata_18_SideDataContainer___init__(((struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer *)__pyx_v_self), __pyx_v_frame);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = -1;
   __pyx_L0:;
@@ -4800,112 +4838,112 @@
   int __pyx_t_4;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__init__", 1);
 
-  /* "av/sidedata/sidedata.pyx":67
+  /* "av/sidedata/sidedata.pyx":68
  * cdef class _SideDataContainer:
  *     def __init__(self, Frame frame):
  *         self.frame = frame             # <<<<<<<<<<<<<<
  *         self._by_index = []
  *         self._by_type = {}
  */
   __Pyx_INCREF((PyObject *)__pyx_v_frame);
   __Pyx_GIVEREF((PyObject *)__pyx_v_frame);
   __Pyx_GOTREF((PyObject *)__pyx_v_self->frame);
   __Pyx_DECREF((PyObject *)__pyx_v_self->frame);
   __pyx_v_self->frame = __pyx_v_frame;
 
-  /* "av/sidedata/sidedata.pyx":68
+  /* "av/sidedata/sidedata.pyx":69
  *     def __init__(self, Frame frame):
  *         self.frame = frame
  *         self._by_index = []             # <<<<<<<<<<<<<<
  *         self._by_type = {}
  * 
  */
-  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 68, __pyx_L1_error)
+  __pyx_t_1 = PyList_New(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 69, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->_by_index);
   __Pyx_DECREF(__pyx_v_self->_by_index);
   __pyx_v_self->_by_index = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "av/sidedata/sidedata.pyx":69
+  /* "av/sidedata/sidedata.pyx":70
  *         self.frame = frame
  *         self._by_index = []
  *         self._by_type = {}             # <<<<<<<<<<<<<<
  * 
  *         cdef int i
  */
-  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 69, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 70, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_GIVEREF(__pyx_t_1);
   __Pyx_GOTREF(__pyx_v_self->_by_type);
   __Pyx_DECREF(__pyx_v_self->_by_type);
   __pyx_v_self->_by_type = ((PyObject*)__pyx_t_1);
   __pyx_t_1 = 0;
 
-  /* "av/sidedata/sidedata.pyx":73
+  /* "av/sidedata/sidedata.pyx":74
  *         cdef int i
  *         cdef SideData data
  *         for i in range(self.frame.ptr.nb_side_data):             # <<<<<<<<<<<<<<
  *             data = wrap_side_data(frame, i)
  *             self._by_index.append(data)
  */
   __pyx_t_2 = __pyx_v_self->frame->ptr->nb_side_data;
   __pyx_t_3 = __pyx_t_2;
   for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
     __pyx_v_i = __pyx_t_4;
 
-    /* "av/sidedata/sidedata.pyx":74
+    /* "av/sidedata/sidedata.pyx":75
  *         cdef SideData data
  *         for i in range(self.frame.ptr.nb_side_data):
  *             data = wrap_side_data(frame, i)             # <<<<<<<<<<<<<<
  *             self._by_index.append(data)
  *             self._by_type[data.type] = data
  */
-    __pyx_t_1 = ((PyObject *)__pyx_f_2av_8sidedata_8sidedata_wrap_side_data(__pyx_v_frame, __pyx_v_i)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 74, __pyx_L1_error)
+    __pyx_t_1 = ((PyObject *)__pyx_f_2av_8sidedata_8sidedata_wrap_side_data(__pyx_v_frame, __pyx_v_i)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 75, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
     __Pyx_XDECREF_SET(__pyx_v_data, ((struct __pyx_obj_2av_8sidedata_8sidedata_SideData *)__pyx_t_1));
     __pyx_t_1 = 0;
 
-    /* "av/sidedata/sidedata.pyx":75
+    /* "av/sidedata/sidedata.pyx":76
  *         for i in range(self.frame.ptr.nb_side_data):
  *             data = wrap_side_data(frame, i)
  *             self._by_index.append(data)             # <<<<<<<<<<<<<<
  *             self._by_type[data.type] = data
  * 
  */
     if (unlikely(__pyx_v_self->_by_index == Py_None)) {
       PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "append");
-      __PYX_ERR(0, 75, __pyx_L1_error)
+      __PYX_ERR(0, 76, __pyx_L1_error)
     }
-    __pyx_t_5 = __Pyx_PyList_Append(__pyx_v_self->_by_index, ((PyObject *)__pyx_v_data)); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 75, __pyx_L1_error)
+    __pyx_t_5 = __Pyx_PyList_Append(__pyx_v_self->_by_index, ((PyObject *)__pyx_v_data)); if (unlikely(__pyx_t_5 == ((int)-1))) __PYX_ERR(0, 76, __pyx_L1_error)
 
-    /* "av/sidedata/sidedata.pyx":76
+    /* "av/sidedata/sidedata.pyx":77
  *             data = wrap_side_data(frame, i)
  *             self._by_index.append(data)
  *             self._by_type[data.type] = data             # <<<<<<<<<<<<<<
  * 
  *     def __len__(self):
  */
     if (unlikely(__pyx_v_self->_by_type == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(0, 76, __pyx_L1_error)
+      __PYX_ERR(0, 77, __pyx_L1_error)
     }
-    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_data), __pyx_n_s_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 76, __pyx_L1_error)
+    __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_data), __pyx_n_s_type); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 77, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    if (unlikely((PyDict_SetItem(__pyx_v_self->_by_type, __pyx_t_1, ((PyObject *)__pyx_v_data)) < 0))) __PYX_ERR(0, 76, __pyx_L1_error)
+    if (unlikely((PyDict_SetItem(__pyx_v_self->_by_type, __pyx_t_1, ((PyObject *)__pyx_v_data)) < 0))) __PYX_ERR(0, 77, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   }
 
-  /* "av/sidedata/sidedata.pyx":66
+  /* "av/sidedata/sidedata.pyx":67
  * 
  * cdef class _SideDataContainer:
  *     def __init__(self, Frame frame):             # <<<<<<<<<<<<<<
  *         self.frame = frame
  *         self._by_index = []
  */
 
@@ -4918,15 +4956,15 @@
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_XDECREF((PyObject *)__pyx_v_data);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":78
+/* "av/sidedata/sidedata.pyx":79
  *             self._by_type[data.type] = data
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return len(self._by_index)
  * 
  */
 
@@ -4951,33 +4989,33 @@
   PyObject *__pyx_t_1 = NULL;
   Py_ssize_t __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__len__", 1);
 
-  /* "av/sidedata/sidedata.pyx":79
+  /* "av/sidedata/sidedata.pyx":80
  * 
  *     def __len__(self):
  *         return len(self._by_index)             # <<<<<<<<<<<<<<
  * 
  *     def __iter__(self):
  */
   __pyx_t_1 = __pyx_v_self->_by_index;
   __Pyx_INCREF(__pyx_t_1);
   if (unlikely(__pyx_t_1 == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "object of type 'NoneType' has no len()");
-    __PYX_ERR(0, 79, __pyx_L1_error)
+    __PYX_ERR(0, 80, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyList_GET_SIZE(__pyx_t_1); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 79, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyList_GET_SIZE(__pyx_t_1); if (unlikely(__pyx_t_2 == ((Py_ssize_t)-1))) __PYX_ERR(0, 80, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":78
+  /* "av/sidedata/sidedata.pyx":79
  *             self._by_type[data.type] = data
  * 
  *     def __len__(self):             # <<<<<<<<<<<<<<
  *         return len(self._by_index)
  * 
  */
 
@@ -4987,15 +5025,15 @@
   __Pyx_AddTraceback("av.sidedata.sidedata._SideDataContainer.__len__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":81
+/* "av/sidedata/sidedata.pyx":82
  *         return len(self._by_index)
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return iter(self._by_index)
  * 
  */
 
@@ -5020,32 +5058,32 @@
   PyObject *__pyx_t_1 = NULL;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__iter__", 1);
 
-  /* "av/sidedata/sidedata.pyx":82
+  /* "av/sidedata/sidedata.pyx":83
  * 
  *     def __iter__(self):
  *         return iter(self._by_index)             # <<<<<<<<<<<<<<
  * 
  *     def __getitem__(self, key):
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_1 = __pyx_v_self->_by_index;
   __Pyx_INCREF(__pyx_t_1);
-  __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 82, __pyx_L1_error)
+  __pyx_t_2 = PyObject_GetIter(__pyx_t_1); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 83, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":81
+  /* "av/sidedata/sidedata.pyx":82
  *         return len(self._by_index)
  * 
  *     def __iter__(self):             # <<<<<<<<<<<<<<
  *         return iter(self._by_index)
  * 
  */
 
@@ -5057,15 +5095,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/sidedata/sidedata.pyx":84
+/* "av/sidedata/sidedata.pyx":85
  *         return iter(self._by_index)
  * 
  *     def __getitem__(self, key):             # <<<<<<<<<<<<<<
  *         if isinstance(key, int):
  *             return self._by_index[key]
  */
 
@@ -5094,61 +5132,61 @@
   PyObject *__pyx_t_4 = NULL;
   int __pyx_t_5;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__getitem__", 1);
 
-  /* "av/sidedata/sidedata.pyx":85
+  /* "av/sidedata/sidedata.pyx":86
  * 
  *     def __getitem__(self, key):
  *         if isinstance(key, int):             # <<<<<<<<<<<<<<
  *             return self._by_index[key]
  * 
  */
   __pyx_t_1 = PyInt_Check(__pyx_v_key); 
   if (__pyx_t_1) {
 
-    /* "av/sidedata/sidedata.pyx":86
+    /* "av/sidedata/sidedata.pyx":87
  *     def __getitem__(self, key):
  *         if isinstance(key, int):
  *             return self._by_index[key]             # <<<<<<<<<<<<<<
  * 
  *         type_ = Type.get(key)
  */
     __Pyx_XDECREF(__pyx_r);
     if (unlikely(__pyx_v_self->_by_index == Py_None)) {
       PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-      __PYX_ERR(0, 86, __pyx_L1_error)
+      __PYX_ERR(0, 87, __pyx_L1_error)
     }
-    __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_v_self->_by_index, __pyx_v_key); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 86, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetItem(__pyx_v_self->_by_index, __pyx_v_key); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 87, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "av/sidedata/sidedata.pyx":85
+    /* "av/sidedata/sidedata.pyx":86
  * 
  *     def __getitem__(self, key):
  *         if isinstance(key, int):             # <<<<<<<<<<<<<<
  *             return self._by_index[key]
  * 
  */
   }
 
-  /* "av/sidedata/sidedata.pyx":88
+  /* "av/sidedata/sidedata.pyx":89
  *             return self._by_index[key]
  * 
  *         type_ = Type.get(key)             # <<<<<<<<<<<<<<
  *         return self._by_type[type_]
  * 
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_Type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 88, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_Type); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 89, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 88, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_PyObject_GetAttrStr(__pyx_t_3, __pyx_n_s_get); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 89, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __pyx_t_3 = NULL;
   __pyx_t_5 = 0;
   #if CYTHON_UNPACK_METHODS
   if (unlikely(PyMethod_Check(__pyx_t_4))) {
     __pyx_t_3 = PyMethod_GET_SELF(__pyx_t_4);
@@ -5161,40 +5199,40 @@
     }
   }
   #endif
   {
     PyObject *__pyx_callargs[2] = {__pyx_t_3, __pyx_v_key};
     __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_4, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
     __Pyx_XDECREF(__pyx_t_3); __pyx_t_3 = 0;
-    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 88, __pyx_L1_error)
+    if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 89, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
   }
   __pyx_v_type_ = __pyx_t_2;
   __pyx_t_2 = 0;
 
-  /* "av/sidedata/sidedata.pyx":89
+  /* "av/sidedata/sidedata.pyx":90
  * 
  *         type_ = Type.get(key)
  *         return self._by_type[type_]             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   if (unlikely(__pyx_v_self->_by_type == Py_None)) {
     PyErr_SetString(PyExc_TypeError, "'NoneType' object is not subscriptable");
-    __PYX_ERR(0, 89, __pyx_L1_error)
+    __PYX_ERR(0, 90, __pyx_L1_error)
   }
-  __pyx_t_2 = __Pyx_PyDict_GetItem(__pyx_v_self->_by_type, __pyx_v_type_); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 89, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_GetItem(__pyx_v_self->_by_type, __pyx_v_type_); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 90, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_r = __pyx_t_2;
   __pyx_t_2 = 0;
   goto __pyx_L0;
 
-  /* "av/sidedata/sidedata.pyx":84
+  /* "av/sidedata/sidedata.pyx":85
  *         return iter(self._by_index)
  * 
  *     def __getitem__(self, key):             # <<<<<<<<<<<<<<
  *         if isinstance(key, int):
  *             return self._by_index[key]
  */
 
@@ -6529,14 +6567,15 @@
     {&__pyx_n_s_MOTION_VECTORS, __pyx_k_MOTION_VECTORS, sizeof(__pyx_k_MOTION_VECTORS), 0, 0, 1, 1},
     {&__pyx_n_s_Mapping, __pyx_k_Mapping, sizeof(__pyx_k_Mapping), 0, 0, 1, 1},
     {&__pyx_n_s_MotionVectors, __pyx_k_MotionVectors, sizeof(__pyx_k_MotionVectors), 0, 0, 1, 1},
     {&__pyx_n_s_PANSCAN, __pyx_k_PANSCAN, sizeof(__pyx_k_PANSCAN), 0, 0, 1, 1},
     {&__pyx_n_s_PickleError, __pyx_k_PickleError, sizeof(__pyx_k_PickleError), 0, 0, 1, 1},
     {&__pyx_n_s_REPLAYGAIN, __pyx_k_REPLAYGAIN, sizeof(__pyx_k_REPLAYGAIN), 0, 0, 1, 1},
     {&__pyx_n_s_RuntimeError, __pyx_k_RuntimeError, sizeof(__pyx_k_RuntimeError), 0, 0, 1, 1},
+    {&__pyx_n_s_S12M_TIMECODE, __pyx_k_S12M_TIMECODE, sizeof(__pyx_k_S12M_TIMECODE), 0, 0, 1, 1},
     {&__pyx_n_s_SEI_UNREGISTERED, __pyx_k_SEI_UNREGISTERED, sizeof(__pyx_k_SEI_UNREGISTERED), 0, 0, 1, 1},
     {&__pyx_n_s_SKIP_SAMPLES, __pyx_k_SKIP_SAMPLES, sizeof(__pyx_k_SKIP_SAMPLES), 0, 0, 1, 1},
     {&__pyx_n_s_SPHERICAL, __pyx_k_SPHERICAL, sizeof(__pyx_k_SPHERICAL), 0, 0, 1, 1},
     {&__pyx_n_s_STEREO3D, __pyx_k_STEREO3D, sizeof(__pyx_k_STEREO3D), 0, 0, 1, 1},
     {&__pyx_n_s_SideData, __pyx_k_SideData, sizeof(__pyx_k_SideData), 0, 0, 1, 1},
     {&__pyx_n_s_SideDataContainer, __pyx_k_SideDataContainer, sizeof(__pyx_k_SideDataContainer), 0, 0, 1, 1},
     {&__pyx_n_s_SideDataContainer_2, __pyx_k_SideDataContainer_2, sizeof(__pyx_k_SideDataContainer_2), 0, 0, 1, 1},
@@ -6612,35 +6651,35 @@
     {0, 0, 0, 0, 0, 0, 0}
   };
   return __Pyx_InitStrings(__pyx_string_tab);
 }
 /* #### Code section: cached_builtins ### */
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
   __pyx_builtin_object = __Pyx_GetBuiltinName(__pyx_n_s_object); if (!__pyx_builtin_object) __PYX_ERR(0, 8, __pyx_L1_error)
-  __pyx_builtin_RuntimeError = __Pyx_GetBuiltinName(__pyx_n_s_RuntimeError); if (!__pyx_builtin_RuntimeError) __PYX_ERR(0, 43, __pyx_L1_error)
+  __pyx_builtin_RuntimeError = __Pyx_GetBuiltinName(__pyx_n_s_RuntimeError); if (!__pyx_builtin_RuntimeError) __PYX_ERR(0, 44, __pyx_L1_error)
   __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(1, 2, __pyx_L1_error)
-  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 73, __pyx_L1_error)
+  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 74, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 /* #### Code section: cached_constants ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__Pyx_InitCachedConstants", 0);
 
-  /* "av/sidedata/sidedata.pyx":43
+  /* "av/sidedata/sidedata.pyx":44
  *     def __init__(self, sentinel, Frame frame, int index):
  *         if sentinel is not _cinit_bypass_sentinel:
  *             raise RuntimeError("cannot manually instatiate SideData")             # <<<<<<<<<<<<<<
  *         self.frame = frame
  *         self.ptr = frame.ptr.side_data[index]
  */
-  __pyx_tuple_ = PyTuple_Pack(1, __pyx_kp_s_cannot_manually_instatiate_SideD); if (unlikely(!__pyx_tuple_)) __PYX_ERR(0, 43, __pyx_L1_error)
+  __pyx_tuple_ = PyTuple_Pack(1, __pyx_kp_s_cannot_manually_instatiate_SideD); if (unlikely(!__pyx_tuple_)) __PYX_ERR(0, 44, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_tuple_);
   __Pyx_GIVEREF(__pyx_tuple_);
 
   /* "(tree fragment)":4
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  *     if __pyx_checksum not in (0x1d2ed9c, 0x8fd5ac7, 0xed00d9a):             # <<<<<<<<<<<<<<
@@ -6770,75 +6809,75 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = &__pyx_vtable_2av_8sidedata_8sidedata_SideData;
   __pyx_vtable_2av_8sidedata_8sidedata_SideData.__pyx_base = *__pyx_vtabptr_2av_6buffer_Buffer;
   __pyx_vtable_2av_8sidedata_8sidedata_SideData.__pyx_base._buffer_size = (size_t (*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_size;
   __pyx_vtable_2av_8sidedata_8sidedata_SideData.__pyx_base._buffer_ptr = (void *(*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_ptr;
   __pyx_vtable_2av_8sidedata_8sidedata_SideData.__pyx_base._buffer_writable = (int (*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_8sidedata_8sidedata_8SideData__buffer_writable;
   #if CYTHON_USE_TYPE_SPECS
-  __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 40, __pyx_L1_error)
+  __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_ptype_2av_8sidedata_8sidedata_SideData = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_8sidedata_8sidedata_SideData_spec, __pyx_t_2);
   __Pyx_XDECREF(__pyx_t_2); __pyx_t_2 = 0;
-  if (unlikely(!__pyx_ptype_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(0, 40, __pyx_L1_error)
-  if (__Pyx_fix_up_extension_type_from_spec(&__pyx_type_2av_8sidedata_8sidedata_SideData_spec, __pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (unlikely(!__pyx_ptype_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(0, 41, __pyx_L1_error)
+  if (__Pyx_fix_up_extension_type_from_spec(&__pyx_type_2av_8sidedata_8sidedata_SideData_spec, __pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   #else
   __pyx_ptype_2av_8sidedata_8sidedata_SideData = &__pyx_type_2av_8sidedata_8sidedata_SideData;
   #endif
   #if !CYTHON_COMPILING_IN_LIMITED_API
   __pyx_ptype_2av_8sidedata_8sidedata_SideData->tp_base = __pyx_ptype_2av_6buffer_Buffer;
   #endif
   #if !CYTHON_USE_TYPE_SPECS
-  if (__Pyx_PyType_Ready(__pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (__Pyx_PyType_Ready(__pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_8sidedata_8sidedata_SideData->tp_print = 0;
   #endif
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_8sidedata_8sidedata_SideData->tp_dictoffset && __pyx_ptype_2av_8sidedata_8sidedata_SideData->tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_ptype_2av_8sidedata_8sidedata_SideData->tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #endif
-  if (__Pyx_SetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData, __pyx_vtabptr_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (__Pyx_SetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData, __pyx_vtabptr_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
-  if (__Pyx_MergeVtables(__pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (__Pyx_MergeVtables(__pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SideData, (PyObject *) __pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SideData, (PyObject *) __pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
-  if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 40, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_8sidedata_8sidedata_SideData) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   #endif
   #if CYTHON_USE_TYPE_SPECS
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_8sidedata_8sidedata__SideDataContainer_spec, NULL); if (unlikely(!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer)) __PYX_ERR(0, 65, __pyx_L1_error)
-  if (__Pyx_fix_up_extension_type_from_spec(&__pyx_type_2av_8sidedata_8sidedata__SideDataContainer_spec, __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 65, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_8sidedata_8sidedata__SideDataContainer_spec, NULL); if (unlikely(!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer)) __PYX_ERR(0, 66, __pyx_L1_error)
+  if (__Pyx_fix_up_extension_type_from_spec(&__pyx_type_2av_8sidedata_8sidedata__SideDataContainer_spec, __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 66, __pyx_L1_error)
   #else
   __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = &__pyx_type_2av_8sidedata_8sidedata__SideDataContainer;
   #endif
   #if !CYTHON_COMPILING_IN_LIMITED_API
   #endif
   #if !CYTHON_USE_TYPE_SPECS
-  if (__Pyx_PyType_Ready(__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 65, __pyx_L1_error)
+  if (__Pyx_PyType_Ready(__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 66, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer->tp_print = 0;
   #endif
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer->tp_dictoffset && __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer->tp_getattro == PyObject_GenericGetAttr)) {
     __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer->tp_getattro = __Pyx_PyObject_GenericGetAttr;
   }
   #endif
-  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SideDataContainer, (PyObject *) __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 65, __pyx_L1_error)
+  if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SideDataContainer, (PyObject *) __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 66, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
-  if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 65, __pyx_L1_error)
+  if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) < 0) __PYX_ERR(0, 66, __pyx_L1_error)
   #endif
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_XDECREF(__pyx_t_2);
@@ -6852,62 +6891,62 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(2, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(9, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(9, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(9, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(10, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(10, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(10, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(11, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(11, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(11, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(12, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(12, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(12, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -6928,19 +6967,19 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7122,17 +7161,16 @@
   PyObject *__pyx_t_13 = NULL;
   PyObject *__pyx_t_14 = NULL;
   PyObject *__pyx_t_15 = NULL;
   PyObject *__pyx_t_16 = NULL;
   PyObject *__pyx_t_17 = NULL;
   PyObject *__pyx_t_18 = NULL;
   PyObject *__pyx_t_19 = NULL;
-  int __pyx_t_20;
+  PyObject *__pyx_t_20 = NULL;
   PyObject *__pyx_t_21 = NULL;
-  PyObject *__pyx_t_22 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannyDeclarations
   #if CYTHON_PEP489_MULTI_PHASE_INIT
   if (__pyx_m) {
     if (__pyx_m == __pyx_pyinit_module) return 0;
@@ -7563,15 +7601,15 @@
   __pyx_t_3 = 0;
 
   /* "av/sidedata/sidedata.pyx":26
  *     ("GOP_TIMECODE", lib.AV_FRAME_DATA_GOP_TIMECODE),
  *     ("SPHERICAL", lib.AV_FRAME_DATA_SPHERICAL),
  *     ("CONTENT_LIGHT_LEVEL", lib.AV_FRAME_DATA_CONTENT_LIGHT_LEVEL),             # <<<<<<<<<<<<<<
  *     ("ICC_PROFILE", lib.AV_FRAME_DATA_ICC_PROFILE),
- *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED) if lib.AV_FRAME_DATA_SEI_UNREGISTERED != -1 else None,
+ *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED),
  */
   __pyx_t_3 = __Pyx_PyInt_From_enum__AVFrameSideDataType(AV_FRAME_DATA_CONTENT_LIGHT_LEVEL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_18 = PyTuple_New(2); if (unlikely(!__pyx_t_18)) __PYX_ERR(0, 26, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_18);
   __Pyx_INCREF(__pyx_n_s_CONTENT_LIGHT_LEVEL);
   __Pyx_GIVEREF(__pyx_n_s_CONTENT_LIGHT_LEVEL);
@@ -7580,16 +7618,16 @@
   if (__Pyx_PyTuple_SET_ITEM(__pyx_t_18, 1, __pyx_t_3)) __PYX_ERR(0, 26, __pyx_L1_error);
   __pyx_t_3 = 0;
 
   /* "av/sidedata/sidedata.pyx":27
  *     ("SPHERICAL", lib.AV_FRAME_DATA_SPHERICAL),
  *     ("CONTENT_LIGHT_LEVEL", lib.AV_FRAME_DATA_CONTENT_LIGHT_LEVEL),
  *     ("ICC_PROFILE", lib.AV_FRAME_DATA_ICC_PROFILE),             # <<<<<<<<<<<<<<
- *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED) if lib.AV_FRAME_DATA_SEI_UNREGISTERED != -1 else None,
- * ))
+ *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED),
+ *     ("S12M_TIMECODE", lib.AV_FRAME_DATA_S12M_TIMECODE),
  */
   __pyx_t_3 = __Pyx_PyInt_From_enum__AVFrameSideDataType(AV_FRAME_DATA_ICC_PROFILE); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
   __pyx_t_19 = PyTuple_New(2); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 27, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_19);
   __Pyx_INCREF(__pyx_n_s_ICC_PROFILE);
   __Pyx_GIVEREF(__pyx_n_s_ICC_PROFILE);
@@ -7597,80 +7635,92 @@
   __Pyx_GIVEREF(__pyx_t_3);
   if (__Pyx_PyTuple_SET_ITEM(__pyx_t_19, 1, __pyx_t_3)) __PYX_ERR(0, 27, __pyx_L1_error);
   __pyx_t_3 = 0;
 
   /* "av/sidedata/sidedata.pyx":28
  *     ("CONTENT_LIGHT_LEVEL", lib.AV_FRAME_DATA_CONTENT_LIGHT_LEVEL),
  *     ("ICC_PROFILE", lib.AV_FRAME_DATA_ICC_PROFILE),
- *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED) if lib.AV_FRAME_DATA_SEI_UNREGISTERED != -1 else None,             # <<<<<<<<<<<<<<
+ *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED),             # <<<<<<<<<<<<<<
+ *     ("S12M_TIMECODE", lib.AV_FRAME_DATA_S12M_TIMECODE),
+ * ))
+ */
+  __pyx_t_3 = __Pyx_PyInt_From_enum__AVFrameSideDataType(AV_FRAME_DATA_SEI_UNREGISTERED); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 28, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_20 = PyTuple_New(2); if (unlikely(!__pyx_t_20)) __PYX_ERR(0, 28, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_20);
+  __Pyx_INCREF(__pyx_n_s_SEI_UNREGISTERED);
+  __Pyx_GIVEREF(__pyx_n_s_SEI_UNREGISTERED);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_20, 0, __pyx_n_s_SEI_UNREGISTERED)) __PYX_ERR(0, 28, __pyx_L1_error);
+  __Pyx_GIVEREF(__pyx_t_3);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_20, 1, __pyx_t_3)) __PYX_ERR(0, 28, __pyx_L1_error);
+  __pyx_t_3 = 0;
+
+  /* "av/sidedata/sidedata.pyx":29
+ *     ("ICC_PROFILE", lib.AV_FRAME_DATA_ICC_PROFILE),
+ *     ("SEI_UNREGISTERED", lib.AV_FRAME_DATA_SEI_UNREGISTERED),
+ *     ("S12M_TIMECODE", lib.AV_FRAME_DATA_S12M_TIMECODE),             # <<<<<<<<<<<<<<
  * ))
  * 
  */
-  __pyx_t_20 = (AV_FRAME_DATA_SEI_UNREGISTERED != -1L);
-  if (__pyx_t_20) {
-    __pyx_t_21 = __Pyx_PyInt_From_enum__AVFrameSideDataType(AV_FRAME_DATA_SEI_UNREGISTERED); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 28, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_21);
-    __pyx_t_22 = PyTuple_New(2); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 28, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_22);
-    __Pyx_INCREF(__pyx_n_s_SEI_UNREGISTERED);
-    __Pyx_GIVEREF(__pyx_n_s_SEI_UNREGISTERED);
-    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 0, __pyx_n_s_SEI_UNREGISTERED)) __PYX_ERR(0, 28, __pyx_L1_error);
-    __Pyx_GIVEREF(__pyx_t_21);
-    if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 1, __pyx_t_21)) __PYX_ERR(0, 28, __pyx_L1_error);
-    __pyx_t_21 = 0;
-    __pyx_t_3 = __pyx_t_22;
-    __pyx_t_22 = 0;
-  } else {
-    __Pyx_INCREF(Py_None);
-    __pyx_t_3 = Py_None;
-  }
+  __pyx_t_3 = __Pyx_PyInt_From_enum__AVFrameSideDataType(AV_FRAME_DATA_S12M_TIMECODE); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 29, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_21 = PyTuple_New(2); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 29, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  __Pyx_INCREF(__pyx_n_s_S12M_TIMECODE);
+  __Pyx_GIVEREF(__pyx_n_s_S12M_TIMECODE);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_21, 0, __pyx_n_s_S12M_TIMECODE)) __PYX_ERR(0, 29, __pyx_L1_error);
+  __Pyx_GIVEREF(__pyx_t_3);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_21, 1, __pyx_t_3)) __PYX_ERR(0, 29, __pyx_L1_error);
+  __pyx_t_3 = 0;
 
   /* "av/sidedata/sidedata.pyx":12
  * 
  * Type = define_enum("Type", __name__, (
  *     ("PANSCAN", lib.AV_FRAME_DATA_PANSCAN),             # <<<<<<<<<<<<<<
  *     ("A53_CC", lib.AV_FRAME_DATA_A53_CC),
  *     ("STEREO3D", lib.AV_FRAME_DATA_STEREO3D),
  */
-  __pyx_t_22 = PyTuple_New(17); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 12, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_22);
+  __pyx_t_3 = PyTuple_New(18); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 12, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
   __Pyx_GIVEREF(__pyx_t_4);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 0, __pyx_t_4)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 0, __pyx_t_4)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_5);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 1, __pyx_t_5)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_5)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_6);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 2, __pyx_t_6)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 2, __pyx_t_6)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_7);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 3, __pyx_t_7)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 3, __pyx_t_7)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_8);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 4, __pyx_t_8)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 4, __pyx_t_8)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_9);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 5, __pyx_t_9)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 5, __pyx_t_9)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_10);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 6, __pyx_t_10)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 6, __pyx_t_10)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_11);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 7, __pyx_t_11)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 7, __pyx_t_11)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_12);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 8, __pyx_t_12)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 8, __pyx_t_12)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_13);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 9, __pyx_t_13)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 9, __pyx_t_13)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_14);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 10, __pyx_t_14)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 10, __pyx_t_14)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_15);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 11, __pyx_t_15)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 11, __pyx_t_15)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_16);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 12, __pyx_t_16)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 12, __pyx_t_16)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_17);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 13, __pyx_t_17)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 13, __pyx_t_17)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_18);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 14, __pyx_t_18)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 14, __pyx_t_18)) __PYX_ERR(0, 12, __pyx_L1_error);
   __Pyx_GIVEREF(__pyx_t_19);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 15, __pyx_t_19)) __PYX_ERR(0, 12, __pyx_L1_error);
-  __Pyx_GIVEREF(__pyx_t_3);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 16, __pyx_t_3)) __PYX_ERR(0, 12, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 15, __pyx_t_19)) __PYX_ERR(0, 12, __pyx_L1_error);
+  __Pyx_GIVEREF(__pyx_t_20);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 16, __pyx_t_20)) __PYX_ERR(0, 12, __pyx_L1_error);
+  __Pyx_GIVEREF(__pyx_t_21);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 17, __pyx_t_21)) __PYX_ERR(0, 12, __pyx_L1_error);
   __pyx_t_4 = 0;
   __pyx_t_5 = 0;
   __pyx_t_6 = 0;
   __pyx_t_7 = 0;
   __pyx_t_8 = 0;
   __pyx_t_9 = 0;
   __pyx_t_10 = 0;
@@ -7679,127 +7729,128 @@
   __pyx_t_13 = 0;
   __pyx_t_14 = 0;
   __pyx_t_15 = 0;
   __pyx_t_16 = 0;
   __pyx_t_17 = 0;
   __pyx_t_18 = 0;
   __pyx_t_19 = 0;
-  __pyx_t_3 = 0;
+  __pyx_t_20 = 0;
+  __pyx_t_21 = 0;
 
   /* "av/sidedata/sidedata.pyx":11
  * 
  * 
  * Type = define_enum("Type", __name__, (             # <<<<<<<<<<<<<<
  *     ("PANSCAN", lib.AV_FRAME_DATA_PANSCAN),
  *     ("A53_CC", lib.AV_FRAME_DATA_A53_CC),
  */
-  __pyx_t_3 = __pyx_f_2av_4enum_define_enum(__pyx_n_s_Type, __pyx_t_2, __pyx_t_22, 0, NULL); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 11, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
+  __pyx_t_21 = __pyx_f_2av_4enum_define_enum(__pyx_n_s_Type, __pyx_t_2, __pyx_t_3, 0, NULL); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 11, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
-  __Pyx_DECREF(__pyx_t_22); __pyx_t_22 = 0;
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Type, __pyx_t_3) < 0) __PYX_ERR(0, 11, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_Type, __pyx_t_21) < 0) __PYX_ERR(0, 11, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_8SideData_5__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideData___reduce_cython, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__7)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_3) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_21 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_8SideData_5__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideData___reduce_cython, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__7)); if (unlikely(!__pyx_t_21)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_21) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_8SideData_7__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideData___setstate_cython, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 3, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_3) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_21 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_8SideData_7__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideData___setstate_cython, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_21)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_21) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     cdef tuple state
  *     cdef object _dict
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_18_SideDataContainer_9__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideDataContainer___reduce_cyth, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer, __pyx_n_s_reduce_cython, __pyx_t_3) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_21 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_18_SideDataContainer_9__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideDataContainer___reduce_cyth, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_21)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer, __pyx_n_s_reduce_cython, __pyx_t_21) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
   PyType_Modified(__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer);
 
   /* "(tree fragment)":16
  *     else:
  *         return __pyx_unpickle__SideDataContainer, (type(self), 0x1d2ed9c, state)
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     __pyx_unpickle__SideDataContainer__set_state(self, __pyx_state)
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_18_SideDataContainer_11__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideDataContainer___setstate_cy, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 16, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer, __pyx_n_s_setstate_cython, __pyx_t_3) < 0) __PYX_ERR(1, 16, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_21 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_18_SideDataContainer_11__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SideDataContainer___setstate_cy, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_21)) __PYX_ERR(1, 16, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer, __pyx_n_s_setstate_cython, __pyx_t_21) < 0) __PYX_ERR(1, 16, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
   PyType_Modified(__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer);
 
-  /* "av/sidedata/sidedata.pyx":92
+  /* "av/sidedata/sidedata.pyx":93
  * 
  * 
  * class SideDataContainer(_SideDataContainer, Mapping):             # <<<<<<<<<<<<<<
  *     pass
  */
-  __Pyx_GetModuleGlobalName(__pyx_t_3, __pyx_n_s_Mapping); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 92, __pyx_L1_error)
+  __Pyx_GetModuleGlobalName(__pyx_t_21, __pyx_n_s_Mapping); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 93, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  __pyx_t_3 = PyTuple_New(2); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 93, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_22 = PyTuple_New(2); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 92, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_22);
   __Pyx_INCREF((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer);
   __Pyx_GIVEREF((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 0, ((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer))) __PYX_ERR(0, 92, __pyx_L1_error);
-  __Pyx_GIVEREF(__pyx_t_3);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_22, 1, __pyx_t_3)) __PYX_ERR(0, 92, __pyx_L1_error);
-  __pyx_t_3 = 0;
-  __pyx_t_3 = __Pyx_PEP560_update_bases(__pyx_t_22); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 92, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_3); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 92, __pyx_L1_error)
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 0, ((PyObject *)__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer))) __PYX_ERR(0, 93, __pyx_L1_error);
+  __Pyx_GIVEREF(__pyx_t_21);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_3, 1, __pyx_t_21)) __PYX_ERR(0, 93, __pyx_L1_error);
+  __pyx_t_21 = 0;
+  __pyx_t_21 = __Pyx_PEP560_update_bases(__pyx_t_3); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 93, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  __pyx_t_2 = __Pyx_CalculateMetaclass(NULL, __pyx_t_21); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 93, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_19 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_3, __pyx_n_s_SideDataContainer_2, __pyx_n_s_SideDataContainer_2, (PyObject *) NULL, __pyx_n_s_av_sidedata_sidedata, (PyObject *) NULL); if (unlikely(!__pyx_t_19)) __PYX_ERR(0, 92, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_19);
-  if (__pyx_t_3 != __pyx_t_22) {
-    if (unlikely((PyDict_SetItemString(__pyx_t_19, "__orig_bases__", __pyx_t_22) < 0))) __PYX_ERR(0, 92, __pyx_L1_error)
+  __pyx_t_20 = __Pyx_Py3MetaclassPrepare(__pyx_t_2, __pyx_t_21, __pyx_n_s_SideDataContainer_2, __pyx_n_s_SideDataContainer_2, (PyObject *) NULL, __pyx_n_s_av_sidedata_sidedata, (PyObject *) NULL); if (unlikely(!__pyx_t_20)) __PYX_ERR(0, 93, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_20);
+  if (__pyx_t_21 != __pyx_t_3) {
+    if (unlikely((PyDict_SetItemString(__pyx_t_20, "__orig_bases__", __pyx_t_3) < 0))) __PYX_ERR(0, 93, __pyx_L1_error)
   }
-  __Pyx_DECREF(__pyx_t_22); __pyx_t_22 = 0;
-  __pyx_t_22 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_SideDataContainer_2, __pyx_t_3, __pyx_t_19, NULL, 0, 1); if (unlikely(!__pyx_t_22)) __PYX_ERR(0, 92, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_22);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_SideDataContainer_2, __pyx_t_22) < 0) __PYX_ERR(0, 92, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_22); __pyx_t_22 = 0;
-  __Pyx_DECREF(__pyx_t_19); __pyx_t_19 = 0;
-  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_3 = __Pyx_Py3ClassCreate(__pyx_t_2, __pyx_n_s_SideDataContainer_2, __pyx_t_21, __pyx_t_20, NULL, 0, 1); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 93, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_3);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_SideDataContainer_2, __pyx_t_3) < 0) __PYX_ERR(0, 93, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __Pyx_DECREF(__pyx_t_20); __pyx_t_20 = 0;
+  __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
 
   /* "(tree fragment)":1
  * def __pyx_unpickle__SideDataContainer(__pyx_type, long __pyx_checksum, __pyx_state):             # <<<<<<<<<<<<<<
  *     cdef object __pyx_PickleError
  *     cdef object __pyx_result
  */
-  __pyx_t_3 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_1__pyx_unpickle__SideDataContainer, 0, __pyx_n_s_pyx_unpickle__SideDataContaine, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__14)); if (unlikely(!__pyx_t_3)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle__SideDataContaine, __pyx_t_3) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_21 = __Pyx_CyFunction_New(&__pyx_mdef_2av_8sidedata_8sidedata_1__pyx_unpickle__SideDataContainer, 0, __pyx_n_s_pyx_unpickle__SideDataContaine, NULL, __pyx_n_s_av_sidedata_sidedata, __pyx_d, ((PyObject *)__pyx_codeobj__14)); if (unlikely(!__pyx_t_21)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_pyx_unpickle__SideDataContaine, __pyx_t_21) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
 
   /* "av/sidedata/sidedata.pyx":1
  * from av.enum cimport define_enum             # <<<<<<<<<<<<<<
  * 
  * from collections.abc import Mapping
  */
-  __pyx_t_3 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_t_3);
-  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_3) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
+  __pyx_t_21 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_21)) __PYX_ERR(0, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_21);
+  if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_21) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  __Pyx_DECREF(__pyx_t_21); __pyx_t_21 = 0;
 
   /*--- Wrapped vars code ---*/
 
   goto __pyx_L0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_2);
   __Pyx_XDECREF(__pyx_t_3);
@@ -7815,16 +7866,16 @@
   __Pyx_XDECREF(__pyx_t_13);
   __Pyx_XDECREF(__pyx_t_14);
   __Pyx_XDECREF(__pyx_t_15);
   __Pyx_XDECREF(__pyx_t_16);
   __Pyx_XDECREF(__pyx_t_17);
   __Pyx_XDECREF(__pyx_t_18);
   __Pyx_XDECREF(__pyx_t_19);
+  __Pyx_XDECREF(__pyx_t_20);
   __Pyx_XDECREF(__pyx_t_21);
-  __Pyx_XDECREF(__pyx_t_22);
   if (__pyx_m) {
     if (__pyx_d && stringtab_initialized) {
       __Pyx_AddTraceback("init av.sidedata.sidedata", __pyx_clineno, __pyx_lineno, __pyx_filename);
     }
     #if !CYTHON_USE_MODULE_STATE
     Py_CLEAR(__pyx_m);
     #else
@@ -9732,18 +9783,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9789,23 +9840,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -13314,17 +13365,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/stream.c` & `pyav-12.1.0rc1/src/av/stream.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1652,15 +1684,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1799,31 +1831,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2032,16 +2064,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2073,14 +2105,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2507,64 +2540,14 @@
 /* StrEquals.proto */
 #if PY_MAJOR_VERSION >= 3
 #define __Pyx_PyString_Equals __Pyx_PyUnicode_Equals
 #else
 #define __Pyx_PyString_Equals __Pyx_PyBytes_Equals
 #endif
 
-/* PyDictVersioning.proto */
-#if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
-#define __PYX_DICT_VERSION_INIT  ((PY_UINT64_T) -1)
-#define __PYX_GET_DICT_VERSION(dict)  (((PyDictObject*)(dict))->ma_version_tag)
-#define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)\
-    (version_var) = __PYX_GET_DICT_VERSION(dict);\
-    (cache_var) = (value);
-#define __PYX_PY_DICT_LOOKUP_IF_MODIFIED(VAR, DICT, LOOKUP) {\
-    static PY_UINT64_T __pyx_dict_version = 0;\
-    static PyObject *__pyx_dict_cached_value = NULL;\
-    if (likely(__PYX_GET_DICT_VERSION(DICT) == __pyx_dict_version)) {\
-        (VAR) = __pyx_dict_cached_value;\
-    } else {\
-        (VAR) = __pyx_dict_cached_value = (LOOKUP);\
-        __pyx_dict_version = __PYX_GET_DICT_VERSION(DICT);\
-    }\
-}
-static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj);
-static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj);
-static CYTHON_INLINE int __Pyx_object_dict_version_matches(PyObject* obj, PY_UINT64_T tp_dict_version, PY_UINT64_T obj_dict_version);
-#else
-#define __PYX_GET_DICT_VERSION(dict)  (0)
-#define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)
-#define __PYX_PY_DICT_LOOKUP_IF_MODIFIED(VAR, DICT, LOOKUP)  (VAR) = (LOOKUP);
-#endif
-
-/* GetModuleGlobalName.proto */
-#if CYTHON_USE_DICT_VERSIONS
-#define __Pyx_GetModuleGlobalName(var, name)  do {\
-    static PY_UINT64_T __pyx_dict_version = 0;\
-    static PyObject *__pyx_dict_cached_value = NULL;\
-    (var) = (likely(__pyx_dict_version == __PYX_GET_DICT_VERSION(__pyx_d))) ?\
-        (likely(__pyx_dict_cached_value) ? __Pyx_NewRef(__pyx_dict_cached_value) : __Pyx_GetBuiltinName(name)) :\
-        __Pyx__GetModuleGlobalName(name, &__pyx_dict_version, &__pyx_dict_cached_value);\
-} while(0)
-#define __Pyx_GetModuleGlobalNameUncached(var, name)  do {\
-    PY_UINT64_T __pyx_dict_version;\
-    PyObject *__pyx_dict_cached_value;\
-    (var) = __Pyx__GetModuleGlobalName(name, &__pyx_dict_version, &__pyx_dict_cached_value);\
-} while(0)
-static PyObject *__Pyx__GetModuleGlobalName(PyObject *name, PY_UINT64_T *dict_version, PyObject **dict_cached_value);
-#else
-#define __Pyx_GetModuleGlobalName(var, name)  (var) = __Pyx__GetModuleGlobalName(name)
-#define __Pyx_GetModuleGlobalNameUncached(var, name)  (var) = __Pyx__GetModuleGlobalName(name)
-static CYTHON_INLINE PyObject *__Pyx__GetModuleGlobalName(PyObject *name);
-#endif
-
-/* GetAttr.proto */
-static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);
-
 /* dict_getitem_default.proto */
 static PyObject* __Pyx_PyDict_GetItemDefault(PyObject* d, PyObject* key, PyObject* default_value);
 
 /* UnpackUnboundCMethod.proto */
 typedef struct {
     PyObject *type;
     PyObject **method_name;
@@ -2588,28 +2571,14 @@
 #else
 #define __Pyx_CallUnboundCMethod2(cfunc, self, arg1, arg2)  __Pyx__CallUnboundCMethod2(cfunc, self, arg1, arg2)
 #endif
 
 /* KeywordStringCheck.proto */
 static int __Pyx_CheckKeywordStrings(PyObject *kw, const char* function_name, int kw_allowed);
 
-/* PyObject_GenericGetAttrNoDict.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
-#endif
-
-/* PyObject_GenericGetAttr.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
-#endif
-
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
 
 /* FixUpExtensionType.proto */
 #if CYTHON_USE_TYPE_SPECS
 static int __Pyx_fix_up_extension_type_from_spec(PyType_Spec *spec, PyTypeObject *type);
 #endif
@@ -2627,14 +2596,28 @@
 #if CYTHON_COMPILING_IN_CPYTHON || CYTHON_COMPILING_IN_LIMITED_API || CYTHON_USE_TYPE_SPECS
 static int __Pyx_validate_bases_tuple(const char *type_name, Py_ssize_t dictoffset, PyObject *bases);
 #endif
 
 /* PyType_Ready.proto */
 CYTHON_UNUSED static int __Pyx_PyType_Ready(PyTypeObject *t);
 
+/* PyObject_GenericGetAttrNoDict.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
+#endif
+
+/* PyObject_GenericGetAttr.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
+#endif
+
 /* SetVTable.proto */
 static int __Pyx_SetVtable(PyTypeObject* typeptr , void* vtable);
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* MergeVTables.proto */
@@ -2644,41 +2627,88 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* ImportDottedModule.proto */
 static PyObject *__Pyx_ImportDottedModule(PyObject *name, PyObject *parts_tuple);
 #if PY_MAJOR_VERSION >= 3
 static PyObject *__Pyx_ImportDottedModule_WalkParts(PyObject *module, PyObject *name, PyObject *parts_tuple);
 #endif
 
 /* ImportDottedModuleRelFirst.proto */
 static PyObject *__Pyx_ImportDottedModuleRelFirst(PyObject *name, PyObject *parts_tuple);
 
+/* PyDictVersioning.proto */
+#if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
+#define __PYX_DICT_VERSION_INIT  ((PY_UINT64_T) -1)
+#define __PYX_GET_DICT_VERSION(dict)  (((PyDictObject*)(dict))->ma_version_tag)
+#define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)\
+    (version_var) = __PYX_GET_DICT_VERSION(dict);\
+    (cache_var) = (value);
+#define __PYX_PY_DICT_LOOKUP_IF_MODIFIED(VAR, DICT, LOOKUP) {\
+    static PY_UINT64_T __pyx_dict_version = 0;\
+    static PyObject *__pyx_dict_cached_value = NULL;\
+    if (likely(__PYX_GET_DICT_VERSION(DICT) == __pyx_dict_version)) {\
+        (VAR) = __pyx_dict_cached_value;\
+    } else {\
+        (VAR) = __pyx_dict_cached_value = (LOOKUP);\
+        __pyx_dict_version = __PYX_GET_DICT_VERSION(DICT);\
+    }\
+}
+static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj);
+static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj);
+static CYTHON_INLINE int __Pyx_object_dict_version_matches(PyObject* obj, PY_UINT64_T tp_dict_version, PY_UINT64_T obj_dict_version);
+#else
+#define __PYX_GET_DICT_VERSION(dict)  (0)
+#define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)
+#define __PYX_PY_DICT_LOOKUP_IF_MODIFIED(VAR, DICT, LOOKUP)  (VAR) = (LOOKUP);
+#endif
+
+/* GetModuleGlobalName.proto */
+#if CYTHON_USE_DICT_VERSIONS
+#define __Pyx_GetModuleGlobalName(var, name)  do {\
+    static PY_UINT64_T __pyx_dict_version = 0;\
+    static PyObject *__pyx_dict_cached_value = NULL;\
+    (var) = (likely(__pyx_dict_version == __PYX_GET_DICT_VERSION(__pyx_d))) ?\
+        (likely(__pyx_dict_cached_value) ? __Pyx_NewRef(__pyx_dict_cached_value) : __Pyx_GetBuiltinName(name)) :\
+        __Pyx__GetModuleGlobalName(name, &__pyx_dict_version, &__pyx_dict_cached_value);\
+} while(0)
+#define __Pyx_GetModuleGlobalNameUncached(var, name)  do {\
+    PY_UINT64_T __pyx_dict_version;\
+    PyObject *__pyx_dict_cached_value;\
+    (var) = __Pyx__GetModuleGlobalName(name, &__pyx_dict_version, &__pyx_dict_cached_value);\
+} while(0)
+static PyObject *__Pyx__GetModuleGlobalName(PyObject *name, PY_UINT64_T *dict_version, PyObject **dict_cached_value);
+#else
+#define __Pyx_GetModuleGlobalName(var, name)  (var) = __Pyx__GetModuleGlobalName(name)
+#define __Pyx_GetModuleGlobalNameUncached(var, name)  (var) = __Pyx__GetModuleGlobalName(name)
+static CYTHON_INLINE PyObject *__Pyx__GetModuleGlobalName(PyObject *name);
+#endif
+
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
 
 /* FetchCommonType.proto */
 #if !CYTHON_USE_TYPE_SPECS
 static PyTypeObject* __Pyx_FetchCommonType(PyTypeObject* type);
 #else
@@ -2900,15 +2930,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_6stream_6Stream__init(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, struct __pyx_obj_2av_9container_4core_Container *__pyx_v_container, struct AVStream *__pyx_v_stream, struct __pyx_obj_2av_5codec_7context_CodecContext *__pyx_v_codec_context); /* proto*/
 static PyObject *__pyx_f_2av_6stream_6Stream__finalize_for_output(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto*/
@@ -2987,20 +3017,18 @@
 static const char __pyx_k_gc[] = "gc";
 static const char __pyx_k_id[] = "id";
 static const char __pyx_k__12[] = "?";
 static const char __pyx_k_get[] = "get";
 static const char __pyx_k_new[] = "__new__";
 static const char __pyx_k_main[] = "__main__";
 static const char __pyx_k_name[] = "name";
-static const char __pyx_k_rate[] = "rate";
 static const char __pyx_k_self[] = "self";
 static const char __pyx_k_spec[] = "__spec__";
 static const char __pyx_k_test[] = "__test__";
 static const char __pyx_k_type[] = "type";
-static const char __pyx_k_warn[] = "warn";
 static const char __pyx_k_at_0x[] = " at 0x";
 static const char __pyx_k_class[] = "__class__";
 static const char __pyx_k_index[] = "index";
 static const char __pyx_k_range[] = "range";
 static const char __pyx_k_Stream[] = "Stream";
 static const char __pyx_k_enable[] = "enable";
 static const char __pyx_k_import[] = "__import__";
@@ -3014,31 +3042,27 @@
 static const char __pyx_k_SideData[] = "SideData";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_language[] = "language";
 static const char __pyx_k_setstate[] = "__setstate__";
 static const char __pyx_k_warnings[] = "warnings";
 static const char __pyx_k_TypeError[] = "TypeError";
 static const char __pyx_k_av_stream[] = "av.stream";
-static const char __pyx_k_framerate[] = "framerate";
 static const char __pyx_k_isenabled[] = "isenabled";
 static const char __pyx_k_pyx_state[] = "__pyx_state";
 static const char __pyx_k_reduce_ex[] = "__reduce_ex__";
-static const char __pyx_k_side_data[] = "side_data";
 static const char __pyx_k_time_base[] = "time_base";
 static const char __pyx_k_DataStream[] = "DataStream";
 static const char __pyx_k_pyx_vtable[] = "__pyx_vtable__";
 static const char __pyx_k_AudioStream[] = "AudioStream";
 static const char __pyx_k_VideoStream[] = "VideoStream";
 static const char __pyx_k_RuntimeError[] = "RuntimeError";
 static const char __pyx_k_initializing[] = "_initializing";
 static const char __pyx_k_is_coroutine[] = "_is_coroutine";
-static const char __pyx_k_nb_side_data[] = "nb_side_data";
 static const char __pyx_k_stringsource[] = "<stringsource>";
 static const char __pyx_k_DISPLAYMATRIX[] = "DISPLAYMATRIX";
-static const char __pyx_k_VideoStream_2[] = "VideoStream.";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
 static const char __pyx_k_AssertionError[] = "AssertionError";
 static const char __pyx_k_Display_Matrix[] = "Display Matrix";
 static const char __pyx_k_SubtitleStream[] = "SubtitleStream";
 static const char __pyx_k_av_data_stream[] = "av.data.stream";
 static const char __pyx_k_av_deprecation[] = "av.deprecation";
 static const char __pyx_k_av_audio_stream[] = "av.audio.stream";
@@ -3046,38 +3070,36 @@
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_av_subtitles_stream[] = "av.subtitles.stream";
 static const char __pyx_k_AVDeprecationWarning[] = "AVDeprecationWarning";
 static const char __pyx_k_Stream___reduce_cython[] = "Stream.__reduce_cython__";
 static const char __pyx_k_Stream___setstate_cython[] = "Stream.__setstate_cython__";
-static const char __pyx_k_is_deprecated_as_it_is_not_alwa[] = " is deprecated as it is not always set; please use VideoStream.average_rate.";
 static const char __pyx_k_cannot_manually_instantiate_Stre[] = "cannot manually instantiate Stream";
 static const char __pyx_k_no_default___reduce___due_to_non[] = "no default __reduce__ due to non-trivial __cinit__";
 /* #### Code section: decls ### */
 static int __pyx_pf_2av_6stream_6Stream___cinit__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_2__repr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_6stream_6Stream_4__getattr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
-static int __pyx_pf_2av_6stream_6Stream_6__setattr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /* proto */
+static int __pyx_pf_2av_6stream_6Stream_4__setattr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_2id___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_7profile___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_5index___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_9time_base___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_10start_time___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_8duration___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_6frames___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_8language___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_4type___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_9container___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_8metadata___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_12nb_side_data___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_9side_data___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_6stream_6Stream_13codec_context___get__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_6stream_6Stream_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_6stream_6Stream_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_6stream_6Stream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_2av_6stream_6Stream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_6stream_Stream(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 static __Pyx_CachedCFunction __pyx_umethod_PyDict_Type_get = {0, 0, 0, 0, 0};
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
   PyObject *__pyx_b;
@@ -3167,15 +3189,14 @@
   PyObject *__pyx_n_s_SideData;
   PyObject *__pyx_n_s_Stream;
   PyObject *__pyx_n_s_Stream___reduce_cython;
   PyObject *__pyx_n_s_Stream___setstate_cython;
   PyObject *__pyx_n_s_SubtitleStream;
   PyObject *__pyx_n_s_TypeError;
   PyObject *__pyx_n_s_VideoStream;
-  PyObject *__pyx_kp_u_VideoStream_2;
   PyObject *__pyx_n_s__12;
   PyObject *__pyx_kp_u__3;
   PyObject *__pyx_kp_u__4;
   PyObject *__pyx_kp_u__5;
   PyObject *__pyx_kp_u__6;
   PyObject *__pyx_n_s__7;
   PyObject *__pyx_n_s_asyncio_coroutines;
@@ -3188,53 +3209,47 @@
   PyObject *__pyx_n_s_av_subtitles_stream;
   PyObject *__pyx_n_s_av_video_stream;
   PyObject *__pyx_kp_s_cannot_manually_instantiate_Stre;
   PyObject *__pyx_n_s_class;
   PyObject *__pyx_n_s_cline_in_traceback;
   PyObject *__pyx_kp_u_disable;
   PyObject *__pyx_kp_u_enable;
-  PyObject *__pyx_n_s_framerate;
   PyObject *__pyx_kp_u_gc;
   PyObject *__pyx_n_s_get;
   PyObject *__pyx_n_s_getstate;
   PyObject *__pyx_n_s_id;
   PyObject *__pyx_n_s_import;
   PyObject *__pyx_n_s_index;
   PyObject *__pyx_n_s_initializing;
   PyObject *__pyx_n_s_is_coroutine;
-  PyObject *__pyx_kp_u_is_deprecated_as_it_is_not_alwa;
   PyObject *__pyx_kp_u_isenabled;
   PyObject *__pyx_n_s_language;
   PyObject *__pyx_n_s_main;
   PyObject *__pyx_n_s_name;
   PyObject *__pyx_n_s_name_2;
-  PyObject *__pyx_n_s_nb_side_data;
   PyObject *__pyx_n_s_new;
   PyObject *__pyx_kp_s_no_default___reduce___due_to_non;
   PyObject *__pyx_kp_s_nocodec;
   PyObject *__pyx_kp_s_notype;
   PyObject *__pyx_n_s_object;
   PyObject *__pyx_n_s_profile;
   PyObject *__pyx_n_s_pyx_state;
   PyObject *__pyx_n_s_pyx_vtable;
   PyObject *__pyx_n_s_range;
-  PyObject *__pyx_n_s_rate;
   PyObject *__pyx_n_s_reduce;
   PyObject *__pyx_n_s_reduce_cython;
   PyObject *__pyx_n_s_reduce_ex;
   PyObject *__pyx_n_s_self;
   PyObject *__pyx_n_s_setstate;
   PyObject *__pyx_n_s_setstate_cython;
-  PyObject *__pyx_n_s_side_data;
   PyObject *__pyx_n_s_spec;
   PyObject *__pyx_kp_s_stringsource;
   PyObject *__pyx_n_s_test;
   PyObject *__pyx_n_s_time_base;
   PyObject *__pyx_n_s_type;
-  PyObject *__pyx_n_s_warn;
   PyObject *__pyx_n_s_warnings;
   PyObject *__pyx_n_u_x;
   PyObject *__pyx_tuple__2;
   PyObject *__pyx_tuple__8;
   PyObject *__pyx_tuple__10;
   PyObject *__pyx_codeobj__9;
   PyObject *__pyx_codeobj__11;
@@ -3306,15 +3321,14 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_SideData);
   Py_CLEAR(clear_module_state->__pyx_n_s_Stream);
   Py_CLEAR(clear_module_state->__pyx_n_s_Stream___reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_Stream___setstate_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_SubtitleStream);
   Py_CLEAR(clear_module_state->__pyx_n_s_TypeError);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoStream);
-  Py_CLEAR(clear_module_state->__pyx_kp_u_VideoStream_2);
   Py_CLEAR(clear_module_state->__pyx_n_s__12);
   Py_CLEAR(clear_module_state->__pyx_kp_u__3);
   Py_CLEAR(clear_module_state->__pyx_kp_u__4);
   Py_CLEAR(clear_module_state->__pyx_kp_u__5);
   Py_CLEAR(clear_module_state->__pyx_kp_u__6);
   Py_CLEAR(clear_module_state->__pyx_n_s__7);
   Py_CLEAR(clear_module_state->__pyx_n_s_asyncio_coroutines);
@@ -3327,53 +3341,47 @@
   Py_CLEAR(clear_module_state->__pyx_n_s_av_subtitles_stream);
   Py_CLEAR(clear_module_state->__pyx_n_s_av_video_stream);
   Py_CLEAR(clear_module_state->__pyx_kp_s_cannot_manually_instantiate_Stre);
   Py_CLEAR(clear_module_state->__pyx_n_s_class);
   Py_CLEAR(clear_module_state->__pyx_n_s_cline_in_traceback);
   Py_CLEAR(clear_module_state->__pyx_kp_u_disable);
   Py_CLEAR(clear_module_state->__pyx_kp_u_enable);
-  Py_CLEAR(clear_module_state->__pyx_n_s_framerate);
   Py_CLEAR(clear_module_state->__pyx_kp_u_gc);
   Py_CLEAR(clear_module_state->__pyx_n_s_get);
   Py_CLEAR(clear_module_state->__pyx_n_s_getstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_id);
   Py_CLEAR(clear_module_state->__pyx_n_s_import);
   Py_CLEAR(clear_module_state->__pyx_n_s_index);
   Py_CLEAR(clear_module_state->__pyx_n_s_initializing);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_coroutine);
-  Py_CLEAR(clear_module_state->__pyx_kp_u_is_deprecated_as_it_is_not_alwa);
   Py_CLEAR(clear_module_state->__pyx_kp_u_isenabled);
   Py_CLEAR(clear_module_state->__pyx_n_s_language);
   Py_CLEAR(clear_module_state->__pyx_n_s_main);
   Py_CLEAR(clear_module_state->__pyx_n_s_name);
   Py_CLEAR(clear_module_state->__pyx_n_s_name_2);
-  Py_CLEAR(clear_module_state->__pyx_n_s_nb_side_data);
   Py_CLEAR(clear_module_state->__pyx_n_s_new);
   Py_CLEAR(clear_module_state->__pyx_kp_s_no_default___reduce___due_to_non);
   Py_CLEAR(clear_module_state->__pyx_kp_s_nocodec);
   Py_CLEAR(clear_module_state->__pyx_kp_s_notype);
   Py_CLEAR(clear_module_state->__pyx_n_s_object);
   Py_CLEAR(clear_module_state->__pyx_n_s_profile);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_state);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_vtable);
   Py_CLEAR(clear_module_state->__pyx_n_s_range);
-  Py_CLEAR(clear_module_state->__pyx_n_s_rate);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_ex);
   Py_CLEAR(clear_module_state->__pyx_n_s_self);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate_cython);
-  Py_CLEAR(clear_module_state->__pyx_n_s_side_data);
   Py_CLEAR(clear_module_state->__pyx_n_s_spec);
   Py_CLEAR(clear_module_state->__pyx_kp_s_stringsource);
   Py_CLEAR(clear_module_state->__pyx_n_s_test);
   Py_CLEAR(clear_module_state->__pyx_n_s_time_base);
   Py_CLEAR(clear_module_state->__pyx_n_s_type);
-  Py_CLEAR(clear_module_state->__pyx_n_s_warn);
   Py_CLEAR(clear_module_state->__pyx_n_s_warnings);
   Py_CLEAR(clear_module_state->__pyx_n_u_x);
   Py_CLEAR(clear_module_state->__pyx_tuple__2);
   Py_CLEAR(clear_module_state->__pyx_tuple__8);
   Py_CLEAR(clear_module_state->__pyx_tuple__10);
   Py_CLEAR(clear_module_state->__pyx_codeobj__9);
   Py_CLEAR(clear_module_state->__pyx_codeobj__11);
@@ -3423,15 +3431,14 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_SideData);
   Py_VISIT(traverse_module_state->__pyx_n_s_Stream);
   Py_VISIT(traverse_module_state->__pyx_n_s_Stream___reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_Stream___setstate_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_SubtitleStream);
   Py_VISIT(traverse_module_state->__pyx_n_s_TypeError);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoStream);
-  Py_VISIT(traverse_module_state->__pyx_kp_u_VideoStream_2);
   Py_VISIT(traverse_module_state->__pyx_n_s__12);
   Py_VISIT(traverse_module_state->__pyx_kp_u__3);
   Py_VISIT(traverse_module_state->__pyx_kp_u__4);
   Py_VISIT(traverse_module_state->__pyx_kp_u__5);
   Py_VISIT(traverse_module_state->__pyx_kp_u__6);
   Py_VISIT(traverse_module_state->__pyx_n_s__7);
   Py_VISIT(traverse_module_state->__pyx_n_s_asyncio_coroutines);
@@ -3444,53 +3451,47 @@
   Py_VISIT(traverse_module_state->__pyx_n_s_av_subtitles_stream);
   Py_VISIT(traverse_module_state->__pyx_n_s_av_video_stream);
   Py_VISIT(traverse_module_state->__pyx_kp_s_cannot_manually_instantiate_Stre);
   Py_VISIT(traverse_module_state->__pyx_n_s_class);
   Py_VISIT(traverse_module_state->__pyx_n_s_cline_in_traceback);
   Py_VISIT(traverse_module_state->__pyx_kp_u_disable);
   Py_VISIT(traverse_module_state->__pyx_kp_u_enable);
-  Py_VISIT(traverse_module_state->__pyx_n_s_framerate);
   Py_VISIT(traverse_module_state->__pyx_kp_u_gc);
   Py_VISIT(traverse_module_state->__pyx_n_s_get);
   Py_VISIT(traverse_module_state->__pyx_n_s_getstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_id);
   Py_VISIT(traverse_module_state->__pyx_n_s_import);
   Py_VISIT(traverse_module_state->__pyx_n_s_index);
   Py_VISIT(traverse_module_state->__pyx_n_s_initializing);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_coroutine);
-  Py_VISIT(traverse_module_state->__pyx_kp_u_is_deprecated_as_it_is_not_alwa);
   Py_VISIT(traverse_module_state->__pyx_kp_u_isenabled);
   Py_VISIT(traverse_module_state->__pyx_n_s_language);
   Py_VISIT(traverse_module_state->__pyx_n_s_main);
   Py_VISIT(traverse_module_state->__pyx_n_s_name);
   Py_VISIT(traverse_module_state->__pyx_n_s_name_2);
-  Py_VISIT(traverse_module_state->__pyx_n_s_nb_side_data);
   Py_VISIT(traverse_module_state->__pyx_n_s_new);
   Py_VISIT(traverse_module_state->__pyx_kp_s_no_default___reduce___due_to_non);
   Py_VISIT(traverse_module_state->__pyx_kp_s_nocodec);
   Py_VISIT(traverse_module_state->__pyx_kp_s_notype);
   Py_VISIT(traverse_module_state->__pyx_n_s_object);
   Py_VISIT(traverse_module_state->__pyx_n_s_profile);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_state);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_vtable);
   Py_VISIT(traverse_module_state->__pyx_n_s_range);
-  Py_VISIT(traverse_module_state->__pyx_n_s_rate);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_ex);
   Py_VISIT(traverse_module_state->__pyx_n_s_self);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate_cython);
-  Py_VISIT(traverse_module_state->__pyx_n_s_side_data);
   Py_VISIT(traverse_module_state->__pyx_n_s_spec);
   Py_VISIT(traverse_module_state->__pyx_kp_s_stringsource);
   Py_VISIT(traverse_module_state->__pyx_n_s_test);
   Py_VISIT(traverse_module_state->__pyx_n_s_time_base);
   Py_VISIT(traverse_module_state->__pyx_n_s_type);
-  Py_VISIT(traverse_module_state->__pyx_n_s_warn);
   Py_VISIT(traverse_module_state->__pyx_n_s_warnings);
   Py_VISIT(traverse_module_state->__pyx_n_u_x);
   Py_VISIT(traverse_module_state->__pyx_tuple__2);
   Py_VISIT(traverse_module_state->__pyx_tuple__8);
   Py_VISIT(traverse_module_state->__pyx_tuple__10);
   Py_VISIT(traverse_module_state->__pyx_codeobj__9);
   Py_VISIT(traverse_module_state->__pyx_codeobj__11);
@@ -3586,15 +3587,14 @@
 #define __pyx_n_s_SideData __pyx_mstate_global->__pyx_n_s_SideData
 #define __pyx_n_s_Stream __pyx_mstate_global->__pyx_n_s_Stream
 #define __pyx_n_s_Stream___reduce_cython __pyx_mstate_global->__pyx_n_s_Stream___reduce_cython
 #define __pyx_n_s_Stream___setstate_cython __pyx_mstate_global->__pyx_n_s_Stream___setstate_cython
 #define __pyx_n_s_SubtitleStream __pyx_mstate_global->__pyx_n_s_SubtitleStream
 #define __pyx_n_s_TypeError __pyx_mstate_global->__pyx_n_s_TypeError
 #define __pyx_n_s_VideoStream __pyx_mstate_global->__pyx_n_s_VideoStream
-#define __pyx_kp_u_VideoStream_2 __pyx_mstate_global->__pyx_kp_u_VideoStream_2
 #define __pyx_n_s__12 __pyx_mstate_global->__pyx_n_s__12
 #define __pyx_kp_u__3 __pyx_mstate_global->__pyx_kp_u__3
 #define __pyx_kp_u__4 __pyx_mstate_global->__pyx_kp_u__4
 #define __pyx_kp_u__5 __pyx_mstate_global->__pyx_kp_u__5
 #define __pyx_kp_u__6 __pyx_mstate_global->__pyx_kp_u__6
 #define __pyx_n_s__7 __pyx_mstate_global->__pyx_n_s__7
 #define __pyx_n_s_asyncio_coroutines __pyx_mstate_global->__pyx_n_s_asyncio_coroutines
@@ -3607,53 +3607,47 @@
 #define __pyx_n_s_av_subtitles_stream __pyx_mstate_global->__pyx_n_s_av_subtitles_stream
 #define __pyx_n_s_av_video_stream __pyx_mstate_global->__pyx_n_s_av_video_stream
 #define __pyx_kp_s_cannot_manually_instantiate_Stre __pyx_mstate_global->__pyx_kp_s_cannot_manually_instantiate_Stre
 #define __pyx_n_s_class __pyx_mstate_global->__pyx_n_s_class
 #define __pyx_n_s_cline_in_traceback __pyx_mstate_global->__pyx_n_s_cline_in_traceback
 #define __pyx_kp_u_disable __pyx_mstate_global->__pyx_kp_u_disable
 #define __pyx_kp_u_enable __pyx_mstate_global->__pyx_kp_u_enable
-#define __pyx_n_s_framerate __pyx_mstate_global->__pyx_n_s_framerate
 #define __pyx_kp_u_gc __pyx_mstate_global->__pyx_kp_u_gc
 #define __pyx_n_s_get __pyx_mstate_global->__pyx_n_s_get
 #define __pyx_n_s_getstate __pyx_mstate_global->__pyx_n_s_getstate
 #define __pyx_n_s_id __pyx_mstate_global->__pyx_n_s_id
 #define __pyx_n_s_import __pyx_mstate_global->__pyx_n_s_import
 #define __pyx_n_s_index __pyx_mstate_global->__pyx_n_s_index
 #define __pyx_n_s_initializing __pyx_mstate_global->__pyx_n_s_initializing
 #define __pyx_n_s_is_coroutine __pyx_mstate_global->__pyx_n_s_is_coroutine
-#define __pyx_kp_u_is_deprecated_as_it_is_not_alwa __pyx_mstate_global->__pyx_kp_u_is_deprecated_as_it_is_not_alwa
 #define __pyx_kp_u_isenabled __pyx_mstate_global->__pyx_kp_u_isenabled
 #define __pyx_n_s_language __pyx_mstate_global->__pyx_n_s_language
 #define __pyx_n_s_main __pyx_mstate_global->__pyx_n_s_main
 #define __pyx_n_s_name __pyx_mstate_global->__pyx_n_s_name
 #define __pyx_n_s_name_2 __pyx_mstate_global->__pyx_n_s_name_2
-#define __pyx_n_s_nb_side_data __pyx_mstate_global->__pyx_n_s_nb_side_data
 #define __pyx_n_s_new __pyx_mstate_global->__pyx_n_s_new
 #define __pyx_kp_s_no_default___reduce___due_to_non __pyx_mstate_global->__pyx_kp_s_no_default___reduce___due_to_non
 #define __pyx_kp_s_nocodec __pyx_mstate_global->__pyx_kp_s_nocodec
 #define __pyx_kp_s_notype __pyx_mstate_global->__pyx_kp_s_notype
 #define __pyx_n_s_object __pyx_mstate_global->__pyx_n_s_object
 #define __pyx_n_s_profile __pyx_mstate_global->__pyx_n_s_profile
 #define __pyx_n_s_pyx_state __pyx_mstate_global->__pyx_n_s_pyx_state
 #define __pyx_n_s_pyx_vtable __pyx_mstate_global->__pyx_n_s_pyx_vtable
 #define __pyx_n_s_range __pyx_mstate_global->__pyx_n_s_range
-#define __pyx_n_s_rate __pyx_mstate_global->__pyx_n_s_rate
 #define __pyx_n_s_reduce __pyx_mstate_global->__pyx_n_s_reduce
 #define __pyx_n_s_reduce_cython __pyx_mstate_global->__pyx_n_s_reduce_cython
 #define __pyx_n_s_reduce_ex __pyx_mstate_global->__pyx_n_s_reduce_ex
 #define __pyx_n_s_self __pyx_mstate_global->__pyx_n_s_self
 #define __pyx_n_s_setstate __pyx_mstate_global->__pyx_n_s_setstate
 #define __pyx_n_s_setstate_cython __pyx_mstate_global->__pyx_n_s_setstate_cython
-#define __pyx_n_s_side_data __pyx_mstate_global->__pyx_n_s_side_data
 #define __pyx_n_s_spec __pyx_mstate_global->__pyx_n_s_spec
 #define __pyx_kp_s_stringsource __pyx_mstate_global->__pyx_kp_s_stringsource
 #define __pyx_n_s_test __pyx_mstate_global->__pyx_n_s_test
 #define __pyx_n_s_time_base __pyx_mstate_global->__pyx_n_s_time_base
 #define __pyx_n_s_type __pyx_mstate_global->__pyx_n_s_type
-#define __pyx_n_s_warn __pyx_mstate_global->__pyx_n_s_warn
 #define __pyx_n_s_warnings __pyx_mstate_global->__pyx_n_s_warnings
 #define __pyx_n_u_x __pyx_mstate_global->__pyx_n_u_x
 #define __pyx_tuple__2 __pyx_mstate_global->__pyx_tuple__2
 #define __pyx_tuple__8 __pyx_mstate_global->__pyx_tuple__8
 #define __pyx_tuple__10 __pyx_mstate_global->__pyx_tuple__10
 #define __pyx_codeobj__9 __pyx_mstate_global->__pyx_codeobj__9
 #define __pyx_codeobj__11 __pyx_mstate_global->__pyx_codeobj__11
@@ -4622,432 +4616,148 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "av/stream.pyx":104
  *         )
  * 
- *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
- *         # Deprecate framerate pass-through as it is not always set.
- *         # See: https://github.com/PyAV-Org/PyAV/issues/1005
- */
-
-/* Python wrapper */
-static PyObject *__pyx_pw_2av_6stream_6Stream_5__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
-static PyObject *__pyx_pw_2av_6stream_6Stream_5__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
-  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
-  PyObject *__pyx_r = 0;
-  __Pyx_RefNannyDeclarations
-  __Pyx_RefNannySetupContext("__getattr__ (wrapper)", 0);
-  __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
-  __pyx_r = __pyx_pf_2av_6stream_6Stream_4__getattr__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self), ((PyObject *)__pyx_v_name));
-
-  /* function exit code */
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-static PyObject *__pyx_pf_2av_6stream_6Stream_4__getattr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name) {
-  PyObject *__pyx_r = NULL;
-  __Pyx_RefNannyDeclarations
-  int __pyx_t_1;
-  int __pyx_t_2;
-  PyObject *__pyx_t_3 = NULL;
-  int __pyx_t_4;
-  PyObject *__pyx_t_5 = NULL;
-  PyObject *__pyx_t_6 = NULL;
-  Py_ssize_t __pyx_t_7;
-  Py_UCS4 __pyx_t_8;
-  PyObject *__pyx_t_9 = NULL;
-  PyObject *__pyx_t_10 = NULL;
-  int __pyx_t_11;
-  int __pyx_lineno = 0;
-  const char *__pyx_filename = NULL;
-  int __pyx_clineno = 0;
-  __Pyx_RefNannySetupContext("__getattr__", 1);
-
-  /* "av/stream.pyx":107
- *         # Deprecate framerate pass-through as it is not always set.
- *         # See: https://github.com/PyAV-Org/PyAV/issues/1005
- *         if self.ptr.codecpar.codec_type == lib.AVMEDIA_TYPE_VIDEO and name in ("framerate", "rate"):             # <<<<<<<<<<<<<<
- *             warnings.warn(
- *                 f"VideoStream.{name} is deprecated as it is not always set; please use VideoStream.average_rate.",
- */
-  __pyx_t_2 = (__pyx_v_self->ptr->codecpar->codec_type == AVMEDIA_TYPE_VIDEO);
-  if (__pyx_t_2) {
-  } else {
-    __pyx_t_1 = __pyx_t_2;
-    goto __pyx_L4_bool_binop_done;
-  }
-  __Pyx_INCREF(__pyx_v_name);
-  __pyx_t_3 = __pyx_v_name;
-  __pyx_t_4 = (__Pyx_PyString_Equals(__pyx_t_3, __pyx_n_s_framerate, Py_EQ)); if (unlikely((__pyx_t_4 < 0))) __PYX_ERR(0, 107, __pyx_L1_error)
-  if (!__pyx_t_4) {
-  } else {
-    __pyx_t_2 = __pyx_t_4;
-    goto __pyx_L6_bool_binop_done;
-  }
-  __pyx_t_4 = (__Pyx_PyString_Equals(__pyx_t_3, __pyx_n_s_rate, Py_EQ)); if (unlikely((__pyx_t_4 < 0))) __PYX_ERR(0, 107, __pyx_L1_error)
-  __pyx_t_2 = __pyx_t_4;
-  __pyx_L6_bool_binop_done:;
-  __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-  __pyx_t_4 = __pyx_t_2;
-  __pyx_t_1 = __pyx_t_4;
-  __pyx_L4_bool_binop_done:;
-  if (__pyx_t_1) {
-
-    /* "av/stream.pyx":108
- *         # See: https://github.com/PyAV-Org/PyAV/issues/1005
- *         if self.ptr.codecpar.codec_type == lib.AVMEDIA_TYPE_VIDEO and name in ("framerate", "rate"):
- *             warnings.warn(             # <<<<<<<<<<<<<<
- *                 f"VideoStream.{name} is deprecated as it is not always set; please use VideoStream.average_rate.",
- *                 AVDeprecationWarning
- */
-    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_warnings); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 108, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(__pyx_t_5, __pyx_n_s_warn); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 108, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-
-    /* "av/stream.pyx":109
- *         if self.ptr.codecpar.codec_type == lib.AVMEDIA_TYPE_VIDEO and name in ("framerate", "rate"):
- *             warnings.warn(
- *                 f"VideoStream.{name} is deprecated as it is not always set; please use VideoStream.average_rate.",             # <<<<<<<<<<<<<<
- *                 AVDeprecationWarning
- *             )
- */
-    __pyx_t_5 = PyTuple_New(3); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 109, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_7 = 0;
-    __pyx_t_8 = 127;
-    __Pyx_INCREF(__pyx_kp_u_VideoStream_2);
-    __pyx_t_7 += 12;
-    __Pyx_GIVEREF(__pyx_kp_u_VideoStream_2);
-    PyTuple_SET_ITEM(__pyx_t_5, 0, __pyx_kp_u_VideoStream_2);
-    __pyx_t_9 = __Pyx_PyObject_FormatSimple(__pyx_v_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 109, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_9);
-    __pyx_t_8 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_9) > __pyx_t_8) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_9) : __pyx_t_8;
-    __pyx_t_7 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_9);
-    __Pyx_GIVEREF(__pyx_t_9);
-    PyTuple_SET_ITEM(__pyx_t_5, 1, __pyx_t_9);
-    __pyx_t_9 = 0;
-    __Pyx_INCREF(__pyx_kp_u_is_deprecated_as_it_is_not_alwa);
-    __pyx_t_7 += 76;
-    __Pyx_GIVEREF(__pyx_kp_u_is_deprecated_as_it_is_not_alwa);
-    PyTuple_SET_ITEM(__pyx_t_5, 2, __pyx_kp_u_is_deprecated_as_it_is_not_alwa);
-    __pyx_t_9 = __Pyx_PyUnicode_Join(__pyx_t_5, 3, __pyx_t_7, __pyx_t_8); if (unlikely(!__pyx_t_9)) __PYX_ERR(0, 109, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_9);
-    __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-
-    /* "av/stream.pyx":110
- *             warnings.warn(
- *                 f"VideoStream.{name} is deprecated as it is not always set; please use VideoStream.average_rate.",
- *                 AVDeprecationWarning             # <<<<<<<<<<<<<<
- *             )
- * 
- */
-    __Pyx_GetModuleGlobalName(__pyx_t_5, __pyx_n_s_AVDeprecationWarning); if (unlikely(!__pyx_t_5)) __PYX_ERR(0, 110, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_5);
-    __pyx_t_10 = NULL;
-    __pyx_t_11 = 0;
-    #if CYTHON_UNPACK_METHODS
-    if (unlikely(PyMethod_Check(__pyx_t_6))) {
-      __pyx_t_10 = PyMethod_GET_SELF(__pyx_t_6);
-      if (likely(__pyx_t_10)) {
-        PyObject* function = PyMethod_GET_FUNCTION(__pyx_t_6);
-        __Pyx_INCREF(__pyx_t_10);
-        __Pyx_INCREF(function);
-        __Pyx_DECREF_SET(__pyx_t_6, function);
-        __pyx_t_11 = 1;
-      }
-    }
-    #endif
-    {
-      PyObject *__pyx_callargs[3] = {__pyx_t_10, __pyx_t_9, __pyx_t_5};
-      __pyx_t_3 = __Pyx_PyObject_FastCall(__pyx_t_6, __pyx_callargs+1-__pyx_t_11, 2+__pyx_t_11);
-      __Pyx_XDECREF(__pyx_t_10); __pyx_t_10 = 0;
-      __Pyx_DECREF(__pyx_t_9); __pyx_t_9 = 0;
-      __Pyx_DECREF(__pyx_t_5); __pyx_t_5 = 0;
-      if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 108, __pyx_L1_error)
-      __Pyx_GOTREF(__pyx_t_3);
-      __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
-    }
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-
-    /* "av/stream.pyx":107
- *         # Deprecate framerate pass-through as it is not always set.
- *         # See: https://github.com/PyAV-Org/PyAV/issues/1005
- *         if self.ptr.codecpar.codec_type == lib.AVMEDIA_TYPE_VIDEO and name in ("framerate", "rate"):             # <<<<<<<<<<<<<<
- *             warnings.warn(
- *                 f"VideoStream.{name} is deprecated as it is not always set; please use VideoStream.average_rate.",
- */
-  }
-
-  /* "av/stream.pyx":113
- *             )
- * 
- *         if name == "side_data":             # <<<<<<<<<<<<<<
- *             return self.side_data
- *         elif name == "nb_side_data":
- */
-  __pyx_t_1 = (__Pyx_PyString_Equals(__pyx_v_name, __pyx_n_s_side_data, Py_EQ)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 113, __pyx_L1_error)
-  if (__pyx_t_1) {
-
-    /* "av/stream.pyx":114
- * 
- *         if name == "side_data":
- *             return self.side_data             # <<<<<<<<<<<<<<
- *         elif name == "nb_side_data":
- *             return self.nb_side_data
- */
-    __Pyx_XDECREF(__pyx_r);
-    __Pyx_INCREF(__pyx_v_self->side_data);
-    __pyx_r = __pyx_v_self->side_data;
-    goto __pyx_L0;
-
-    /* "av/stream.pyx":113
- *             )
- * 
- *         if name == "side_data":             # <<<<<<<<<<<<<<
- *             return self.side_data
- *         elif name == "nb_side_data":
- */
-  }
-
-  /* "av/stream.pyx":115
- *         if name == "side_data":
- *             return self.side_data
- *         elif name == "nb_side_data":             # <<<<<<<<<<<<<<
- *             return self.nb_side_data
- * 
- */
-  __pyx_t_1 = (__Pyx_PyString_Equals(__pyx_v_name, __pyx_n_s_nb_side_data, Py_EQ)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 115, __pyx_L1_error)
-  if (__pyx_t_1) {
-
-    /* "av/stream.pyx":116
- *             return self.side_data
- *         elif name == "nb_side_data":
- *             return self.nb_side_data             # <<<<<<<<<<<<<<
- * 
- *         # Convenience getter for codec context properties.
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = __Pyx_PyInt_From_int(__pyx_v_self->nb_side_data); if (unlikely(!__pyx_t_3)) __PYX_ERR(0, 116, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_3);
-    __pyx_r = __pyx_t_3;
-    __pyx_t_3 = 0;
-    goto __pyx_L0;
-
-    /* "av/stream.pyx":115
- *         if name == "side_data":
- *             return self.side_data
- *         elif name == "nb_side_data":             # <<<<<<<<<<<<<<
- *             return self.nb_side_data
- * 
- */
-  }
-
-  /* "av/stream.pyx":119
- * 
- *         # Convenience getter for codec context properties.
- *         if self.codec_context is not None:             # <<<<<<<<<<<<<<
- *             return getattr(self.codec_context, name)
- * 
- */
-  __pyx_t_1 = (((PyObject *)__pyx_v_self->codec_context) != Py_None);
-  if (__pyx_t_1) {
-
-    /* "av/stream.pyx":120
- *         # Convenience getter for codec context properties.
- *         if self.codec_context is not None:
- *             return getattr(self.codec_context, name)             # <<<<<<<<<<<<<<
- * 
- *     def __setattr__(self, name, value):
- */
-    __Pyx_XDECREF(__pyx_r);
-    __pyx_t_3 = ((PyObject *)__pyx_v_self->codec_context);
-    __Pyx_INCREF(__pyx_t_3);
-    __pyx_t_6 = __Pyx_GetAttr(__pyx_t_3, __pyx_v_name); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 120, __pyx_L1_error)
-    __Pyx_GOTREF(__pyx_t_6);
-    __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
-    __pyx_r = __pyx_t_6;
-    __pyx_t_6 = 0;
-    goto __pyx_L0;
-
-    /* "av/stream.pyx":119
- * 
- *         # Convenience getter for codec context properties.
- *         if self.codec_context is not None:             # <<<<<<<<<<<<<<
- *             return getattr(self.codec_context, name)
- * 
- */
-  }
-
-  /* "av/stream.pyx":104
- *         )
- * 
- *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
- *         # Deprecate framerate pass-through as it is not always set.
- *         # See: https://github.com/PyAV-Org/PyAV/issues/1005
- */
-
-  /* function exit code */
-  __pyx_r = Py_None; __Pyx_INCREF(Py_None);
-  goto __pyx_L0;
-  __pyx_L1_error:;
-  __Pyx_XDECREF(__pyx_t_3);
-  __Pyx_XDECREF(__pyx_t_5);
-  __Pyx_XDECREF(__pyx_t_6);
-  __Pyx_XDECREF(__pyx_t_9);
-  __Pyx_XDECREF(__pyx_t_10);
-  __Pyx_AddTraceback("av.stream.Stream.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
-  __pyx_r = NULL;
-  __pyx_L0:;
-  __Pyx_XGIVEREF(__pyx_r);
-  __Pyx_RefNannyFinishContext();
-  return __pyx_r;
-}
-
-/* "av/stream.pyx":122
- *             return getattr(self.codec_context, name)
- * 
  *     def __setattr__(self, name, value):             # <<<<<<<<<<<<<<
  *         if name == "id":
  *             self._set_id(value)
  */
 
 /* Python wrapper */
-static int __pyx_pw_2av_6stream_6Stream_7__setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
-static int __pyx_pw_2av_6stream_6Stream_7__setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
+static int __pyx_pw_2av_6stream_6Stream_5__setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value); /*proto*/
+static int __pyx_pw_2av_6stream_6Stream_5__setattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
   CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__setattr__ (wrapper)", 0);
   __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
-  __pyx_r = __pyx_pf_2av_6stream_6Stream_6__setattr__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self), ((PyObject *)__pyx_v_name), ((PyObject *)__pyx_v_value));
+  __pyx_r = __pyx_pf_2av_6stream_6Stream_4__setattr__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self), ((PyObject *)__pyx_v_name), ((PyObject *)__pyx_v_value));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static int __pyx_pf_2av_6stream_6Stream_6__setattr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
+static int __pyx_pf_2av_6stream_6Stream_4__setattr__(struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, PyObject *__pyx_v_name, PyObject *__pyx_v_value) {
   int __pyx_r;
   __Pyx_RefNannyDeclarations
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_t_3;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setattr__", 1);
 
-  /* "av/stream.pyx":123
+  /* "av/stream.pyx":105
  * 
  *     def __setattr__(self, name, value):
  *         if name == "id":             # <<<<<<<<<<<<<<
  *             self._set_id(value)
  *             return
  */
-  __pyx_t_1 = (__Pyx_PyString_Equals(__pyx_v_name, __pyx_n_s_id, Py_EQ)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 123, __pyx_L1_error)
+  __pyx_t_1 = (__Pyx_PyString_Equals(__pyx_v_name, __pyx_n_s_id, Py_EQ)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 105, __pyx_L1_error)
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":124
+    /* "av/stream.pyx":106
  *     def __setattr__(self, name, value):
  *         if name == "id":
  *             self._set_id(value)             # <<<<<<<<<<<<<<
  *             return
  * 
  */
-    __pyx_t_2 = ((struct __pyx_vtabstruct_2av_6stream_Stream *)__pyx_v_self->__pyx_vtab)->_set_id(__pyx_v_self, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 124, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_2av_6stream_Stream *)__pyx_v_self->__pyx_vtab)->_set_id(__pyx_v_self, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 106, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "av/stream.pyx":125
+    /* "av/stream.pyx":107
  *         if name == "id":
  *             self._set_id(value)
  *             return             # <<<<<<<<<<<<<<
  * 
  *         # Convenience setter for codec context properties.
  */
     __pyx_r = 0;
     goto __pyx_L0;
 
-    /* "av/stream.pyx":123
+    /* "av/stream.pyx":105
  * 
  *     def __setattr__(self, name, value):
  *         if name == "id":             # <<<<<<<<<<<<<<
  *             self._set_id(value)
  *             return
  */
   }
 
-  /* "av/stream.pyx":128
+  /* "av/stream.pyx":110
  * 
  *         # Convenience setter for codec context properties.
  *         if self.codec_context is not None:             # <<<<<<<<<<<<<<
  *             setattr(self.codec_context, name, value)
  * 
  */
   __pyx_t_1 = (((PyObject *)__pyx_v_self->codec_context) != Py_None);
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":129
+    /* "av/stream.pyx":111
  *         # Convenience setter for codec context properties.
  *         if self.codec_context is not None:
  *             setattr(self.codec_context, name, value)             # <<<<<<<<<<<<<<
  * 
  *         if name == "time_base":
  */
     __pyx_t_2 = ((PyObject *)__pyx_v_self->codec_context);
     __Pyx_INCREF(__pyx_t_2);
-    __pyx_t_3 = PyObject_SetAttr(__pyx_t_2, __pyx_v_name, __pyx_v_value); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 129, __pyx_L1_error)
+    __pyx_t_3 = PyObject_SetAttr(__pyx_t_2, __pyx_v_name, __pyx_v_value); if (unlikely(__pyx_t_3 == ((int)-1))) __PYX_ERR(0, 111, __pyx_L1_error)
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "av/stream.pyx":128
+    /* "av/stream.pyx":110
  * 
  *         # Convenience setter for codec context properties.
  *         if self.codec_context is not None:             # <<<<<<<<<<<<<<
  *             setattr(self.codec_context, name, value)
  * 
  */
   }
 
-  /* "av/stream.pyx":131
+  /* "av/stream.pyx":113
  *             setattr(self.codec_context, name, value)
  * 
  *         if name == "time_base":             # <<<<<<<<<<<<<<
  *             self._set_time_base(value)
  * 
  */
-  __pyx_t_1 = (__Pyx_PyString_Equals(__pyx_v_name, __pyx_n_s_time_base, Py_EQ)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 131, __pyx_L1_error)
+  __pyx_t_1 = (__Pyx_PyString_Equals(__pyx_v_name, __pyx_n_s_time_base, Py_EQ)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 113, __pyx_L1_error)
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":132
+    /* "av/stream.pyx":114
  * 
  *         if name == "time_base":
  *             self._set_time_base(value)             # <<<<<<<<<<<<<<
  * 
  *     cdef _finalize_for_output(self):
  */
-    __pyx_t_2 = ((struct __pyx_vtabstruct_2av_6stream_Stream *)__pyx_v_self->__pyx_vtab)->_set_time_base(__pyx_v_self, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 132, __pyx_L1_error)
+    __pyx_t_2 = ((struct __pyx_vtabstruct_2av_6stream_Stream *)__pyx_v_self->__pyx_vtab)->_set_time_base(__pyx_v_self, __pyx_v_value); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 114, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-    /* "av/stream.pyx":131
+    /* "av/stream.pyx":113
  *             setattr(self.codec_context, name, value)
  * 
  *         if name == "time_base":             # <<<<<<<<<<<<<<
  *             self._set_time_base(value)
  * 
  */
   }
 
-  /* "av/stream.pyx":122
- *             return getattr(self.codec_context, name)
+  /* "av/stream.pyx":104
+ *         )
  * 
  *     def __setattr__(self, name, value):             # <<<<<<<<<<<<<<
  *         if name == "id":
  *             self._set_id(value)
  */
 
   /* function exit code */
@@ -5058,15 +4768,15 @@
   __Pyx_AddTraceback("av.stream.Stream.__setattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __pyx_r = -1;
   __pyx_L0:;
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":134
+/* "av/stream.pyx":116
  *             self._set_time_base(value)
  * 
  *     cdef _finalize_for_output(self):             # <<<<<<<<<<<<<<
  * 
  *         dict_to_avdict(
  */
 
@@ -5081,97 +4791,97 @@
   AVRational __pyx_t_6;
   int __pyx_t_7;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_finalize_for_output", 1);
 
-  /* "av/stream.pyx":137
+  /* "av/stream.pyx":119
  * 
  *         dict_to_avdict(
  *             &self.ptr.metadata, self.metadata,             # <<<<<<<<<<<<<<
  *             encoding=self.container.metadata_encoding,
  *             errors=self.container.metadata_errors,
  */
   __pyx_t_1 = __pyx_v_self->metadata;
   __Pyx_INCREF(__pyx_t_1);
 
-  /* "av/stream.pyx":138
+  /* "av/stream.pyx":120
  *         dict_to_avdict(
  *             &self.ptr.metadata, self.metadata,
  *             encoding=self.container.metadata_encoding,             # <<<<<<<<<<<<<<
  *             errors=self.container.metadata_errors,
  *         )
  */
   __pyx_t_2 = __pyx_v_self->container->metadata_encoding;
   __Pyx_INCREF(__pyx_t_2);
 
-  /* "av/stream.pyx":139
+  /* "av/stream.pyx":121
  *             &self.ptr.metadata, self.metadata,
  *             encoding=self.container.metadata_encoding,
  *             errors=self.container.metadata_errors,             # <<<<<<<<<<<<<<
  *         )
  * 
  */
   __pyx_t_3 = __pyx_v_self->container->metadata_errors;
   __Pyx_INCREF(__pyx_t_3);
 
-  /* "av/stream.pyx":136
+  /* "av/stream.pyx":118
  *     cdef _finalize_for_output(self):
  * 
  *         dict_to_avdict(             # <<<<<<<<<<<<<<
  *             &self.ptr.metadata, self.metadata,
  *             encoding=self.container.metadata_encoding,
  */
-  __pyx_t_4 = __pyx_f_2av_5utils_dict_to_avdict((&__pyx_v_self->ptr->metadata), ((PyObject*)__pyx_t_1), ((PyObject*)__pyx_t_2), ((PyObject*)__pyx_t_3)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 136, __pyx_L1_error)
+  __pyx_t_4 = __pyx_f_2av_5utils_dict_to_avdict((&__pyx_v_self->ptr->metadata), ((PyObject*)__pyx_t_1), ((PyObject*)__pyx_t_2), ((PyObject*)__pyx_t_3)); if (unlikely(!__pyx_t_4)) __PYX_ERR(0, 118, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
-  /* "av/stream.pyx":142
+  /* "av/stream.pyx":124
  *         )
  * 
  *         if not self.ptr.time_base.num:             # <<<<<<<<<<<<<<
  *             self.ptr.time_base = self.codec_context.ptr.time_base
  * 
  */
   __pyx_t_5 = (!(__pyx_v_self->ptr->time_base.num != 0));
   if (__pyx_t_5) {
 
-    /* "av/stream.pyx":143
+    /* "av/stream.pyx":125
  * 
  *         if not self.ptr.time_base.num:
  *             self.ptr.time_base = self.codec_context.ptr.time_base             # <<<<<<<<<<<<<<
  * 
  *         # It prefers if we pass it parameters via this other object.
  */
     __pyx_t_6 = __pyx_v_self->codec_context->ptr->time_base;
     __pyx_v_self->ptr->time_base = __pyx_t_6;
 
-    /* "av/stream.pyx":142
+    /* "av/stream.pyx":124
  *         )
  * 
  *         if not self.ptr.time_base.num:             # <<<<<<<<<<<<<<
  *             self.ptr.time_base = self.codec_context.ptr.time_base
  * 
  */
   }
 
-  /* "av/stream.pyx":147
+  /* "av/stream.pyx":129
  *         # It prefers if we pass it parameters via this other object.
  *         # Lets just copy what we want.
  *         err_check(lib.avcodec_parameters_from_context(self.ptr.codecpar, self.codec_context.ptr))             # <<<<<<<<<<<<<<
  * 
  *     cdef _get_side_data(self, lib.AVStream *stream):
  */
-  __pyx_t_7 = __pyx_f_2av_5error_err_check(avcodec_parameters_from_context(__pyx_v_self->ptr->codecpar, __pyx_v_self->codec_context->ptr), 0, NULL); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 147, __pyx_L1_error)
+  __pyx_t_7 = __pyx_f_2av_5error_err_check(avcodec_parameters_from_context(__pyx_v_self->ptr->codecpar, __pyx_v_self->codec_context->ptr), 0, NULL); if (unlikely(__pyx_t_7 == ((int)-1))) __PYX_ERR(0, 129, __pyx_L1_error)
 
-  /* "av/stream.pyx":134
+  /* "av/stream.pyx":116
  *             self._set_time_base(value)
  * 
  *     cdef _finalize_for_output(self):             # <<<<<<<<<<<<<<
  * 
  *         dict_to_avdict(
  */
 
@@ -5187,15 +4897,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":149
+/* "av/stream.pyx":131
  *         err_check(lib.avcodec_parameters_from_context(self.ptr.codecpar, self.codec_context.ptr))
  * 
  *     cdef _get_side_data(self, lib.AVStream *stream):             # <<<<<<<<<<<<<<
  *         # Get DISPLAYMATRIX SideData from a lib.AVStream object.
  *         # Returns: tuple[int, dict[str, Any]]
  */
 
@@ -5212,103 +4922,103 @@
   int __pyx_t_5;
   PyObject *__pyx_t_6 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_get_side_data", 1);
 
-  /* "av/stream.pyx":153
+  /* "av/stream.pyx":135
  *         # Returns: tuple[int, dict[str, Any]]
  * 
  *         nb_side_data = stream.nb_side_data             # <<<<<<<<<<<<<<
  *         side_data = {}
  * 
  */
   __pyx_t_1 = __pyx_v_stream->nb_side_data;
   __pyx_v_nb_side_data = __pyx_t_1;
 
-  /* "av/stream.pyx":154
+  /* "av/stream.pyx":136
  * 
  *         nb_side_data = stream.nb_side_data
  *         side_data = {}             # <<<<<<<<<<<<<<
  * 
  *         for i in range(nb_side_data):
  */
-  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 154, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 136, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_v_side_data = ((PyObject*)__pyx_t_2);
   __pyx_t_2 = 0;
 
-  /* "av/stream.pyx":156
+  /* "av/stream.pyx":138
  *         side_data = {}
  * 
  *         for i in range(nb_side_data):             # <<<<<<<<<<<<<<
  *             # Based on: https://www.ffmpeg.org/doxygen/trunk/dump_8c_source.html#l00430
  *             if stream.side_data[i].type == lib.AV_PKT_DATA_DISPLAYMATRIX:
  */
   __pyx_t_1 = __pyx_v_nb_side_data;
   __pyx_t_3 = __pyx_t_1;
   for (__pyx_t_4 = 0; __pyx_t_4 < __pyx_t_3; __pyx_t_4+=1) {
     __pyx_v_i = __pyx_t_4;
 
-    /* "av/stream.pyx":158
+    /* "av/stream.pyx":140
  *         for i in range(nb_side_data):
  *             # Based on: https://www.ffmpeg.org/doxygen/trunk/dump_8c_source.html#l00430
  *             if stream.side_data[i].type == lib.AV_PKT_DATA_DISPLAYMATRIX:             # <<<<<<<<<<<<<<
  *                 side_data["DISPLAYMATRIX"] = lib.av_display_rotation_get(<const int32_t *>stream.side_data[i].data)
  * 
  */
     __pyx_t_5 = ((__pyx_v_stream->side_data[__pyx_v_i]).type == AV_PKT_DATA_DISPLAYMATRIX);
     if (__pyx_t_5) {
 
-      /* "av/stream.pyx":159
+      /* "av/stream.pyx":141
  *             # Based on: https://www.ffmpeg.org/doxygen/trunk/dump_8c_source.html#l00430
  *             if stream.side_data[i].type == lib.AV_PKT_DATA_DISPLAYMATRIX:
  *                 side_data["DISPLAYMATRIX"] = lib.av_display_rotation_get(<const int32_t *>stream.side_data[i].data)             # <<<<<<<<<<<<<<
  * 
  *         return nb_side_data, side_data
  */
-      __pyx_t_2 = PyFloat_FromDouble(av_display_rotation_get(((int32_t const *)(__pyx_v_stream->side_data[__pyx_v_i]).data))); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 159, __pyx_L1_error)
+      __pyx_t_2 = PyFloat_FromDouble(av_display_rotation_get(((int32_t const *)(__pyx_v_stream->side_data[__pyx_v_i]).data))); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 141, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_2);
-      if (unlikely((PyDict_SetItem(__pyx_v_side_data, __pyx_n_s_DISPLAYMATRIX, __pyx_t_2) < 0))) __PYX_ERR(0, 159, __pyx_L1_error)
+      if (unlikely((PyDict_SetItem(__pyx_v_side_data, __pyx_n_s_DISPLAYMATRIX, __pyx_t_2) < 0))) __PYX_ERR(0, 141, __pyx_L1_error)
       __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
-      /* "av/stream.pyx":158
+      /* "av/stream.pyx":140
  *         for i in range(nb_side_data):
  *             # Based on: https://www.ffmpeg.org/doxygen/trunk/dump_8c_source.html#l00430
  *             if stream.side_data[i].type == lib.AV_PKT_DATA_DISPLAYMATRIX:             # <<<<<<<<<<<<<<
  *                 side_data["DISPLAYMATRIX"] = lib.av_display_rotation_get(<const int32_t *>stream.side_data[i].data)
  * 
  */
     }
   }
 
-  /* "av/stream.pyx":161
+  /* "av/stream.pyx":143
  *                 side_data["DISPLAYMATRIX"] = lib.av_display_rotation_get(<const int32_t *>stream.side_data[i].data)
  * 
  *         return nb_side_data, side_data             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_2 = __Pyx_PyInt_From_int(__pyx_v_nb_side_data); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 161, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_PyInt_From_int(__pyx_v_nb_side_data); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 143, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 161, __pyx_L1_error)
+  __pyx_t_6 = PyTuple_New(2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 143, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_6);
   __Pyx_GIVEREF(__pyx_t_2);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_2)) __PYX_ERR(0, 161, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_6, 0, __pyx_t_2)) __PYX_ERR(0, 143, __pyx_L1_error);
   __Pyx_INCREF(__pyx_v_side_data);
   __Pyx_GIVEREF(__pyx_v_side_data);
-  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_side_data)) __PYX_ERR(0, 161, __pyx_L1_error);
+  if (__Pyx_PyTuple_SET_ITEM(__pyx_t_6, 1, __pyx_v_side_data)) __PYX_ERR(0, 143, __pyx_L1_error);
   __pyx_t_2 = 0;
   __pyx_r = __pyx_t_6;
   __pyx_t_6 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":149
+  /* "av/stream.pyx":131
  *         err_check(lib.avcodec_parameters_from_context(self.ptr.codecpar, self.codec_context.ptr))
  * 
  *     cdef _get_side_data(self, lib.AVStream *stream):             # <<<<<<<<<<<<<<
  *         # Get DISPLAYMATRIX SideData from a lib.AVStream object.
  *         # Returns: tuple[int, dict[str, Any]]
  */
 
@@ -5321,15 +5031,15 @@
   __pyx_L0:;
   __Pyx_XDECREF(__pyx_v_side_data);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":163
+/* "av/stream.pyx":145
  *         return nb_side_data, side_data
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def id(self):
  *         """
  */
 
@@ -5353,29 +5063,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":171
+  /* "av/stream.pyx":153
  * 
  *         """
  *         return self.ptr.id             # <<<<<<<<<<<<<<
  * 
  *     cdef _set_id(self, value):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->id); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 171, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->id); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 153, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":163
+  /* "av/stream.pyx":145
  *         return nb_side_data, side_data
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def id(self):
  *         """
  */
 
@@ -5386,15 +5096,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":173
+/* "av/stream.pyx":155
  *         return self.ptr.id
  * 
  *     cdef _set_id(self, value):             # <<<<<<<<<<<<<<
  *         """
  *         Setter used by __setattr__ for the id property.
  */
 
@@ -5404,57 +5114,57 @@
   int __pyx_t_1;
   int __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_set_id", 1);
 
-  /* "av/stream.pyx":177
+  /* "av/stream.pyx":159
  *         Setter used by __setattr__ for the id property.
  *         """
  *         if value is None:             # <<<<<<<<<<<<<<
  *             self.ptr.id = 0
  *         else:
  */
   __pyx_t_1 = (__pyx_v_value == Py_None);
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":178
+    /* "av/stream.pyx":160
  *         """
  *         if value is None:
  *             self.ptr.id = 0             # <<<<<<<<<<<<<<
  *         else:
  *             self.ptr.id = value
  */
     __pyx_v_self->ptr->id = 0;
 
-    /* "av/stream.pyx":177
+    /* "av/stream.pyx":159
  *         Setter used by __setattr__ for the id property.
  *         """
  *         if value is None:             # <<<<<<<<<<<<<<
  *             self.ptr.id = 0
  *         else:
  */
     goto __pyx_L3;
   }
 
-  /* "av/stream.pyx":180
+  /* "av/stream.pyx":162
  *             self.ptr.id = 0
  *         else:
  *             self.ptr.id = value             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   /*else*/ {
-    __pyx_t_2 = __Pyx_PyInt_As_int(__pyx_v_value); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 180, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyInt_As_int(__pyx_v_value); if (unlikely((__pyx_t_2 == (int)-1) && PyErr_Occurred())) __PYX_ERR(0, 162, __pyx_L1_error)
     __pyx_v_self->ptr->id = __pyx_t_2;
   }
   __pyx_L3:;
 
-  /* "av/stream.pyx":173
+  /* "av/stream.pyx":155
  *         return self.ptr.id
  * 
  *     cdef _set_id(self, value):             # <<<<<<<<<<<<<<
  *         """
  *         Setter used by __setattr__ for the id property.
  */
 
@@ -5466,15 +5176,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":182
+/* "av/stream.pyx":164
  *             self.ptr.id = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def profile(self):
  *         """
  */
 
@@ -5499,61 +5209,61 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":189
+  /* "av/stream.pyx":171
  *         :type: str
  *         """
  *         if self.codec_context:             # <<<<<<<<<<<<<<
  *             return self.codec_context.profile
  *         else:
  */
-  __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_self->codec_context)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 189, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyObject_IsTrue(((PyObject *)__pyx_v_self->codec_context)); if (unlikely((__pyx_t_1 < 0))) __PYX_ERR(0, 171, __pyx_L1_error)
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":190
+    /* "av/stream.pyx":172
  *         """
  *         if self.codec_context:
  *             return self.codec_context.profile             # <<<<<<<<<<<<<<
  *         else:
  *             return None
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codec_context), __pyx_n_s_profile); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 190, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self->codec_context), __pyx_n_s_profile); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 172, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "av/stream.pyx":189
+    /* "av/stream.pyx":171
  *         :type: str
  *         """
  *         if self.codec_context:             # <<<<<<<<<<<<<<
  *             return self.codec_context.profile
  *         else:
  */
   }
 
-  /* "av/stream.pyx":192
+  /* "av/stream.pyx":174
  *             return self.codec_context.profile
  *         else:
  *             return None             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   /*else*/ {
     __Pyx_XDECREF(__pyx_r);
     __pyx_r = Py_None; __Pyx_INCREF(Py_None);
     goto __pyx_L0;
   }
 
-  /* "av/stream.pyx":182
+  /* "av/stream.pyx":164
  *             self.ptr.id = value
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def profile(self):
  *         """
  */
 
@@ -5564,15 +5274,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":194
+/* "av/stream.pyx":176
  *             return None
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def index(self):
  *         """
  */
 
@@ -5596,29 +5306,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":201
+  /* "av/stream.pyx":183
  *         :type: int
  *         """
  *         return self.ptr.index             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 201, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int(__pyx_v_self->ptr->index); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 183, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":194
+  /* "av/stream.pyx":176
  *             return None
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def index(self):
  *         """
  */
 
@@ -5629,15 +5339,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":204
+/* "av/stream.pyx":186
  * 
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def time_base(self):
  *         """
  */
 
@@ -5661,29 +5371,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":212
+  /* "av/stream.pyx":194
  * 
  *         """
  *         return avrational_to_fraction(&self.ptr.time_base)             # <<<<<<<<<<<<<<
  * 
  *     cdef _set_time_base(self, value):
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 212, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 194, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":204
+  /* "av/stream.pyx":186
  * 
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def time_base(self):
  *         """
  */
 
@@ -5694,15 +5404,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":214
+/* "av/stream.pyx":196
  *         return avrational_to_fraction(&self.ptr.time_base)
  * 
  *     cdef _set_time_base(self, value):             # <<<<<<<<<<<<<<
  *         """
  *         Setter used by __setattr__ for the time_base property.
  */
 
@@ -5711,26 +5421,26 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("_set_time_base", 1);
 
-  /* "av/stream.pyx":218
+  /* "av/stream.pyx":200
  *         Setter used by __setattr__ for the time_base property.
  *         """
  *         to_avrational(value, &self.ptr.time_base)             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
-  __pyx_t_1 = __pyx_f_2av_5utils_to_avrational(__pyx_v_value, (&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 218, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_to_avrational(__pyx_v_value, (&__pyx_v_self->ptr->time_base)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 200, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "av/stream.pyx":214
+  /* "av/stream.pyx":196
  *         return avrational_to_fraction(&self.ptr.time_base)
  * 
  *     cdef _set_time_base(self, value):             # <<<<<<<<<<<<<<
  *         """
  *         Setter used by __setattr__ for the time_base property.
  */
 
@@ -5743,15 +5453,15 @@
   __pyx_r = 0;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":220
+/* "av/stream.pyx":202
  *         to_avrational(value, &self.ptr.time_base)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def start_time(self):
  *         """
  */
 
@@ -5776,48 +5486,48 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":228
+  /* "av/stream.pyx":210
  *         :type: :class:`int` or ``None``
  *         """
  *         if self.ptr.start_time != lib.AV_NOPTS_VALUE:             # <<<<<<<<<<<<<<
  *             return self.ptr.start_time
  * 
  */
   __pyx_t_1 = (__pyx_v_self->ptr->start_time != AV_NOPTS_VALUE);
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":229
+    /* "av/stream.pyx":211
  *         """
  *         if self.ptr.start_time != lib.AV_NOPTS_VALUE:
  *             return self.ptr.start_time             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyInt_From_int64_t(__pyx_v_self->ptr->start_time); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 229, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyInt_From_int64_t(__pyx_v_self->ptr->start_time); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 211, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "av/stream.pyx":228
+    /* "av/stream.pyx":210
  *         :type: :class:`int` or ``None``
  *         """
  *         if self.ptr.start_time != lib.AV_NOPTS_VALUE:             # <<<<<<<<<<<<<<
  *             return self.ptr.start_time
  * 
  */
   }
 
-  /* "av/stream.pyx":220
+  /* "av/stream.pyx":202
  *         to_avrational(value, &self.ptr.time_base)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def start_time(self):
  *         """
  */
 
@@ -5830,15 +5540,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":231
+/* "av/stream.pyx":213
  *             return self.ptr.start_time
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def duration(self):
  *         """
  */
 
@@ -5863,48 +5573,48 @@
   int __pyx_t_1;
   PyObject *__pyx_t_2 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":239
+  /* "av/stream.pyx":221
  * 
  *         """
  *         if self.ptr.duration != lib.AV_NOPTS_VALUE:             # <<<<<<<<<<<<<<
  *             return self.ptr.duration
  * 
  */
   __pyx_t_1 = (__pyx_v_self->ptr->duration != AV_NOPTS_VALUE);
   if (__pyx_t_1) {
 
-    /* "av/stream.pyx":240
+    /* "av/stream.pyx":222
  *         """
  *         if self.ptr.duration != lib.AV_NOPTS_VALUE:
  *             return self.ptr.duration             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
     __Pyx_XDECREF(__pyx_r);
-    __pyx_t_2 = __Pyx_PyInt_From_int64_t(__pyx_v_self->ptr->duration); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 240, __pyx_L1_error)
+    __pyx_t_2 = __Pyx_PyInt_From_int64_t(__pyx_v_self->ptr->duration); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 222, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_2);
     __pyx_r = __pyx_t_2;
     __pyx_t_2 = 0;
     goto __pyx_L0;
 
-    /* "av/stream.pyx":239
+    /* "av/stream.pyx":221
  * 
  *         """
  *         if self.ptr.duration != lib.AV_NOPTS_VALUE:             # <<<<<<<<<<<<<<
  *             return self.ptr.duration
  * 
  */
   }
 
-  /* "av/stream.pyx":231
+  /* "av/stream.pyx":213
  *             return self.ptr.start_time
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def duration(self):
  *         """
  */
 
@@ -5917,15 +5627,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":242
+/* "av/stream.pyx":224
  *             return self.ptr.duration
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def frames(self):
  *         """
  */
 
@@ -5949,29 +5659,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":251
+  /* "av/stream.pyx":233
  *         :type: :class:`int`
  *         """
  *         return self.ptr.nb_frames             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyInt_From_int64_t(__pyx_v_self->ptr->nb_frames); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 251, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyInt_From_int64_t(__pyx_v_self->ptr->nb_frames); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 233, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":242
+  /* "av/stream.pyx":224
  *             return self.ptr.duration
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def frames(self):
  *         """
  */
 
@@ -5982,15 +5692,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":253
+/* "av/stream.pyx":235
  *         return self.ptr.nb_frames
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def language(self):
  *         """
  */
 
@@ -6014,33 +5724,33 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":260
+  /* "av/stream.pyx":242
  *         :type: :class:`str` or ``None``
  *         """
  *         return self.metadata.get('language')             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
   if (unlikely(__pyx_v_self->metadata == Py_None)) {
     PyErr_Format(PyExc_AttributeError, "'NoneType' object has no attribute '%.30s'", "get");
-    __PYX_ERR(0, 260, __pyx_L1_error)
+    __PYX_ERR(0, 242, __pyx_L1_error)
   }
-  __pyx_t_1 = __Pyx_PyDict_GetItemDefault(__pyx_v_self->metadata, __pyx_n_s_language, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 260, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyDict_GetItemDefault(__pyx_v_self->metadata, __pyx_n_s_language, Py_None); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 242, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":253
+  /* "av/stream.pyx":235
  *         return self.ptr.nb_frames
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def language(self):
  *         """
  */
 
@@ -6051,15 +5761,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/stream.pyx":262
+/* "av/stream.pyx":244
  *         return self.metadata.get('language')
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         """
  */
 
@@ -6083,27 +5793,27 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/stream.pyx":271
+  /* "av/stream.pyx":253
  *         :type: str
  *         """
  *         return lib.av_get_media_type_string(self.ptr.codecpar.codec_type)             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __Pyx_PyStr_FromString(av_get_media_type_string(__pyx_v_self->ptr->codecpar->codec_type)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 271, __pyx_L1_error)
+  __pyx_t_1 = __Pyx_PyStr_FromString(av_get_media_type_string(__pyx_v_self->ptr->codecpar->codec_type)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 253, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/stream.pyx":262
+  /* "av/stream.pyx":244
  *         return self.metadata.get('language')
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def type(self):
  *         """
  */
 
@@ -6326,24 +6036,24 @@
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_6stream_6Stream_9__reduce_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_6stream_6Stream_7__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_6stream_6Stream_8__reduce_cython__, "Stream.__reduce_cython__()");
-static PyMethodDef __pyx_mdef_2av_6stream_6Stream_9__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_9__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_8__reduce_cython__};
-static PyObject *__pyx_pw_2av_6stream_6Stream_9__reduce_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_6stream_6Stream_6__reduce_cython__, "Stream.__reduce_cython__()");
+static PyMethodDef __pyx_mdef_2av_6stream_6Stream_7__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_6__reduce_cython__};
+static PyObject *__pyx_pw_2av_6stream_6Stream_7__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   #if !CYTHON_METH_FASTCALL
@@ -6360,22 +6070,22 @@
   __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
   #endif
   #endif
   __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
   if (unlikely(__pyx_nargs > 0)) {
     __Pyx_RaiseArgtupleInvalid("__reduce_cython__", 1, 0, 0, __pyx_nargs); return NULL;}
   if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__reduce_cython__", 0))) return NULL;
-  __pyx_r = __pyx_pf_2av_6stream_6Stream_8__reduce_cython__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self));
+  __pyx_r = __pyx_pf_2av_6stream_6Stream_6__reduce_cython__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_6stream_6Stream_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self) {
+static PyObject *__pyx_pf_2av_6stream_6Stream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 1);
 
@@ -6407,24 +6117,24 @@
  * def __reduce_cython__(self):
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_6stream_6Stream_11__setstate_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_6stream_6Stream_9__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_6stream_6Stream_10__setstate_cython__, "Stream.__setstate_cython__(__pyx_state)");
-static PyMethodDef __pyx_mdef_2av_6stream_6Stream_11__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_11__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_10__setstate_cython__};
-static PyObject *__pyx_pw_2av_6stream_6Stream_11__setstate_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_6stream_6Stream_8__setstate_cython__, "Stream.__setstate_cython__(__pyx_state)");
+static PyMethodDef __pyx_mdef_2av_6stream_6Stream_9__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_8__setstate_cython__};
+static PyObject *__pyx_pw_2av_6stream_6Stream_9__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   CYTHON_UNUSED PyObject *__pyx_v___pyx_state = 0;
@@ -6490,28 +6200,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.stream.Stream.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_6stream_6Stream_10__setstate_cython__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self), __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_6stream_6Stream_8__setstate_cython__(((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self), __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_6stream_6Stream_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_6stream_6Stream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_6stream_Stream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 1);
 
@@ -6623,26 +6333,17 @@
   Py_XDECREF(tmp);
   tmp = ((PyObject*)p->codec_context);
   p->codec_context = ((struct __pyx_obj_2av_5codec_7context_CodecContext *)Py_None); Py_INCREF(Py_None);
   Py_XDECREF(tmp);
   return 0;
 }
 
-static PyObject *__pyx_tp_getattro_2av_6stream_Stream(PyObject *o, PyObject *n) {
-  PyObject *v = __Pyx_PyObject_GenericGetAttr(o, n);
-  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
-    PyErr_Clear();
-    v = __pyx_pw_2av_6stream_6Stream_5__getattr__(o, n);
-  }
-  return v;
-}
-
 static int __pyx_tp_setattro_2av_6stream_Stream(PyObject *o, PyObject *n, PyObject *v) {
   if (v) {
-    return __pyx_pw_2av_6stream_6Stream_7__setattr__(o, n, v);
+    return __pyx_pw_2av_6stream_6Stream_5__setattr__(o, n, v);
   }
   else {
     return PyObject_GenericSetAttr(o, n, 0);
   }
 }
 
 static PyObject *__pyx_getprop_2av_6stream_6Stream_id(PyObject *o, CYTHON_UNUSED void *x) {
@@ -6703,17 +6404,16 @@
 
 static PyObject *__pyx_specialmethod___pyx_pw_2av_6stream_6Stream_3__repr__(PyObject *self, CYTHON_UNUSED PyObject *arg) {
   return __pyx_pw_2av_6stream_6Stream_3__repr__(self);
 }
 
 static PyMethodDef __pyx_methods_2av_6stream_Stream[] = {
   {"__repr__", (PyCFunction)__pyx_specialmethod___pyx_pw_2av_6stream_6Stream_3__repr__, METH_NOARGS|METH_COEXIST, 0},
-  {"__getattr__", (PyCFunction)__pyx_pw_2av_6stream_6Stream_5__getattr__, METH_O|METH_COEXIST, 0},
-  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_9__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_8__reduce_cython__},
-  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_11__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_10__setstate_cython__},
+  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_6__reduce_cython__},
+  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_6stream_6Stream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_6stream_6Stream_8__setstate_cython__},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_2av_6stream_Stream[] = {
   {(char *)"id", __pyx_getprop_2av_6stream_6Stream_id, 0, (char *)PyDoc_STR("\n        The format-specific ID of this stream.\n\n        :type: int\n\n        "), 0},
   {(char *)"profile", __pyx_getprop_2av_6stream_6Stream_profile, 0, (char *)PyDoc_STR("\n        The profile of this stream.\n\n        :type: str\n        "), 0},
   {(char *)"index", __pyx_getprop_2av_6stream_6Stream_index, 0, (char *)PyDoc_STR("\n        The index of this stream in its :class:`.Container`.\n\n        :type: int\n        "), 0},
@@ -6730,15 +6430,14 @@
   {(char *)"codec_context", __pyx_getprop_2av_6stream_6Stream_codec_context, 0, (char *)0, 0},
   {0, 0, 0, 0, 0}
 };
 #if CYTHON_USE_TYPE_SPECS
 static PyType_Slot __pyx_type_2av_6stream_Stream_slots[] = {
   {Py_tp_dealloc, (void *)__pyx_tp_dealloc_2av_6stream_Stream},
   {Py_tp_repr, (void *)__pyx_pw_2av_6stream_6Stream_3__repr__},
-  {Py_tp_getattro, (void *)__pyx_tp_getattro_2av_6stream_Stream},
   {Py_tp_setattro, (void *)__pyx_tp_setattro_2av_6stream_Stream},
   {Py_tp_doc, (void *)PyDoc_STR("\n    A single stream of audio, video or subtitles within a :class:`.Container`.\n\n    ::\n\n        >>> fh = av.open(video_path)\n        >>> stream = fh.streams.video[0]\n        >>> stream\n        <av.VideoStream #0 h264, yuv420p 1280x720 at 0x...>\n\n    This encapsulates a :class:`.CodecContext`, located at :attr:`Stream.codec_context`.\n    Attribute access is passed through to that context when attributes are missing\n    on the stream itself. E.g. ``stream.options`` will be the options on the\n    context.\n    ")},
   {Py_tp_traverse, (void *)__pyx_tp_traverse_2av_6stream_Stream},
   {Py_tp_clear, (void *)__pyx_tp_clear_2av_6stream_Stream},
   {Py_tp_methods, (void *)__pyx_methods_2av_6stream_Stream},
   {Py_tp_getset, (void *)__pyx_getsets_2av_6stream_Stream},
   {Py_tp_new, (void *)__pyx_tp_new_2av_6stream_Stream},
@@ -6776,15 +6475,15 @@
   __pyx_pw_2av_6stream_6Stream_3__repr__, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
   0, /*tp_call*/
   0, /*tp_str*/
-  __pyx_tp_getattro_2av_6stream_Stream, /*tp_getattro*/
+  0, /*tp_getattro*/
   __pyx_tp_setattro_2av_6stream_Stream, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
   PyDoc_STR("\n    A single stream of audio, video or subtitles within a :class:`.Container`.\n\n    ::\n\n        >>> fh = av.open(video_path)\n        >>> stream = fh.streams.video[0]\n        >>> stream\n        <av.VideoStream #0 h264, yuv420p 1280x720 at 0x...>\n\n    This encapsulates a :class:`.CodecContext`, located at :attr:`Stream.codec_context`.\n    Attribute access is passed through to that context when attributes are missing\n    on the stream itself. E.g. ``stream.options`` will be the options on the\n    context.\n    "), /*tp_doc*/
   __pyx_tp_traverse_2av_6stream_Stream, /*tp_traverse*/
   __pyx_tp_clear_2av_6stream_Stream, /*tp_clear*/
   0, /*tp_richcompare*/
@@ -6862,15 +6561,14 @@
     {&__pyx_n_s_SideData, __pyx_k_SideData, sizeof(__pyx_k_SideData), 0, 0, 1, 1},
     {&__pyx_n_s_Stream, __pyx_k_Stream, sizeof(__pyx_k_Stream), 0, 0, 1, 1},
     {&__pyx_n_s_Stream___reduce_cython, __pyx_k_Stream___reduce_cython, sizeof(__pyx_k_Stream___reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_Stream___setstate_cython, __pyx_k_Stream___setstate_cython, sizeof(__pyx_k_Stream___setstate_cython), 0, 0, 1, 1},
     {&__pyx_n_s_SubtitleStream, __pyx_k_SubtitleStream, sizeof(__pyx_k_SubtitleStream), 0, 0, 1, 1},
     {&__pyx_n_s_TypeError, __pyx_k_TypeError, sizeof(__pyx_k_TypeError), 0, 0, 1, 1},
     {&__pyx_n_s_VideoStream, __pyx_k_VideoStream, sizeof(__pyx_k_VideoStream), 0, 0, 1, 1},
-    {&__pyx_kp_u_VideoStream_2, __pyx_k_VideoStream_2, sizeof(__pyx_k_VideoStream_2), 0, 1, 0, 0},
     {&__pyx_n_s__12, __pyx_k__12, sizeof(__pyx_k__12), 0, 0, 1, 1},
     {&__pyx_kp_u__3, __pyx_k__3, sizeof(__pyx_k__3), 0, 1, 0, 0},
     {&__pyx_kp_u__4, __pyx_k__4, sizeof(__pyx_k__4), 0, 1, 0, 0},
     {&__pyx_kp_u__5, __pyx_k__5, sizeof(__pyx_k__5), 0, 1, 0, 0},
     {&__pyx_kp_u__6, __pyx_k__6, sizeof(__pyx_k__6), 0, 1, 0, 0},
     {&__pyx_n_s__7, __pyx_k__7, sizeof(__pyx_k__7), 0, 0, 1, 1},
     {&__pyx_n_s_asyncio_coroutines, __pyx_k_asyncio_coroutines, sizeof(__pyx_k_asyncio_coroutines), 0, 0, 1, 1},
@@ -6883,66 +6581,60 @@
     {&__pyx_n_s_av_subtitles_stream, __pyx_k_av_subtitles_stream, sizeof(__pyx_k_av_subtitles_stream), 0, 0, 1, 1},
     {&__pyx_n_s_av_video_stream, __pyx_k_av_video_stream, sizeof(__pyx_k_av_video_stream), 0, 0, 1, 1},
     {&__pyx_kp_s_cannot_manually_instantiate_Stre, __pyx_k_cannot_manually_instantiate_Stre, sizeof(__pyx_k_cannot_manually_instantiate_Stre), 0, 0, 1, 0},
     {&__pyx_n_s_class, __pyx_k_class, sizeof(__pyx_k_class), 0, 0, 1, 1},
     {&__pyx_n_s_cline_in_traceback, __pyx_k_cline_in_traceback, sizeof(__pyx_k_cline_in_traceback), 0, 0, 1, 1},
     {&__pyx_kp_u_disable, __pyx_k_disable, sizeof(__pyx_k_disable), 0, 1, 0, 0},
     {&__pyx_kp_u_enable, __pyx_k_enable, sizeof(__pyx_k_enable), 0, 1, 0, 0},
-    {&__pyx_n_s_framerate, __pyx_k_framerate, sizeof(__pyx_k_framerate), 0, 0, 1, 1},
     {&__pyx_kp_u_gc, __pyx_k_gc, sizeof(__pyx_k_gc), 0, 1, 0, 0},
     {&__pyx_n_s_get, __pyx_k_get, sizeof(__pyx_k_get), 0, 0, 1, 1},
     {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
     {&__pyx_n_s_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 0, 1, 1},
     {&__pyx_n_s_import, __pyx_k_import, sizeof(__pyx_k_import), 0, 0, 1, 1},
     {&__pyx_n_s_index, __pyx_k_index, sizeof(__pyx_k_index), 0, 0, 1, 1},
     {&__pyx_n_s_initializing, __pyx_k_initializing, sizeof(__pyx_k_initializing), 0, 0, 1, 1},
     {&__pyx_n_s_is_coroutine, __pyx_k_is_coroutine, sizeof(__pyx_k_is_coroutine), 0, 0, 1, 1},
-    {&__pyx_kp_u_is_deprecated_as_it_is_not_alwa, __pyx_k_is_deprecated_as_it_is_not_alwa, sizeof(__pyx_k_is_deprecated_as_it_is_not_alwa), 0, 1, 0, 0},
     {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
     {&__pyx_n_s_language, __pyx_k_language, sizeof(__pyx_k_language), 0, 0, 1, 1},
     {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
     {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
     {&__pyx_n_s_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 0, 1, 1},
-    {&__pyx_n_s_nb_side_data, __pyx_k_nb_side_data, sizeof(__pyx_k_nb_side_data), 0, 0, 1, 1},
     {&__pyx_n_s_new, __pyx_k_new, sizeof(__pyx_k_new), 0, 0, 1, 1},
     {&__pyx_kp_s_no_default___reduce___due_to_non, __pyx_k_no_default___reduce___due_to_non, sizeof(__pyx_k_no_default___reduce___due_to_non), 0, 0, 1, 0},
     {&__pyx_kp_s_nocodec, __pyx_k_nocodec, sizeof(__pyx_k_nocodec), 0, 0, 1, 0},
     {&__pyx_kp_s_notype, __pyx_k_notype, sizeof(__pyx_k_notype), 0, 0, 1, 0},
     {&__pyx_n_s_object, __pyx_k_object, sizeof(__pyx_k_object), 0, 0, 1, 1},
     {&__pyx_n_s_profile, __pyx_k_profile, sizeof(__pyx_k_profile), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_state, __pyx_k_pyx_state, sizeof(__pyx_k_pyx_state), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_vtable, __pyx_k_pyx_vtable, sizeof(__pyx_k_pyx_vtable), 0, 0, 1, 1},
     {&__pyx_n_s_range, __pyx_k_range, sizeof(__pyx_k_range), 0, 0, 1, 1},
-    {&__pyx_n_s_rate, __pyx_k_rate, sizeof(__pyx_k_rate), 0, 0, 1, 1},
     {&__pyx_n_s_reduce, __pyx_k_reduce, sizeof(__pyx_k_reduce), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_cython, __pyx_k_reduce_cython, sizeof(__pyx_k_reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_ex, __pyx_k_reduce_ex, sizeof(__pyx_k_reduce_ex), 0, 0, 1, 1},
     {&__pyx_n_s_self, __pyx_k_self, sizeof(__pyx_k_self), 0, 0, 1, 1},
     {&__pyx_n_s_setstate, __pyx_k_setstate, sizeof(__pyx_k_setstate), 0, 0, 1, 1},
     {&__pyx_n_s_setstate_cython, __pyx_k_setstate_cython, sizeof(__pyx_k_setstate_cython), 0, 0, 1, 1},
-    {&__pyx_n_s_side_data, __pyx_k_side_data, sizeof(__pyx_k_side_data), 0, 0, 1, 1},
     {&__pyx_n_s_spec, __pyx_k_spec, sizeof(__pyx_k_spec), 0, 0, 1, 1},
     {&__pyx_kp_s_stringsource, __pyx_k_stringsource, sizeof(__pyx_k_stringsource), 0, 0, 1, 0},
     {&__pyx_n_s_test, __pyx_k_test, sizeof(__pyx_k_test), 0, 0, 1, 1},
     {&__pyx_n_s_time_base, __pyx_k_time_base, sizeof(__pyx_k_time_base), 0, 0, 1, 1},
     {&__pyx_n_s_type, __pyx_k_type, sizeof(__pyx_k_type), 0, 0, 1, 1},
-    {&__pyx_n_s_warn, __pyx_k_warn, sizeof(__pyx_k_warn), 0, 0, 1, 1},
     {&__pyx_n_s_warnings, __pyx_k_warnings, sizeof(__pyx_k_warnings), 0, 0, 1, 1},
     {&__pyx_n_u_x, __pyx_k_x, sizeof(__pyx_k_x), 0, 1, 0, 1},
     {0, 0, 0, 0, 0, 0, 0}
   };
   return __Pyx_InitStrings(__pyx_string_tab);
 }
 /* #### Code section: cached_builtins ### */
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
   __pyx_builtin_object = __Pyx_GetBuiltinName(__pyx_n_s_object); if (!__pyx_builtin_object) __PYX_ERR(0, 19, __pyx_L1_error)
   __pyx_builtin_AssertionError = __Pyx_GetBuiltinName(__pyx_n_s_AssertionError); if (!__pyx_builtin_AssertionError) __PYX_ERR(0, 37, __pyx_L1_error)
   __pyx_builtin_RuntimeError = __Pyx_GetBuiltinName(__pyx_n_s_RuntimeError); if (!__pyx_builtin_RuntimeError) __PYX_ERR(0, 80, __pyx_L1_error)
   __pyx_builtin_id = __Pyx_GetBuiltinName(__pyx_n_s_id); if (!__pyx_builtin_id) __PYX_ERR(0, 101, __pyx_L1_error)
-  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 156, __pyx_L1_error)
+  __pyx_builtin_range = __Pyx_GetBuiltinName(__pyx_n_s_range); if (!__pyx_builtin_range) __PYX_ERR(0, 138, __pyx_L1_error)
   __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(1, 2, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 /* #### Code section: cached_constants ### */
 
@@ -7074,14 +6766,19 @@
   #endif
   #if !CYTHON_USE_TYPE_SPECS
   if (__Pyx_PyType_Ready(__pyx_ptype_2av_6stream_Stream) < 0) __PYX_ERR(0, 60, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_6stream_Stream->tp_print = 0;
   #endif
+  #if !CYTHON_COMPILING_IN_LIMITED_API
+  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_6stream_Stream->tp_dictoffset && __pyx_ptype_2av_6stream_Stream->tp_getattro == PyObject_GenericGetAttr)) {
+    __pyx_ptype_2av_6stream_Stream->tp_getattro = __Pyx_PyObject_GenericGetAttr;
+  }
+  #endif
   if (__Pyx_SetVtable(__pyx_ptype_2av_6stream_Stream, __pyx_vtabptr_2av_6stream_Stream) < 0) __PYX_ERR(0, 60, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_MergeVtables(__pyx_ptype_2av_6stream_Stream) < 0) __PYX_ERR(0, 60, __pyx_L1_error)
   #endif
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_Stream, (PyObject *) __pyx_ptype_2av_6stream_Stream) < 0) __PYX_ERR(0, 60, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_6stream_Stream) < 0) __PYX_ERR(0, 60, __pyx_L1_error)
@@ -7099,68 +6796,68 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(6, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(6, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(6, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(8, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(11, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(11, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(14, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(14, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(14, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -7181,30 +6878,30 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avdict_to_dict", (void (**)(void))&__pyx_f_2av_5utils_avdict_to_dict, "PyObject *(AVDictionary *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "dict_to_avdict", (void (**)(void))&__pyx_f_2av_5utils_dict_to_avdict, "PyObject *(AVDictionary **, PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avdict_to_dict", (void (**)(void))&__pyx_f_2av_5utils_avdict_to_dict, "PyObject *(AVDictionary *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "dict_to_avdict", (void (**)(void))&__pyx_f_2av_5utils_dict_to_avdict, "PyObject *(AVDictionary **, PyObject *, PyObject *, PyObject *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -7586,26 +7283,26 @@
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_2av_6stream_6Stream_9__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Stream___reduce_cython, NULL, __pyx_n_s_av_stream, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_2av_6stream_6Stream_7__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Stream___reduce_cython, NULL, __pyx_n_s_av_stream, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_4) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "no default __reduce__ due to non-trivial __cinit__"
  */
-  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_2av_6stream_6Stream_11__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Stream___setstate_cython, NULL, __pyx_n_s_av_stream, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_t_4 = __Pyx_CyFunction_New(&__pyx_mdef_2av_6stream_6Stream_9__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_Stream___setstate_cython, NULL, __pyx_n_s_av_stream, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_4)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_4);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_4) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_4); __pyx_t_4 = 0;
 
   /* "av/stream.pyx":1
  * import warnings             # <<<<<<<<<<<<<<
  * 
@@ -8955,96 +8652,14 @@
     CYTHON_UNUSED_VAR(max_char);
     CYTHON_UNUSED_VAR(result_ulength);
     CYTHON_UNUSED_VAR(value_count);
     return PyUnicode_Join(__pyx_empty_unicode, value_tuple);
 #endif
 }
 
-/* PyDictVersioning */
-#if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
-static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj) {
-    PyObject *dict = Py_TYPE(obj)->tp_dict;
-    return likely(dict) ? __PYX_GET_DICT_VERSION(dict) : 0;
-}
-static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj) {
-    PyObject **dictptr = NULL;
-    Py_ssize_t offset = Py_TYPE(obj)->tp_dictoffset;
-    if (offset) {
-#if CYTHON_COMPILING_IN_CPYTHON
-        dictptr = (likely(offset > 0)) ? (PyObject **) ((char *)obj + offset) : _PyObject_GetDictPtr(obj);
-#else
-        dictptr = _PyObject_GetDictPtr(obj);
-#endif
-    }
-    return (dictptr && *dictptr) ? __PYX_GET_DICT_VERSION(*dictptr) : 0;
-}
-static CYTHON_INLINE int __Pyx_object_dict_version_matches(PyObject* obj, PY_UINT64_T tp_dict_version, PY_UINT64_T obj_dict_version) {
-    PyObject *dict = Py_TYPE(obj)->tp_dict;
-    if (unlikely(!dict) || unlikely(tp_dict_version != __PYX_GET_DICT_VERSION(dict)))
-        return 0;
-    return obj_dict_version == __Pyx_get_object_dict_version(obj);
-}
-#endif
-
-/* GetModuleGlobalName */
-#if CYTHON_USE_DICT_VERSIONS
-static PyObject *__Pyx__GetModuleGlobalName(PyObject *name, PY_UINT64_T *dict_version, PyObject **dict_cached_value)
-#else
-static CYTHON_INLINE PyObject *__Pyx__GetModuleGlobalName(PyObject *name)
-#endif
-{
-    PyObject *result;
-#if !CYTHON_AVOID_BORROWED_REFS
-#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x030500A1 && PY_VERSION_HEX < 0x030d0000
-    result = _PyDict_GetItem_KnownHash(__pyx_d, name, ((PyASCIIObject *) name)->hash);
-    __PYX_UPDATE_DICT_CACHE(__pyx_d, result, *dict_cached_value, *dict_version)
-    if (likely(result)) {
-        return __Pyx_NewRef(result);
-    } else if (unlikely(PyErr_Occurred())) {
-        return NULL;
-    }
-#elif CYTHON_COMPILING_IN_LIMITED_API
-    if (unlikely(!__pyx_m)) {
-        return NULL;
-    }
-    result = PyObject_GetAttr(__pyx_m, name);
-    if (likely(result)) {
-        return result;
-    }
-#else
-    result = PyDict_GetItem(__pyx_d, name);
-    __PYX_UPDATE_DICT_CACHE(__pyx_d, result, *dict_cached_value, *dict_version)
-    if (likely(result)) {
-        return __Pyx_NewRef(result);
-    }
-#endif
-#else
-    result = PyObject_GetItem(__pyx_d, name);
-    __PYX_UPDATE_DICT_CACHE(__pyx_d, result, *dict_cached_value, *dict_version)
-    if (likely(result)) {
-        return __Pyx_NewRef(result);
-    }
-    PyErr_Clear();
-#endif
-    return __Pyx_GetBuiltinName(name);
-}
-
-/* GetAttr */
-static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
-#if CYTHON_USE_TYPE_SLOTS
-#if PY_MAJOR_VERSION >= 3
-    if (likely(PyUnicode_Check(n)))
-#else
-    if (likely(PyString_Check(n)))
-#endif
-        return __Pyx_PyObject_GetAttrStr(o, n);
-#endif
-    return PyObject_GetAttr(o, n);
-}
-
 /* UnpackUnboundCMethod */
 static PyObject *__Pyx_SelflessCall(PyObject *method, PyObject *args, PyObject *kwargs) {
     PyObject *result;
     PyObject *selfless_args = PyTuple_GetSlice(args, 1, PyTuple_Size(args));
     if (unlikely(!selfless_args)) return NULL;
     result = PyObject_Call(method, selfless_args, kwargs);
     Py_DECREF(selfless_args);
@@ -9311,66 +8926,14 @@
     PyErr_Format(PyExc_TypeError,
         "%s() got an unexpected keyword argument '%U'",
         function_name, key);
     #endif
     return 0;
 }
 
-/* PyObject_GenericGetAttrNoDict */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
-    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
-    PyErr_Format(PyExc_AttributeError,
-#if PY_MAJOR_VERSION >= 3
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
-                 type_name, attr_name);
-#else
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
-                 type_name, PyString_AS_STRING(attr_name));
-#endif
-    __Pyx_DECREF_TypeName(type_name);
-    return NULL;
-}
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
-    PyObject *descr;
-    PyTypeObject *tp = Py_TYPE(obj);
-    if (unlikely(!PyString_Check(attr_name))) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    assert(!tp->tp_dictoffset);
-    descr = _PyType_Lookup(tp, attr_name);
-    if (unlikely(!descr)) {
-        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
-    }
-    Py_INCREF(descr);
-    #if PY_MAJOR_VERSION < 3
-    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
-    #endif
-    {
-        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
-        if (unlikely(f)) {
-            PyObject *res = f(descr, obj, (PyObject *)tp);
-            Py_DECREF(descr);
-            return res;
-        }
-    }
-    return descr;
-}
-#endif
-
-/* PyObject_GenericGetAttr */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
-    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
-}
-#endif
-
 /* FixUpExtensionType */
 #if CYTHON_USE_TYPE_SPECS
 static int __Pyx_fix_up_extension_type_from_spec(PyType_Spec *spec, PyTypeObject *type) {
 #if PY_VERSION_HEX > 0x030900B1 || CYTHON_COMPILING_IN_LIMITED_API
     CYTHON_UNUSED_VAR(spec);
     CYTHON_UNUSED_VAR(type);
 #else
@@ -9726,14 +9289,66 @@
     #endif
     }
 #endif
     return r;
 #endif
 }
 
+/* PyObject_GenericGetAttrNoDict */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
+    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
+    PyErr_Format(PyExc_AttributeError,
+#if PY_MAJOR_VERSION >= 3
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
+                 type_name, attr_name);
+#else
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
+                 type_name, PyString_AS_STRING(attr_name));
+#endif
+    __Pyx_DECREF_TypeName(type_name);
+    return NULL;
+}
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
+    PyObject *descr;
+    PyTypeObject *tp = Py_TYPE(obj);
+    if (unlikely(!PyString_Check(attr_name))) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    assert(!tp->tp_dictoffset);
+    descr = _PyType_Lookup(tp, attr_name);
+    if (unlikely(!descr)) {
+        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
+    }
+    Py_INCREF(descr);
+    #if PY_MAJOR_VERSION < 3
+    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
+    #endif
+    {
+        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
+        if (unlikely(f)) {
+            PyObject *res = f(descr, obj, (PyObject *)tp);
+            Py_DECREF(descr);
+            return res;
+        }
+    }
+    return descr;
+}
+#endif
+
+/* PyObject_GenericGetAttr */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
+    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
+}
+#endif
+
 /* SetVTable */
 static int __Pyx_SetVtable(PyTypeObject *type, void *vtable) {
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
     if (unlikely(!ob))
         goto bad;
 #if CYTHON_COMPILING_IN_LIMITED_API
     if (unlikely(PyObject_SetAttr((PyObject *) type, __pyx_n_s_pyx_vtable, ob) < 0))
@@ -9929,18 +9544,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9986,23 +9601,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -10164,14 +9779,83 @@
     }
     if (unlikely(!PyErr_ExceptionMatches(PyExc_ImportError)))
         return NULL;
     PyErr_Clear();
     return __Pyx_ImportDottedModule(name, parts_tuple);
 }
 
+/* PyDictVersioning */
+#if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
+static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj) {
+    PyObject *dict = Py_TYPE(obj)->tp_dict;
+    return likely(dict) ? __PYX_GET_DICT_VERSION(dict) : 0;
+}
+static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj) {
+    PyObject **dictptr = NULL;
+    Py_ssize_t offset = Py_TYPE(obj)->tp_dictoffset;
+    if (offset) {
+#if CYTHON_COMPILING_IN_CPYTHON
+        dictptr = (likely(offset > 0)) ? (PyObject **) ((char *)obj + offset) : _PyObject_GetDictPtr(obj);
+#else
+        dictptr = _PyObject_GetDictPtr(obj);
+#endif
+    }
+    return (dictptr && *dictptr) ? __PYX_GET_DICT_VERSION(*dictptr) : 0;
+}
+static CYTHON_INLINE int __Pyx_object_dict_version_matches(PyObject* obj, PY_UINT64_T tp_dict_version, PY_UINT64_T obj_dict_version) {
+    PyObject *dict = Py_TYPE(obj)->tp_dict;
+    if (unlikely(!dict) || unlikely(tp_dict_version != __PYX_GET_DICT_VERSION(dict)))
+        return 0;
+    return obj_dict_version == __Pyx_get_object_dict_version(obj);
+}
+#endif
+
+/* GetModuleGlobalName */
+#if CYTHON_USE_DICT_VERSIONS
+static PyObject *__Pyx__GetModuleGlobalName(PyObject *name, PY_UINT64_T *dict_version, PyObject **dict_cached_value)
+#else
+static CYTHON_INLINE PyObject *__Pyx__GetModuleGlobalName(PyObject *name)
+#endif
+{
+    PyObject *result;
+#if !CYTHON_AVOID_BORROWED_REFS
+#if CYTHON_COMPILING_IN_CPYTHON && PY_VERSION_HEX >= 0x030500A1 && PY_VERSION_HEX < 0x030d0000
+    result = _PyDict_GetItem_KnownHash(__pyx_d, name, ((PyASCIIObject *) name)->hash);
+    __PYX_UPDATE_DICT_CACHE(__pyx_d, result, *dict_cached_value, *dict_version)
+    if (likely(result)) {
+        return __Pyx_NewRef(result);
+    } else if (unlikely(PyErr_Occurred())) {
+        return NULL;
+    }
+#elif CYTHON_COMPILING_IN_LIMITED_API
+    if (unlikely(!__pyx_m)) {
+        return NULL;
+    }
+    result = PyObject_GetAttr(__pyx_m, name);
+    if (likely(result)) {
+        return result;
+    }
+#else
+    result = PyDict_GetItem(__pyx_d, name);
+    __PYX_UPDATE_DICT_CACHE(__pyx_d, result, *dict_cached_value, *dict_version)
+    if (likely(result)) {
+        return __Pyx_NewRef(result);
+    }
+#endif
+#else
+    result = PyObject_GetItem(__pyx_d, name);
+    __PYX_UPDATE_DICT_CACHE(__pyx_d, result, *dict_cached_value, *dict_version)
+    if (likely(result)) {
+        return __Pyx_NewRef(result);
+    }
+    PyErr_Clear();
+#endif
+    return __Pyx_GetBuiltinName(name);
+}
+
 /* FetchSharedCythonModule */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void) {
     return __Pyx_PyImport_AddModuleRef((char*) __PYX_ABI_MODULE_NAME);
 }
 
 /* FetchCommonType */
 static int __Pyx_VerifyCachedType(PyObject *cached_type,
@@ -12695,17 +12379,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/subtitles/codeccontext.c` & `pyav-12.1.0rc1/src/av/subtitles/codeccontext.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1674,15 +1706,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_opt_args_2av_5error_stash_exception;
 struct __pyx_opt_args_2av_5error_err_check;
@@ -1903,31 +1935,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2185,16 +2217,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2226,14 +2258,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2543,30 +2576,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2856,15 +2889,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_9subtitles_12codeccontext_20SubtitleCodecContext__send_packet_and_recv(struct __pyx_obj_2av_9subtitles_12codeccontext_SubtitleCodecContext *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto*/
 
@@ -3980,15 +4013,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_9subtitles_12codeccontext_SubtitleCodecContext = &__pyx_vtable_2av_9subtitles_12codeccontext_SubtitleCodecContext;
   __pyx_vtable_2av_9subtitles_12codeccontext_SubtitleCodecContext.__pyx_base = *__pyx_vtabptr_2av_5codec_7context_CodecContext;
   __pyx_vtable_2av_9subtitles_12codeccontext_SubtitleCodecContext.__pyx_base._send_packet_and_recv = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *))__pyx_f_2av_9subtitles_12codeccontext_20SubtitleCodecContext__send_packet_and_recv;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
@@ -4038,79 +4071,79 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(5, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(5, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(9, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(9, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(9, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(10, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(10, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(10, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(11, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(11, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(11, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(12, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(12, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(12, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(13, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(13, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(13, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.subtitles.subtitle"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9subtitles_8subtitle_SubtitleProxy = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "SubtitleProxy", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleProxy), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleProxy),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_SubtitleProxy) __PYX_ERR(14, 6, __pyx_L1_error)
-  __pyx_ptype_2av_9subtitles_8subtitle_SubtitleSet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "SubtitleSet", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleSet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleSet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_SubtitleSet) __PYX_ERR(14, 11, __pyx_L1_error)
-  __pyx_ptype_2av_9subtitles_8subtitle_Subtitle = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "Subtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_Subtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_Subtitle),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_Subtitle) __PYX_ERR(14, 18, __pyx_L1_error)
-  __pyx_ptype_2av_9subtitles_8subtitle_TextSubtitle = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "TextSubtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_TextSubtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_TextSubtitle),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_TextSubtitle) __PYX_ERR(14, 24, __pyx_L1_error)
-  __pyx_ptype_2av_9subtitles_8subtitle_ASSSubtitle = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "ASSSubtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_ASSSubtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_ASSSubtitle),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_ASSSubtitle) __PYX_ERR(14, 27, __pyx_L1_error)
-  __pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitle = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "BitmapSubtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitle),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitle) __PYX_ERR(14, 30, __pyx_L1_error)
-  __pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitlePlane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.subtitles.subtitle", "BitmapSubtitlePlane", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitlePlane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitlePlane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitlePlane) __PYX_ERR(14, 34, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_SubtitleProxy = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "SubtitleProxy", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleProxy), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleProxy),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_SubtitleProxy) __PYX_ERR(14, 6, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_SubtitleSet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "SubtitleSet", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleSet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_SubtitleSet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_SubtitleSet) __PYX_ERR(14, 11, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_Subtitle = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "Subtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_Subtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_Subtitle),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_Subtitle) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_TextSubtitle = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "TextSubtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_TextSubtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_TextSubtitle),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_TextSubtitle) __PYX_ERR(14, 24, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_ASSSubtitle = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "ASSSubtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_ASSSubtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_ASSSubtitle),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_ASSSubtitle) __PYX_ERR(14, 27, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitle = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "BitmapSubtitle", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitle), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitle),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitle) __PYX_ERR(14, 30, __pyx_L1_error)
+  __pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitlePlane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.subtitles.subtitle", "BitmapSubtitlePlane", sizeof(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitlePlane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9subtitles_8subtitle_BitmapSubtitlePlane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9subtitles_8subtitle_BitmapSubtitlePlane) __PYX_ERR(14, 34, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -4130,19 +4163,19 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5625,18 +5658,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -5682,23 +5715,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -8647,17 +8680,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/subtitles/stream.c` & `pyav-12.1.0rc1/src/av/subtitles/stream.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1652,15 +1684,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1752,31 +1784,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -1996,16 +2028,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2037,14 +2069,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2100,15 +2133,16 @@
   PyObject *(*_set_id)(struct __pyx_obj_2av_6stream_Stream *, PyObject *);
 };
 static struct __pyx_vtabstruct_2av_6stream_Stream *__pyx_vtabptr_2av_6stream_Stream;
 
 
 /* "av/subtitles/stream.pyx":1
  * cdef class SubtitleStream(Stream):             # <<<<<<<<<<<<<<
- *     pass
+ *     def __getattr__(self, name):
+ *         return getattr(self.codec_context, name)
  */
 
 struct __pyx_vtabstruct_2av_9subtitles_6stream_SubtitleStream {
   struct __pyx_vtabstruct_2av_6stream_Stream __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_9subtitles_6stream_SubtitleStream *__pyx_vtabptr_2av_9subtitles_6stream_SubtitleStream;
 /* #### Code section: utility_code_proto ### */
@@ -2317,14 +2351,17 @@
 #define __Pyx_ArgsSlice_VARARGS(args, start, stop) __Pyx_PyTuple_FromArray(&__Pyx_Arg_VARARGS(args, start), stop - start)
 #define __Pyx_ArgsSlice_FASTCALL(args, start, stop) __Pyx_PyTuple_FromArray(&__Pyx_Arg_FASTCALL(args, start), stop - start)
 #else
 #define __Pyx_ArgsSlice_VARARGS(args, start, stop) PyTuple_GetSlice(args, start, stop)
 #define __Pyx_ArgsSlice_FASTCALL(args, start, stop) PyTuple_GetSlice(args, start, stop)
 #endif
 
+/* GetAttr.proto */
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);
+
 /* RaiseArgTupleInvalid.proto */
 static void __Pyx_RaiseArgtupleInvalid(const char* func_name, int exact,
     Py_ssize_t num_min, Py_ssize_t num_max, Py_ssize_t num_found);
 
 /* KeywordStringCheck.proto */
 static int __Pyx_CheckKeywordStrings(PyObject *kw, const char* function_name, int kw_allowed);
 
@@ -2342,31 +2379,45 @@
 
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
+/* PyObject_GenericGetAttrNoDict.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
+#endif
+
+/* PyObject_GenericGetAttr.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
+#endif
+
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2443,28 +2494,14 @@
 #if CYTHON_COMPILING_IN_CPYTHON || CYTHON_COMPILING_IN_LIMITED_API || CYTHON_USE_TYPE_SPECS
 static int __Pyx_validate_bases_tuple(const char *type_name, Py_ssize_t dictoffset, PyObject *bases);
 #endif
 
 /* PyType_Ready.proto */
 CYTHON_UNUSED static int __Pyx_PyType_Ready(PyTypeObject *t);
 
-/* PyObject_GenericGetAttrNoDict.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
-#endif
-
-/* PyObject_GenericGetAttr.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
-#endif
-
 /* SetVTable.proto */
 static int __Pyx_SetVtable(PyTypeObject* typeptr , void* vtable);
 
 /* MergeVTables.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_MergeVtables(PyTypeObject *type);
 #endif
@@ -2713,15 +2750,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -2792,16 +2829,17 @@
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_av_subtitles_stream[] = "av.subtitles.stream";
 static const char __pyx_k_SubtitleStream___reduce_cython[] = "SubtitleStream.__reduce_cython__";
 static const char __pyx_k_self_ptr_cannot_be_converted_to[] = "self.ptr cannot be converted to a Python object for pickling";
 static const char __pyx_k_SubtitleStream___setstate_cython[] = "SubtitleStream.__setstate_cython__";
 /* #### Code section: decls ### */
-static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream___reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream_2__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream___getattr__(struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
+static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream_2__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream_4__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_9subtitles_6stream_SubtitleStream(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
   PyObject *__pyx_b;
   PyObject *__pyx_cython_runtime;
@@ -3170,31 +3208,95 @@
 #define __pyx_n_s_test __pyx_mstate_global->__pyx_n_s_test
 #define __pyx_tuple_ __pyx_mstate_global->__pyx_tuple_
 #define __pyx_tuple__3 __pyx_mstate_global->__pyx_tuple__3
 #define __pyx_codeobj__2 __pyx_mstate_global->__pyx_codeobj__2
 #define __pyx_codeobj__4 __pyx_mstate_global->__pyx_codeobj__4
 /* #### Code section: module_code ### */
 
+/* "av/subtitles/stream.pyx":2
+ * cdef class SubtitleStream(Stream):
+ *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
+ *         return getattr(self.codec_context, name)
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
+static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
+  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__getattr__ (wrapper)", 0);
+  __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
+  __pyx_r = __pyx_pf_2av_9subtitles_6stream_14SubtitleStream___getattr__(((struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *)__pyx_v_self), ((PyObject *)__pyx_v_name));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream___getattr__(struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self, PyObject *__pyx_v_name) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  PyObject *__pyx_t_2 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__getattr__", 1);
+
+  /* "av/subtitles/stream.pyx":3
+ * cdef class SubtitleStream(Stream):
+ *     def __getattr__(self, name):
+ *         return getattr(self.codec_context, name)             # <<<<<<<<<<<<<<
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = ((PyObject *)__pyx_v_self->__pyx_base.codec_context);
+  __Pyx_INCREF(__pyx_t_1);
+  __pyx_t_2 = __Pyx_GetAttr(__pyx_t_1, __pyx_v_name); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_2);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_r = __pyx_t_2;
+  __pyx_t_2 = 0;
+  goto __pyx_L0;
+
+  /* "av/subtitles/stream.pyx":2
+ * cdef class SubtitleStream(Stream):
+ *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
+ *         return getattr(self.codec_context, name)
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_2);
+  __Pyx_AddTraceback("av.subtitles.stream.SubtitleStream.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__reduce_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_9subtitles_6stream_14SubtitleStream___reduce_cython__, "SubtitleStream.__reduce_cython__()");
-static PyMethodDef __pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_1__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream___reduce_cython__};
-static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__reduce_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_9subtitles_6stream_14SubtitleStream_2__reduce_cython__, "SubtitleStream.__reduce_cython__()");
+static PyMethodDef __pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_3__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream_2__reduce_cython__};
+static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   #if !CYTHON_METH_FASTCALL
@@ -3211,22 +3313,22 @@
   __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
   #endif
   #endif
   __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
   if (unlikely(__pyx_nargs > 0)) {
     __Pyx_RaiseArgtupleInvalid("__reduce_cython__", 1, 0, 0, __pyx_nargs); return NULL;}
   if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__reduce_cython__", 0))) return NULL;
-  __pyx_r = __pyx_pf_2av_9subtitles_6stream_14SubtitleStream___reduce_cython__(((struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *)__pyx_v_self));
+  __pyx_r = __pyx_pf_2av_9subtitles_6stream_14SubtitleStream_2__reduce_cython__(((struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream___reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self) {
+static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream_2__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 1);
 
@@ -3258,24 +3360,24 @@
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__setstate_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_5__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_9subtitles_6stream_14SubtitleStream_2__setstate_cython__, "SubtitleStream.__setstate_cython__(__pyx_state)");
-static PyMethodDef __pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_3__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream_2__setstate_cython__};
-static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__setstate_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_9subtitles_6stream_14SubtitleStream_4__setstate_cython__, "SubtitleStream.__setstate_cython__(__pyx_state)");
+static PyMethodDef __pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_5__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_5__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream_4__setstate_cython__};
+static PyObject *__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_5__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   CYTHON_UNUSED PyObject *__pyx_v___pyx_state = 0;
@@ -3341,28 +3443,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.subtitles.stream.SubtitleStream.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_9subtitles_6stream_14SubtitleStream_2__setstate_cython__(((struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *)__pyx_v_self), __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_9subtitles_6stream_14SubtitleStream_4__setstate_cython__(((struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *)__pyx_v_self), __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream_2__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_9subtitles_6stream_14SubtitleStream_4__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_9subtitles_6stream_SubtitleStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 1);
 
@@ -3407,21 +3509,32 @@
 }
 
 static int __pyx_tp_clear_2av_9subtitles_6stream_SubtitleStream(PyObject *o) {
   if (likely(__pyx_ptype_2av_6stream_Stream)) { if (__pyx_ptype_2av_6stream_Stream->tp_clear) __pyx_ptype_2av_6stream_Stream->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_2av_9subtitles_6stream_SubtitleStream);
   return 0;
 }
 
+static PyObject *__pyx_tp_getattro_2av_9subtitles_6stream_SubtitleStream(PyObject *o, PyObject *n) {
+  PyObject *v = __Pyx_PyObject_GenericGetAttr(o, n);
+  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
+    PyErr_Clear();
+    v = __pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__getattr__(o, n);
+  }
+  return v;
+}
+
 static PyMethodDef __pyx_methods_2av_9subtitles_6stream_SubtitleStream[] = {
-  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream___reduce_cython__},
-  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream_2__setstate_cython__},
+  {"__getattr__", (PyCFunction)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_1__getattr__, METH_O|METH_COEXIST, 0},
+  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_3__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream_2__reduce_cython__},
+  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_9subtitles_6stream_14SubtitleStream_5__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_9subtitles_6stream_14SubtitleStream_4__setstate_cython__},
   {0, 0, 0, 0}
 };
 #if CYTHON_USE_TYPE_SPECS
 static PyType_Slot __pyx_type_2av_9subtitles_6stream_SubtitleStream_slots[] = {
+  {Py_tp_getattro, (void *)__pyx_tp_getattro_2av_9subtitles_6stream_SubtitleStream},
   {Py_tp_traverse, (void *)__pyx_tp_traverse_2av_9subtitles_6stream_SubtitleStream},
   {Py_tp_clear, (void *)__pyx_tp_clear_2av_9subtitles_6stream_SubtitleStream},
   {Py_tp_methods, (void *)__pyx_methods_2av_9subtitles_6stream_SubtitleStream},
   {Py_tp_new, (void *)__pyx_tp_new_2av_9subtitles_6stream_SubtitleStream},
   {0, 0},
 };
 static PyType_Spec __pyx_type_2av_9subtitles_6stream_SubtitleStream_spec = {
@@ -3456,15 +3569,15 @@
   0, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
   0, /*tp_call*/
   0, /*tp_str*/
-  0, /*tp_getattro*/
+  __pyx_tp_getattro_2av_9subtitles_6stream_SubtitleStream, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC|Py_TPFLAGS_HAVE_FINALIZE, /*tp_flags*/
   0, /*tp_doc*/
   __pyx_tp_traverse_2av_9subtitles_6stream_SubtitleStream, /*tp_traverse*/
   __pyx_tp_clear_2av_9subtitles_6stream_SubtitleStream, /*tp_clear*/
   0, /*tp_richcompare*/
@@ -3655,15 +3768,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(1, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_9subtitles_6stream_SubtitleStream = &__pyx_vtable_2av_9subtitles_6stream_SubtitleStream;
   __pyx_vtable_2av_9subtitles_6stream_SubtitleStream.__pyx_base = *__pyx_vtabptr_2av_6stream_Stream;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   __pyx_ptype_2av_9subtitles_6stream_SubtitleStream = (PyTypeObject *) __Pyx_PyType_FromModuleAndSpec(__pyx_m, &__pyx_type_2av_9subtitles_6stream_SubtitleStream_spec, __pyx_t_2);
@@ -3679,19 +3792,14 @@
   #endif
   #if !CYTHON_USE_TYPE_SPECS
   if (__Pyx_PyType_Ready(__pyx_ptype_2av_9subtitles_6stream_SubtitleStream) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_9subtitles_6stream_SubtitleStream->tp_print = 0;
   #endif
-  #if !CYTHON_COMPILING_IN_LIMITED_API
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_9subtitles_6stream_SubtitleStream->tp_dictoffset && __pyx_ptype_2av_9subtitles_6stream_SubtitleStream->tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_ptype_2av_9subtitles_6stream_SubtitleStream->tp_getattro = __Pyx_PyObject_GenericGetAttr;
-  }
-  #endif
   if (__Pyx_SetVtable(__pyx_ptype_2av_9subtitles_6stream_SubtitleStream, __pyx_vtabptr_2av_9subtitles_6stream_SubtitleStream) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_MergeVtables(__pyx_ptype_2av_9subtitles_6stream_SubtitleStream) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   #endif
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_SubtitleStream, (PyObject *) __pyx_ptype_2av_9subtitles_6stream_SubtitleStream) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_9subtitles_6stream_SubtitleStream) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
@@ -3712,68 +3820,68 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(2, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(3, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(5, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(5, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(5, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(7, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(7, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(7, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(7, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(7, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(8, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(8, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(8, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(9, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(9, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(9, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(10, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(10, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(11, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(13, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(13, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -3794,15 +3902,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -4087,33 +4195,34 @@
   #endif
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_1__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SubtitleStream___reduce_cython, NULL, __pyx_n_s_av_subtitles_stream, __pyx_d, ((PyObject *)__pyx_codeobj__2)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_3__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SubtitleStream___reduce_cython, NULL, __pyx_n_s_av_subtitles_stream, __pyx_d, ((PyObject *)__pyx_codeobj__2)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_2) < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_3__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SubtitleStream___setstate_cython, NULL, __pyx_n_s_av_subtitles_stream, __pyx_d, ((PyObject *)__pyx_codeobj__4)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_9subtitles_6stream_14SubtitleStream_5__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_SubtitleStream___setstate_cython, NULL, __pyx_n_s_av_subtitles_stream, __pyx_d, ((PyObject *)__pyx_codeobj__4)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 3, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_2) < 0) __PYX_ERR(0, 3, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "av/subtitles/stream.pyx":1
  * cdef class SubtitleStream(Stream):             # <<<<<<<<<<<<<<
- *     pass
+ *     def __getattr__(self, name):
+ *         return getattr(self.codec_context, name)
  */
   __pyx_t_2 = __Pyx_PyDict_NewPresized(0); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_test, __pyx_t_2) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /*--- Wrapped vars code ---*/
@@ -4564,14 +4673,27 @@
 bad:
     Py_DECREF(dict);
     return NULL;
 }
 #endif
 #endif
 
+/* GetAttr */
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
+#if CYTHON_USE_TYPE_SLOTS
+#if PY_MAJOR_VERSION >= 3
+    if (likely(PyUnicode_Check(n)))
+#else
+    if (likely(PyString_Check(n)))
+#endif
+        return __Pyx_PyObject_GetAttrStr(o, n);
+#endif
+    return PyObject_GetAttr(o, n);
+}
+
 /* RaiseArgTupleInvalid */
 static void __Pyx_RaiseArgtupleInvalid(
     const char* func_name,
     int exact,
     Py_ssize_t num_min,
     Py_ssize_t num_max,
     Py_ssize_t num_found)
@@ -5020,19 +5142,71 @@
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
+/* PyObject_GenericGetAttrNoDict */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
+    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
+    PyErr_Format(PyExc_AttributeError,
+#if PY_MAJOR_VERSION >= 3
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
+                 type_name, attr_name);
+#else
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
+                 type_name, PyString_AS_STRING(attr_name));
+#endif
+    __Pyx_DECREF_TypeName(type_name);
+    return NULL;
+}
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
+    PyObject *descr;
+    PyTypeObject *tp = Py_TYPE(obj);
+    if (unlikely(!PyString_Check(attr_name))) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    assert(!tp->tp_dictoffset);
+    descr = _PyType_Lookup(tp, attr_name);
+    if (unlikely(!descr)) {
+        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
+    }
+    Py_INCREF(descr);
+    #if PY_MAJOR_VERSION < 3
+    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
+    #endif
+    {
+        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
+        if (unlikely(f)) {
+            PyObject *res = f(descr, obj, (PyObject *)tp);
+            Py_DECREF(descr);
+            return res;
+        }
+    }
+    return descr;
+}
+#endif
+
+/* PyObject_GenericGetAttr */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
+    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
+}
+#endif
+
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -5078,23 +5252,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -5740,66 +5914,14 @@
     #endif
     }
 #endif
     return r;
 #endif
 }
 
-/* PyObject_GenericGetAttrNoDict */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
-    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
-    PyErr_Format(PyExc_AttributeError,
-#if PY_MAJOR_VERSION >= 3
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
-                 type_name, attr_name);
-#else
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
-                 type_name, PyString_AS_STRING(attr_name));
-#endif
-    __Pyx_DECREF_TypeName(type_name);
-    return NULL;
-}
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
-    PyObject *descr;
-    PyTypeObject *tp = Py_TYPE(obj);
-    if (unlikely(!PyString_Check(attr_name))) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    assert(!tp->tp_dictoffset);
-    descr = _PyType_Lookup(tp, attr_name);
-    if (unlikely(!descr)) {
-        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
-    }
-    Py_INCREF(descr);
-    #if PY_MAJOR_VERSION < 3
-    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
-    #endif
-    {
-        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
-        if (unlikely(f)) {
-            PyObject *res = f(descr, obj, (PyObject *)tp);
-            Py_DECREF(descr);
-            return res;
-        }
-    }
-    return descr;
-}
-#endif
-
-/* PyObject_GenericGetAttr */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
-    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
-}
-#endif
-
 /* SetVTable */
 static int __Pyx_SetVtable(PyTypeObject *type, void *vtable) {
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
     if (unlikely(!ob))
         goto bad;
 #if CYTHON_COMPILING_IN_LIMITED_API
     if (unlikely(PyObject_SetAttr((PyObject *) type, __pyx_n_s_pyx_vtable, ob) < 0))
@@ -8306,17 +8428,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/subtitles/subtitle.c` & `pyav-12.1.0rc1/src/av/subtitles/subtitle.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -89,18 +90,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -184,14 +185,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -245,14 +248,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -306,60 +311,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -442,14 +470,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1280,14 +1311,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1690,15 +1722,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1800,31 +1832,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2201,16 +2233,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2242,14 +2274,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2731,30 +2764,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
@@ -3117,15 +3150,15 @@
 static int __pyx_Generator_init(PyObject *module);
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4real_real(PyComplexObject *__pyx_v_self); /* proto*/
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4imag_imag(PyComplexObject *__pyx_v_self); /* proto*/
@@ -4349,70 +4382,70 @@
 #define __pyx_codeobj__24 __pyx_mstate_global->__pyx_codeobj__24
 #define __pyx_codeobj__25 __pyx_mstate_global->__pyx_codeobj__25
 /* #### Code section: module_code ### */
 
 /* "cpython/complex.pxd":19
  * 
  *         @property
- *         cdef inline double real(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double real(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.real
  * 
  */
 
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4real_real(PyComplexObject *__pyx_v_self) {
   double __pyx_r;
 
   /* "cpython/complex.pxd":20
  *         @property
- *         cdef inline double real(self):
+ *         cdef inline double real(self) noexcept:
  *             return self.cval.real             # <<<<<<<<<<<<<<
  * 
  *         @property
  */
   __pyx_r = __pyx_v_self->cval.real;
   goto __pyx_L0;
 
   /* "cpython/complex.pxd":19
  * 
  *         @property
- *         cdef inline double real(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double real(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.real
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
 }
 
 /* "cpython/complex.pxd":23
  * 
  *         @property
- *         cdef inline double imag(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double imag(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.imag
  * 
  */
 
 static CYTHON_INLINE double __pyx_f_7cpython_7complex_7complex_4imag_imag(PyComplexObject *__pyx_v_self) {
   double __pyx_r;
 
   /* "cpython/complex.pxd":24
  *         @property
- *         cdef inline double imag(self):
+ *         cdef inline double imag(self) noexcept:
  *             return self.cval.imag             # <<<<<<<<<<<<<<
  * 
  *     # PyTypeObject PyComplex_Type
  */
   __pyx_r = __pyx_v_self->cval.imag;
   goto __pyx_L0;
 
   /* "cpython/complex.pxd":23
  * 
  *         @property
- *         cdef inline double imag(self):             # <<<<<<<<<<<<<<
+ *         cdef inline double imag(self) noexcept:             # <<<<<<<<<<<<<<
  *             return self.cval.imag
  * 
  */
 
   /* function exit code */
   __pyx_L0:;
   return __pyx_r;
@@ -11356,24 +11389,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__ *__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__[8];
 static int __pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__ = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__ > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__)))) {
     o = (PyObject*)__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__[--__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -11392,15 +11427,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__ < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__)))) {
     __pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__[__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__++] = ((struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct____cinit__ *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -11525,24 +11560,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr *__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr[8];
 static int __pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr)))) {
     o = (PyObject*)__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr[--__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -11561,15 +11598,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr)))) {
     __pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr[__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr++] = ((struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_1_genexpr *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -11684,24 +11721,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__ *__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__[8];
 static int __pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__ = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__ > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__)))) {
     o = (PyObject*)__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__[--__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -11720,15 +11759,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__ < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__)))) {
     __pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__[__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__++] = ((struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_2___cinit__ *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -11853,24 +11892,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr *__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr[8];
 static int __pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr)))) {
     o = (PyObject*)__pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr[--__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr];
     memset(o, 0, sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -11889,15 +11930,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr)))) {
     __pyx_freelist_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr[__pyx_freecount_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr++] = ((struct __pyx_obj_2av_9subtitles_8subtitle___pyx_scope_struct_3_genexpr *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -12646,94 +12687,94 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(4, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(4, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(6, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(6, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(6, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(8, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(8, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(8, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(9, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(9, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(10, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(10, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(11, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(11, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(12, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(12, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(13, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(14, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(14, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(14, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(15, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(15, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(15, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(16, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(16, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(16, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_3_0_9(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
+  __pyx_ptype_7cpython_4type_type = __Pyx_ImportType_3_0_10(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "type", 
   #if defined(PYPY_VERSION_NUM) && PYPY_VERSION_NUM < 0x050B0000
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyTypeObject),
+  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyTypeObject),
   #elif CYTHON_COMPILING_IN_LIMITED_API
-  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyTypeObject),
+  sizeof(PyTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyTypeObject),
   #else
-  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyHeapTypeObject),
+  sizeof(PyHeapTypeObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyHeapTypeObject),
   #endif
-  __Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(17, 9, __pyx_L1_error)
+  __Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_7cpython_4type_type) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_3_0_9(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(18, 8, __pyx_L1_error)
+  __pyx_ptype_7cpython_4bool_bool = __Pyx_ImportType_3_0_10(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "bool", sizeof(PyBoolObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyBoolObject),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_7cpython_4bool_bool) __PYX_ERR(18, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule(__Pyx_BUILTIN_MODULE_NAME); if (unlikely(!__pyx_t_1)) __PYX_ERR(19, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_3_0_9(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(19, 15, __pyx_L1_error)
+  __pyx_ptype_7cpython_7complex_complex = __Pyx_ImportType_3_0_10(__pyx_t_1, __Pyx_BUILTIN_MODULE_NAME, "complex", sizeof(PyComplexObject), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(PyComplexObject),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_7cpython_7complex_complex) __PYX_ERR(19, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -12753,15 +12794,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -15343,18 +15384,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -15400,23 +15441,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -19681,17 +19722,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/utils.c` & `pyav-12.1.0rc1/src/av/utils.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -2002,15 +2034,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 
 /* Module declarations from "libc.stdint" */
@@ -3679,15 +3711,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -6526,17 +6558,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/video/codeccontext.c` & `pyav-12.1.0rc1/src/av/video/codeccontext.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1674,15 +1706,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_opt_args_2av_5video_6format_11VideoFormat_chroma_width;
 struct __pyx_opt_args_2av_5video_6format_11VideoFormat_chroma_height;
@@ -1893,31 +1925,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2149,16 +2181,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2190,14 +2222,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2618,30 +2651,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2953,15 +2986,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5video_12codeccontext_17VideoCodecContext__init(struct __pyx_obj_2av_5video_12codeccontext_VideoCodecContext *__pyx_v_self, struct AVCodecContext *__pyx_v_ptr, struct AVCodec const *__pyx_v_codec); /* proto*/
 static PyObject *__pyx_f_2av_5video_12codeccontext_17VideoCodecContext__set_default_time_base(struct __pyx_obj_2av_5video_12codeccontext_VideoCodecContext *__pyx_v_self); /* proto*/
@@ -7550,15 +7583,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_12codeccontext_VideoCodecContext = &__pyx_vtable_2av_5video_12codeccontext_VideoCodecContext;
   __pyx_vtable_2av_5video_12codeccontext_VideoCodecContext.__pyx_base = *__pyx_vtabptr_2av_5codec_7context_CodecContext;
   __pyx_vtable_2av_5video_12codeccontext_VideoCodecContext.__pyx_base._init = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *))__pyx_f_2av_5video_12codeccontext_17VideoCodecContext__init;
   __pyx_vtable_2av_5video_12codeccontext_VideoCodecContext.__pyx_base._set_default_time_base = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *))__pyx_f_2av_5video_12codeccontext_17VideoCodecContext__set_default_time_base;
   __pyx_vtable_2av_5video_12codeccontext_VideoCodecContext.__pyx_base._prepare_frames_for_encode = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *))__pyx_f_2av_5video_12codeccontext_17VideoCodecContext__prepare_frames_for_encode;
   __pyx_vtable_2av_5video_12codeccontext_VideoCodecContext.__pyx_base._setup_decoded_frame = (PyObject *(*)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *))__pyx_f_2av_5video_12codeccontext_17VideoCodecContext__setup_decoded_frame;
@@ -7612,84 +7645,84 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(5, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(5, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(13, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(15, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(15, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(15, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(15, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(15, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.reformatter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(16, 6, __pyx_L1_error)
+  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(16, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_11reformatter_VideoReformatter = (struct __pyx_vtabstruct_2av_5video_11reformatter_VideoReformatter*)__Pyx_GetVtable(__pyx_ptype_2av_5video_11reformatter_VideoReformatter); if (unlikely(!__pyx_vtabptr_2av_5video_11reformatter_VideoReformatter)) __PYX_ERR(16, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(17, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(17, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = (struct __pyx_vtabstruct_2av_5video_5frame_VideoFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5frame_VideoFrame); if (unlikely(!__pyx_vtabptr_2av_5video_5frame_VideoFrame)) __PYX_ERR(17, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -7710,29 +7743,29 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_video_format", (void (**)(void))&__pyx_f_2av_5video_6format_get_video_format, "struct __pyx_obj_2av_5video_6format_VideoFormat *(enum AVPixelFormat, unsigned int, unsigned int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_pix_fmt", (void (**)(void))&__pyx_f_2av_5video_6format_get_pix_fmt, "enum AVPixelFormat (char const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_video_format", (void (**)(void))&__pyx_f_2av_5video_6format_get_video_format, "struct __pyx_obj_2av_5video_6format_VideoFormat *(enum AVPixelFormat, unsigned int, unsigned int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_pix_fmt", (void (**)(void))&__pyx_f_2av_5video_6format_get_pix_fmt, "enum AVPixelFormat (char const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_video_frame", (void (**)(void))&__pyx_f_2av_5video_5frame_alloc_video_frame, "struct __pyx_obj_2av_5video_5frame_VideoFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_video_frame", (void (**)(void))&__pyx_f_2av_5video_5frame_alloc_video_frame, "struct __pyx_obj_2av_5video_5frame_VideoFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -9384,18 +9417,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -9441,23 +9474,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -13952,17 +13985,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/video/format.c` & `pyav-12.1.0rc1/src/av/video/format.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -7060,24 +7092,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_5video_6format___pyx_scope_struct___init *__pyx_freelist_2av_5video_6format___pyx_scope_struct___init[8];
 static int __pyx_freecount_2av_5video_6format___pyx_scope_struct___init = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_5video_6format___pyx_scope_struct___init(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_5video_6format___pyx_scope_struct___init > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_5video_6format___pyx_scope_struct___init)))) {
     o = (PyObject*)__pyx_freelist_2av_5video_6format___pyx_scope_struct___init[--__pyx_freecount_2av_5video_6format___pyx_scope_struct___init];
     memset(o, 0, sizeof(struct __pyx_obj_2av_5video_6format___pyx_scope_struct___init));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -7096,15 +7130,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_5video_6format___pyx_scope_struct___init) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_v_self);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_5video_6format___pyx_scope_struct___init < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_5video_6format___pyx_scope_struct___init)))) {
     __pyx_freelist_2av_5video_6format___pyx_scope_struct___init[__pyx_freecount_2av_5video_6format___pyx_scope_struct___init++] = ((struct __pyx_obj_2av_5video_6format___pyx_scope_struct___init *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
@@ -7229,24 +7263,26 @@
   #endif
   #if CYTHON_COMPILING_IN_PYPY && PY_VERSION_HEX >= 0x03090000 && PY_VERSION_HEX < 0x030a0000
   0, /*tp_pypy_flags*/
   #endif
 };
 #endif
 
+#if CYTHON_USE_FREELISTS
 static struct __pyx_obj_2av_5video_6format___pyx_scope_struct_1_genexpr *__pyx_freelist_2av_5video_6format___pyx_scope_struct_1_genexpr[8];
 static int __pyx_freecount_2av_5video_6format___pyx_scope_struct_1_genexpr = 0;
+#endif
 
 static PyObject *__pyx_tp_new_2av_5video_6format___pyx_scope_struct_1_genexpr(PyTypeObject *t, CYTHON_UNUSED PyObject *a, CYTHON_UNUSED PyObject *k) {
   PyObject *o;
   #if CYTHON_COMPILING_IN_LIMITED_API
   allocfunc alloc_func = (allocfunc)PyType_GetSlot(t, Py_tp_alloc);
   o = alloc_func(t, 0);
   #else
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (likely((int)(__pyx_freecount_2av_5video_6format___pyx_scope_struct_1_genexpr > 0) & (int)(t->tp_basicsize == sizeof(struct __pyx_obj_2av_5video_6format___pyx_scope_struct_1_genexpr)))) {
     o = (PyObject*)__pyx_freelist_2av_5video_6format___pyx_scope_struct_1_genexpr[--__pyx_freecount_2av_5video_6format___pyx_scope_struct_1_genexpr];
     memset(o, 0, sizeof(struct __pyx_obj_2av_5video_6format___pyx_scope_struct_1_genexpr));
     (void) PyObject_INIT(o, t);
     PyObject_GC_Track(o);
   } else
   #endif
@@ -7265,15 +7301,15 @@
     if (__Pyx_PyObject_GetSlot(o, tp_dealloc, destructor) == __pyx_tp_dealloc_2av_5video_6format___pyx_scope_struct_1_genexpr) {
       if (PyObject_CallFinalizerFromDealloc(o)) return;
     }
   }
   #endif
   PyObject_GC_UnTrack(o);
   Py_CLEAR(p->__pyx_outer_scope);
-  #if CYTHON_COMPILING_IN_CPYTHON
+  #if CYTHON_USE_FREELISTS
   if (((int)(__pyx_freecount_2av_5video_6format___pyx_scope_struct_1_genexpr < 8) & (int)(Py_TYPE(o)->tp_basicsize == sizeof(struct __pyx_obj_2av_5video_6format___pyx_scope_struct_1_genexpr)))) {
     __pyx_freelist_2av_5video_6format___pyx_scope_struct_1_genexpr[__pyx_freecount_2av_5video_6format___pyx_scope_struct_1_genexpr++] = ((struct __pyx_obj_2av_5video_6format___pyx_scope_struct_1_genexpr *)o);
   } else
   #endif
   {
     #if CYTHON_USE_TYPE_SLOTS || CYTHON_COMPILING_IN_PYPY
     (*Py_TYPE(o)->tp_free)(o);
```

### Comparing `pyav-12.0.5/src/av/video/frame.c` & `pyav-12.1.0rc1/src/av/video/frame.c`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1791,15 +1823,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -2118,31 +2150,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2374,14 +2406,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2468,16 +2501,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -3351,30 +3384,30 @@
 #if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
 static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
 #else
 #define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -3734,15 +3767,15 @@
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionExport.proto */
 static int __Pyx_ExportFunction(const char *name, void (*f)(void), const char *sig);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_array_get_memview(struct __pyx_array_obj *__pyx_v_self); /* proto*/
 static char *__pyx_memoryview_get_item_pointer(struct __pyx_memoryview_obj *__pyx_v_self, PyObject *__pyx_v_index); /* proto*/
@@ -31385,15 +31418,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = &__pyx_vtable_2av_5video_5frame_VideoFrame;
   __pyx_vtable_2av_5video_5frame_VideoFrame.__pyx_base = *__pyx_vtabptr_2av_5frame_Frame;
   __pyx_vtable_2av_5video_5frame_VideoFrame.__pyx_base._init_user_attributes = (PyObject *(*)(struct __pyx_obj_2av_5frame_Frame *))__pyx_f_2av_5video_5frame_10VideoFrame__init_user_attributes;
   __pyx_vtable_2av_5video_5frame_VideoFrame._init = (PyObject *(*)(struct __pyx_obj_2av_5video_5frame_VideoFrame *, enum AVPixelFormat, unsigned int, unsigned int))__pyx_f_2av_5video_5frame_10VideoFrame__init;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 79, __pyx_L1_error)
@@ -31578,89 +31611,89 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(13, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(14, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(14, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(14, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(14, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.reformatter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(15, 6, __pyx_L1_error)
+  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(15, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_11reformatter_VideoReformatter = (struct __pyx_vtabstruct_2av_5video_11reformatter_VideoReformatter*)__Pyx_GetVtable(__pyx_ptype_2av_5video_11reformatter_VideoReformatter); if (unlikely(!__pyx_vtabptr_2av_5video_11reformatter_VideoReformatter)) __PYX_ERR(15, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.plane"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 5, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(16, 5, __pyx_L1_error)
+  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(16, 5, __pyx_L1_error)
   __pyx_vtabptr_2av_5plane_Plane = (struct __pyx_vtabstruct_2av_5plane_Plane*)__Pyx_GetVtable(__pyx_ptype_2av_5plane_Plane); if (unlikely(!__pyx_vtabptr_2av_5plane_Plane)) __PYX_ERR(16, 5, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.plane"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 5, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5plane_VideoPlane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.plane", "VideoPlane", sizeof(struct __pyx_obj_2av_5video_5plane_VideoPlane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5plane_VideoPlane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5plane_VideoPlane) __PYX_ERR(17, 5, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5plane_VideoPlane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.plane", "VideoPlane", sizeof(struct __pyx_obj_2av_5video_5plane_VideoPlane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5plane_VideoPlane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5plane_VideoPlane) __PYX_ERR(17, 5, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5plane_VideoPlane = (struct __pyx_vtabstruct_2av_5video_5plane_VideoPlane*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5plane_VideoPlane); if (unlikely(!__pyx_vtabptr_2av_5video_5plane_VideoPlane)) __PYX_ERR(17, 5, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -31681,33 +31714,33 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_video_format", (void (**)(void))&__pyx_f_2av_5video_6format_get_video_format, "struct __pyx_obj_2av_5video_6format_VideoFormat *(enum AVPixelFormat, unsigned int, unsigned int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "get_pix_fmt", (void (**)(void))&__pyx_f_2av_5video_6format_get_pix_fmt, "enum AVPixelFormat (char const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_video_format", (void (**)(void))&__pyx_f_2av_5video_6format_get_video_format, "struct __pyx_obj_2av_5video_6format_VideoFormat *(enum AVPixelFormat, unsigned int, unsigned int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "get_pix_fmt", (void (**)(void))&__pyx_f_2av_5video_6format_get_pix_fmt, "enum AVPixelFormat (char const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "check_ndarray", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray, "PyObject *(PyObject *, PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "check_ndarray_shape", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray_shape, "PyObject *(PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "check_ndarray", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray, "PyObject *(PyObject *, PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "check_ndarray_shape", (void (**)(void))&__pyx_f_2av_5utils_check_ndarray_shape, "PyObject *(PyObject *, int)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -36918,18 +36951,18 @@
         return PyObject_GenericGetAttr(obj, attr_name);
     }
     return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -36975,23 +37008,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -42507,17 +42540,17 @@
 bad:
     Py_XDECREF(cobj);
     Py_XDECREF(d);
     return -1;
 }
 
 /* FunctionImport */
-  #ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+  #ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/video/plane.c` & `pyav-12.1.0rc1/src/av/video/plane.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1649,15 +1681,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1915,31 +1947,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2095,14 +2127,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2189,16 +2222,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2631,30 +2664,30 @@
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2957,15 +2990,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static size_t __pyx_f_2av_5video_5plane_10VideoPlane__buffer_size(struct __pyx_obj_2av_5video_5plane_VideoPlane *__pyx_v_self); /* proto*/
 
@@ -4630,15 +4663,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.plane"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_5plane_Plane = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.plane", "Plane", sizeof(struct __pyx_obj_2av_5plane_Plane), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5plane_Plane),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5plane_Plane) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5plane_Plane = (struct __pyx_vtabstruct_2av_5plane_Plane*)__Pyx_GetVtable(__pyx_ptype_2av_5plane_Plane); if (unlikely(!__pyx_vtabptr_2av_5plane_Plane)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5plane_VideoPlane = &__pyx_vtable_2av_5video_5plane_VideoPlane;
   __pyx_vtable_2av_5video_5plane_VideoPlane.__pyx_base = *__pyx_vtabptr_2av_5plane_Plane;
   __pyx_vtable_2av_5video_5plane_VideoPlane.__pyx_base.__pyx_base._buffer_size = (size_t (*)(struct __pyx_obj_2av_6buffer_Buffer *))__pyx_f_2av_5video_5plane_10VideoPlane__buffer_size;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_5plane_Plane); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
@@ -4688,89 +4721,89 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(3, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(3, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(3, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(6, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(6, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(6, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(7, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(9, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(11, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(11, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(12, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(12, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(14, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(14, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(14, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(15, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(15, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(15, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(16, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(16, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(16, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(16, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(16, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.reformatter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(17, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(17, 6, __pyx_L1_error)
+  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(17, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_11reformatter_VideoReformatter = (struct __pyx_vtabstruct_2av_5video_11reformatter_VideoReformatter*)__Pyx_GetVtable(__pyx_ptype_2av_5video_11reformatter_VideoReformatter); if (unlikely(!__pyx_vtabptr_2av_5video_11reformatter_VideoReformatter)) __PYX_ERR(17, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(18, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(18, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = (struct __pyx_vtabstruct_2av_5video_5frame_VideoFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5frame_VideoFrame); if (unlikely(!__pyx_vtabptr_2av_5video_5frame_VideoFrame)) __PYX_ERR(18, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -4791,15 +4824,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -6663,18 +6696,18 @@
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -6720,23 +6753,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -10429,17 +10462,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/video/reformatter.c` & `pyav-12.1.0rc1/src/av/video/reformatter.c`

 * *Files 1% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1652,15 +1684,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1965,31 +1997,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2116,14 +2148,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2210,16 +2243,16 @@
 static struct __pyx_vtabstruct_2av_6packet_Packet *__pyx_vtabptr_2av_6packet_Packet;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2700,30 +2733,30 @@
 
 /* SetupReduce.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_setup_reduce(PyObject* type_obj);
 #endif
 
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* FetchSharedCythonModule.proto */
 static PyObject *__Pyx_FetchSharedCythonABIModule(void);
 
 /* FetchCommonType.proto */
 #if !CYTHON_USE_TYPE_SPECS
@@ -2941,15 +2974,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5video_11reformatter_16VideoReformatter__reformat(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter *__pyx_v_self, struct __pyx_obj_2av_5video_5frame_VideoFrame *__pyx_v_frame, int __pyx_v_width, int __pyx_v_height, enum AVPixelFormat __pyx_v_dst_format, int __pyx_v_src_colorspace, int __pyx_v_dst_colorspace, int __pyx_v_interpolation, int __pyx_v_src_color_range, int __pyx_v_dst_color_range); /* proto*/
 
@@ -5573,84 +5606,84 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(5, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(5, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(6, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(7, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(7, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(8, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(8, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(9, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(10, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(10, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(11, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(11, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(12, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(12, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(13, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(13, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(13, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(14, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(14, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(15, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(15, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(15, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(15, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(15, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = (struct __pyx_vtabstruct_2av_5video_5frame_VideoFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5frame_VideoFrame); if (unlikely(!__pyx_vtabptr_2av_5video_5frame_VideoFrame)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -5671,27 +5704,27 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "alloc_video_frame", (void (**)(void))&__pyx_f_2av_5video_5frame_alloc_video_frame, "struct __pyx_obj_2av_5video_5frame_VideoFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "alloc_video_frame", (void (**)(void))&__pyx_f_2av_5video_5frame_alloc_video_frame, "struct __pyx_obj_2av_5video_5frame_VideoFrame *(void)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.enum"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "define_enum", (void (**)(void))&__pyx_f_2av_4enum_define_enum, "PyObject *(PyObject *, PyObject *, PyObject *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_4enum_define_enum *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.error"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "err_check", (void (**)(void))&__pyx_f_2av_5error_err_check, "int (int, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5error_err_check *__pyx_optional_args)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -8778,18 +8811,18 @@
     Py_XDECREF(setstate);
     Py_XDECREF(setstate_cython);
     return ret;
 }
 #endif
 
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -8835,23 +8868,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -11291,17 +11324,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/src/av/video/stream.c` & `pyav-12.1.0rc1/src/av/video/stream.c`

 * *Files 2% similar despite different names*

```diff
@@ -1,14 +1,15 @@
-/* Generated by Cython 3.0.9 */
+/* Generated by Cython 3.0.10 */
 
 /* BEGIN: Cython Metadata
 {
     "distutils": {
         "depends": [
             "/tmp/vendor/include/libavcodec/avcodec.h",
+            "/tmp/vendor/include/libavcodec/bsf.h",
             "/tmp/vendor/include/libavdevice/avdevice.h",
             "/tmp/vendor/include/libavfilter/avfilter.h",
             "/tmp/vendor/include/libavfilter/buffersink.h",
             "/tmp/vendor/include/libavfilter/buffersrc.h",
             "/tmp/vendor/include/libavformat/avformat.h",
             "/tmp/vendor/include/libavutil/audio_fifo.h",
             "/tmp/vendor/include/libavutil/avutil.h",
@@ -72,18 +73,18 @@
     #error Cython requires Python 2.7+ or Python 3.3+.
 #else
 #if defined(CYTHON_LIMITED_API) && CYTHON_LIMITED_API
 #define __PYX_EXTRA_ABI_MODULE_NAME "limited"
 #else
 #define __PYX_EXTRA_ABI_MODULE_NAME ""
 #endif
-#define CYTHON_ABI "3_0_9" __PYX_EXTRA_ABI_MODULE_NAME
+#define CYTHON_ABI "3_0_10" __PYX_EXTRA_ABI_MODULE_NAME
 #define __PYX_ABI_MODULE_NAME "_cython_" CYTHON_ABI
 #define __PYX_TYPE_MODULE_PREFIX __PYX_ABI_MODULE_NAME "."
-#define CYTHON_HEX_VERSION 0x030009F0
+#define CYTHON_HEX_VERSION 0x03000AF0
 #define CYTHON_FUTURE_DIVISION 0
 #include <stddef.h>
 #ifndef offsetof
   #define offsetof(type, member) ( (size_t) & ((type*)0) -> member )
 #endif
 #if !defined(_WIN32) && !defined(WIN32) && !defined(MS_WINDOWS)
   #ifndef __stdcall
@@ -167,14 +168,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(PYPY_VERSION)
   #define CYTHON_COMPILING_IN_PYPY 1
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #undef CYTHON_USE_TYPE_SLOTS
@@ -228,14 +231,16 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(CYTHON_LIMITED_API)
   #ifdef Py_LIMITED_API
     #undef __PYX_LIMITED_VERSION_HEX
     #define __PYX_LIMITED_VERSION_HEX Py_LIMITED_API
   #endif
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
@@ -289,60 +294,83 @@
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 0
   #endif
+  #undef CYTHON_USE_FREELISTS
+  #define CYTHON_USE_FREELISTS 0
 #elif defined(Py_GIL_DISABLED) || defined(Py_NOGIL)
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 0
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 1
   #ifndef CYTHON_USE_TYPE_SLOTS
     #define CYTHON_USE_TYPE_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_TYPE_SPECS
+    #define CYTHON_USE_TYPE_SPECS 0
+  #endif
   #undef CYTHON_USE_PYTYPE_LOOKUP
   #define CYTHON_USE_PYTYPE_LOOKUP 0
   #ifndef CYTHON_USE_ASYNC_SLOTS
     #define CYTHON_USE_ASYNC_SLOTS 1
   #endif
+  #ifndef CYTHON_USE_PYLONG_INTERNALS
+    #define CYTHON_USE_PYLONG_INTERNALS 0
+  #endif
   #undef CYTHON_USE_PYLIST_INTERNALS
   #define CYTHON_USE_PYLIST_INTERNALS 0
   #ifndef CYTHON_USE_UNICODE_INTERNALS
     #define CYTHON_USE_UNICODE_INTERNALS 1
   #endif
   #undef CYTHON_USE_UNICODE_WRITER
   #define CYTHON_USE_UNICODE_WRITER 0
-  #undef CYTHON_USE_PYLONG_INTERNALS
-  #define CYTHON_USE_PYLONG_INTERNALS 0
   #ifndef CYTHON_AVOID_BORROWED_REFS
     #define CYTHON_AVOID_BORROWED_REFS 0
   #endif
   #ifndef CYTHON_ASSUME_SAFE_MACROS
     #define CYTHON_ASSUME_SAFE_MACROS 1
   #endif
   #ifndef CYTHON_UNPACK_METHODS
     #define CYTHON_UNPACK_METHODS 1
   #endif
   #undef CYTHON_FAST_THREAD_STATE
   #define CYTHON_FAST_THREAD_STATE 0
+  #undef CYTHON_FAST_GIL
+  #define CYTHON_FAST_GIL 0
+  #ifndef CYTHON_METH_FASTCALL
+    #define CYTHON_METH_FASTCALL 1
+  #endif
   #undef CYTHON_FAST_PYCALL
   #define CYTHON_FAST_PYCALL 0
+  #ifndef CYTHON_PEP487_INIT_SUBCLASS
+    #define CYTHON_PEP487_INIT_SUBCLASS 1
+  #endif
   #ifndef CYTHON_PEP489_MULTI_PHASE_INIT
     #define CYTHON_PEP489_MULTI_PHASE_INIT 1
   #endif
+  #ifndef CYTHON_USE_MODULE_STATE
+    #define CYTHON_USE_MODULE_STATE 0
+  #endif
   #ifndef CYTHON_USE_TP_FINALIZE
     #define CYTHON_USE_TP_FINALIZE 1
   #endif
   #undef CYTHON_USE_DICT_VERSIONS
   #define CYTHON_USE_DICT_VERSIONS 0
   #undef CYTHON_USE_EXC_INFO_STACK
   #define CYTHON_USE_EXC_INFO_STACK 0
+  #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
+    #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
+  #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 0
+  #endif
 #else
   #define CYTHON_COMPILING_IN_PYPY 0
   #define CYTHON_COMPILING_IN_CPYTHON 1
   #define CYTHON_COMPILING_IN_LIMITED_API 0
   #define CYTHON_COMPILING_IN_GRAAL 0
   #define CYTHON_COMPILING_IN_NOGIL 0
   #ifndef CYTHON_USE_TYPE_SLOTS
@@ -425,14 +453,17 @@
     #define CYTHON_USE_EXC_INFO_STACK 0
   #elif !defined(CYTHON_USE_EXC_INFO_STACK)
     #define CYTHON_USE_EXC_INFO_STACK 1
   #endif
   #ifndef CYTHON_UPDATE_DESCRIPTOR_DOC
     #define CYTHON_UPDATE_DESCRIPTOR_DOC 1
   #endif
+  #ifndef CYTHON_USE_FREELISTS
+    #define CYTHON_USE_FREELISTS 1
+  #endif
 #endif
 #if !defined(CYTHON_FAST_PYCCALL)
 #define CYTHON_FAST_PYCCALL  (CYTHON_FAST_PYCALL && PY_VERSION_HEX >= 0x030600B1)
 #endif
 #if !defined(CYTHON_VECTORCALL)
 #define CYTHON_VECTORCALL  (CYTHON_FAST_PYCCALL && PY_VERSION_HEX >= 0x030800B1)
 #endif
@@ -1263,14 +1294,15 @@
     // AV_FRAME_DATA_SEI_UNREGISTERED available since version 56.54.100 of libavutil (FFmpeg >= 4.4)
     #define HAS_AV_FRAME_DATA_SEI_UNREGISTERED  (LIBAVUTIL_VERSION_INT >= 3683940)
 
     #if !HAS_AV_FRAME_DATA_SEI_UNREGISTERED
         #define AV_FRAME_DATA_SEI_UNREGISTERED -1
     #endif
     
+#include "libavcodec/bsf.h"
 #include "libavdevice/avdevice.h"
 #include "libavformat/avformat.h"
 #include "libswresample/swresample.h"
 #include "libswscale/swscale.h"
 #include "libavfilter/avfilter.h"
 
     #if (LIBAVFILTER_VERSION_INT >= 525156)
@@ -1659,15 +1691,15 @@
 };
 
 /* "av/codec/context.pxd":38
  *     # Wraps both versions of the transcode API, returning lists.
  *     cpdef encode(self, Frame frame=?)
  *     cpdef decode(self, Packet packet=?)             # <<<<<<<<<<<<<<
  * 
- *     # Used by both transcode APIs to setup user-land objects.
+ *     cpdef flush_buffers(self)
  */
 struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode {
   int __pyx_n;
   struct __pyx_obj_2av_6packet_Packet *packet;
 };
 struct __pyx_t_2av_9container_4core_timeout_info;
 typedef struct __pyx_t_2av_9container_4core_timeout_info __pyx_t_2av_9container_4core_timeout_info;
@@ -1792,31 +1824,31 @@
 };
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 struct __pyx_obj_2av_8sidedata_8sidedata_SideData {
   struct __pyx_obj_2av_6buffer_Buffer __pyx_base;
   struct __pyx_obj_2av_5frame_Frame *frame;
   struct AVFrameSideData *ptr;
   struct __pyx_obj_2av_10dictionary__Dictionary *metadata;
 };
 
 
-/* "av/sidedata/sidedata.pxd":18
+/* "av/sidedata/sidedata.pxd":17
  * cdef SideData wrap_side_data(Frame frame, int index)
  * 
  * cdef class _SideDataContainer:             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ * 
  */
 struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer {
   PyObject_HEAD
   struct __pyx_obj_2av_5frame_Frame *frame;
   PyObject *_by_index;
   PyObject *_by_type;
 };
@@ -2101,16 +2133,16 @@
 static struct __pyx_vtabstruct_2av_10dictionary__Dictionary *__pyx_vtabptr_2av_10dictionary__Dictionary;
 
 
 /* "av/sidedata/sidedata.pxd":9
  * 
  * 
  * cdef class SideData(Buffer):             # <<<<<<<<<<<<<<
- * 
  *     cdef Frame frame
+ *     cdef lib.AVFrameSideData *ptr
  */
 
 struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData {
   struct __pyx_vtabstruct_2av_6buffer_Buffer __pyx_base;
 };
 static struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData *__pyx_vtabptr_2av_8sidedata_8sidedata_SideData;
 
@@ -2142,14 +2174,15 @@
 struct __pyx_vtabstruct_2av_5codec_7context_CodecContext {
   PyObject *(*_init)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct AVCodecContext *, struct AVCodec const *);
   PyObject *(*open)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_open *__pyx_optional_args);
   PyObject *(*close)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_close *__pyx_optional_args);
   PyObject *(*_set_default_time_base)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_encode *__pyx_optional_args);
   PyObject *(*decode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5codec_7context_12CodecContext_decode *__pyx_optional_args);
+  PyObject *(*flush_buffers)(struct __pyx_obj_2av_5codec_7context_CodecContext *, int __pyx_skip_dispatch);
   PyObject *(*_prepare_and_time_rebase_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_prepare_frames_for_encode)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *);
   PyObject *(*_setup_encoded_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_setup_decoded_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_5frame_Frame *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_packet)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
   PyObject *(*_send_packet_and_recv)(struct __pyx_obj_2av_5codec_7context_CodecContext *, struct __pyx_obj_2av_6packet_Packet *);
   PyObject *(*_recv_frame)(struct __pyx_obj_2av_5codec_7context_CodecContext *);
@@ -2574,14 +2607,27 @@
 #define __Pyx_PyObject_Format(s, f) PyObject_Format(s, f)
 #endif
 
 /* JoinPyUnicode.proto */
 static PyObject* __Pyx_PyUnicode_Join(PyObject* value_tuple, Py_ssize_t value_count, Py_ssize_t result_ulength,
                                       Py_UCS4 max_char);
 
+/* StrEquals.proto */
+#if PY_MAJOR_VERSION >= 3
+#define __Pyx_PyString_Equals __Pyx_PyUnicode_Equals
+#else
+#define __Pyx_PyString_Equals __Pyx_PyBytes_Equals
+#endif
+
+/* RaiseException.proto */
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
+
+/* GetAttr.proto */
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *, PyObject *);
+
 /* PyDictVersioning.proto */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 #define __PYX_DICT_VERSION_INIT  ((PY_UINT64_T) -1)
 #define __PYX_GET_DICT_VERSION(dict)  (((PyDictObject*)(dict))->ma_version_tag)
 #define __PYX_UPDATE_DICT_CACHE(dict, value, cache_var, version_var)\
     (version_var) = __PYX_GET_DICT_VERSION(dict);\
     (cache_var) = (value);
@@ -2625,40 +2671,51 @@
     ((likely(__Pyx_IS_TYPE(obj, type) | (none_allowed && (obj == Py_None)))) ? 1 :\
         __Pyx__ArgTypeTest(obj, type, name, exact))
 static int __Pyx__ArgTypeTest(PyObject *obj, PyTypeObject *type, const char *name, int exact);
 
 /* KeywordStringCheck.proto */
 static int __Pyx_CheckKeywordStrings(PyObject *kw, const char* function_name, int kw_allowed);
 
-/* RaiseException.proto */
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause);
-
 /* CallNextTpTraverse.proto */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse);
 
 /* CallNextTpClear.proto */
 static void __Pyx_call_next_tp_clear(PyObject* obj, inquiry current_tp_clear);
 
+/* PyObject_GenericGetAttrNoDict.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
+#endif
+
+/* PyObject_GenericGetAttr.proto */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
+#else
+#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
+#endif
+
 /* TypeImport.proto */
-#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_9
-#define __PYX_HAVE_RT_ImportType_proto_3_0_9
+#ifndef __PYX_HAVE_RT_ImportType_proto_3_0_10
+#define __PYX_HAVE_RT_ImportType_proto_3_0_10
 #if defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L
 #include <stdalign.h>
 #endif
 #if (defined (__STDC_VERSION__) && __STDC_VERSION__ >= 201112L) || __cplusplus >= 201103L
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) alignof(s)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) alignof(s)
 #else
-#define __PYX_GET_STRUCT_ALIGNMENT_3_0_9(s) sizeof(void*)
+#define __PYX_GET_STRUCT_ALIGNMENT_3_0_10(s) sizeof(void*)
 #endif
-enum __Pyx_ImportType_CheckSize_3_0_9 {
-   __Pyx_ImportType_CheckSize_Error_3_0_9 = 0,
-   __Pyx_ImportType_CheckSize_Warn_3_0_9 = 1,
-   __Pyx_ImportType_CheckSize_Ignore_3_0_9 = 2
+enum __Pyx_ImportType_CheckSize_3_0_10 {
+   __Pyx_ImportType_CheckSize_Error_3_0_10 = 0,
+   __Pyx_ImportType_CheckSize_Warn_3_0_10 = 1,
+   __Pyx_ImportType_CheckSize_Ignore_3_0_10 = 2
 };
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size);
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject* module, const char *module_name, const char *class_name, size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size);
 #endif
 
 /* GetVTable.proto */
 static void* __Pyx_GetVtable(PyTypeObject *type);
 
 /* IncludeStructmemberH.proto */
 #include <structmember.h>
@@ -2681,28 +2738,14 @@
 #if CYTHON_COMPILING_IN_CPYTHON || CYTHON_COMPILING_IN_LIMITED_API || CYTHON_USE_TYPE_SPECS
 static int __Pyx_validate_bases_tuple(const char *type_name, Py_ssize_t dictoffset, PyObject *bases);
 #endif
 
 /* PyType_Ready.proto */
 CYTHON_UNUSED static int __Pyx_PyType_Ready(PyTypeObject *t);
 
-/* PyObject_GenericGetAttrNoDict.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttrNoDict PyObject_GenericGetAttr
-#endif
-
-/* PyObject_GenericGetAttr.proto */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name);
-#else
-#define __Pyx_PyObject_GenericGetAttr PyObject_GenericGetAttr
-#endif
-
 /* SetVTable.proto */
 static int __Pyx_SetVtable(PyTypeObject* typeptr , void* vtable);
 
 /* MergeVTables.proto */
 #if !CYTHON_COMPILING_IN_LIMITED_API
 static int __Pyx_MergeVtables(PyTypeObject *type);
 #endif
@@ -2925,15 +2968,15 @@
 #define __Pyx_PyException_Check(obj) __Pyx_TypeCheck(obj, PyExc_Exception)
 
 /* CheckBinaryVersion.proto */
 static unsigned long __Pyx_get_runtime_version(void);
 static int __Pyx_check_binary_version(unsigned long ct_version, unsigned long rt_version, int allow_newer);
 
 /* FunctionImport.proto */
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig);
 
 /* InitStrings.proto */
 static int __Pyx_InitStrings(__Pyx_StringTabEntry *t);
 
 /* #### Code section: module_declarations ### */
 static PyObject *__pyx_f_2av_5video_6stream_11VideoStream_encode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5video_6stream_11VideoStream_encode *__pyx_optional_args); /* proto*/
 static PyObject *__pyx_f_2av_5video_6stream_11VideoStream_decode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5video_6stream_11VideoStream_decode *__pyx_optional_args); /* proto*/
@@ -2987,25 +3030,28 @@
 #define __Pyx_MODULE_NAME "av.video.stream"
 extern int __pyx_module_is_main_av__video__stream;
 int __pyx_module_is_main_av__video__stream = 0;
 
 /* Implementation of "av.video.stream" */
 /* #### Code section: global_var ### */
 static PyObject *__pyx_builtin_id;
+static PyObject *__pyx_builtin_AttributeError;
 static PyObject *__pyx_builtin_TypeError;
 /* #### Code section: string_decls ### */
 static const char __pyx_k_[] = " ";
 static const char __pyx_k_x[] = "x";
 static const char __pyx_k__2[] = ", ";
 static const char __pyx_k__3[] = ">";
+static const char __pyx_k__4[] = "'";
 static const char __pyx_k_gc[] = "gc";
 static const char __pyx_k_id[] = "id";
-static const char __pyx_k__13[] = "?";
+static const char __pyx_k__14[] = "?";
 static const char __pyx_k_main[] = "__main__";
 static const char __pyx_k_name[] = "name";
+static const char __pyx_k_rate[] = "rate";
 static const char __pyx_k_self[] = "self";
 static const char __pyx_k_test[] = "__test__";
 static const char __pyx_k_at_0x[] = " at 0x";
 static const char __pyx_k_frame[] = "frame";
 static const char __pyx_k_index[] = "index";
 static const char __pyx_k_width[] = "width";
 static const char __pyx_k_decode[] = "decode";
@@ -3016,42 +3062,46 @@
 static const char __pyx_k_name_2[] = "__name__";
 static const char __pyx_k_packet[] = "packet";
 static const char __pyx_k_reduce[] = "__reduce__";
 static const char __pyx_k_disable[] = "disable";
 static const char __pyx_k_getstate[] = "__getstate__";
 static const char __pyx_k_setstate[] = "__setstate__";
 static const char __pyx_k_TypeError[] = "TypeError";
+static const char __pyx_k_framerate[] = "framerate";
 static const char __pyx_k_isenabled[] = "isenabled";
 static const char __pyx_k_pyx_state[] = "__pyx_state";
 static const char __pyx_k_reduce_ex[] = "__reduce_ex__";
 static const char __pyx_k_pyx_vtable[] = "__pyx_vtable__";
 static const char __pyx_k_VideoStream[] = "VideoStream";
 static const char __pyx_k_is_coroutine[] = "_is_coroutine";
 static const char __pyx_k_stringsource[] = "<stringsource>";
 static const char __pyx_k_reduce_cython[] = "__reduce_cython__";
+static const char __pyx_k_AttributeError[] = "AttributeError";
 static const char __pyx_k_av_VideoStream[] = "<av.VideoStream #";
 static const char __pyx_k_av_video_stream[] = "av.video.stream";
 static const char __pyx_k_setstate_cython[] = "__setstate_cython__";
 static const char __pyx_k_VideoStream_decode[] = "VideoStream.decode";
 static const char __pyx_k_VideoStream_encode[] = "VideoStream.encode";
 static const char __pyx_k_asyncio_coroutines[] = "asyncio.coroutines";
 static const char __pyx_k_cline_in_traceback[] = "cline_in_traceback";
 static const char __pyx_k_av_video_stream_pyx[] = "av/video/stream.pyx";
+static const char __pyx_k_object_has_no_attribute[] = "' object has no attribute '";
 static const char __pyx_k_VideoStream___reduce_cython[] = "VideoStream.__reduce_cython__";
 static const char __pyx_k_VideoStream___setstate_cython[] = "VideoStream.__setstate_cython__";
 static const char __pyx_k_self_ptr_cannot_be_converted_to[] = "self.ptr cannot be converted to a Python object for pickling";
 /* #### Code section: decls ### */
 static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream___repr__(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_2encode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_5video_5frame_VideoFrame *__pyx_v_frame); /* proto */
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_4decode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto */
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_2__getattr__(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, PyObject *__pyx_v_name); /* proto */
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_4encode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_5video_5frame_VideoFrame *__pyx_v_frame); /* proto */
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_6decode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet); /* proto */
 static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_12average_rate___get__(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_9base_rate___get__(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self); /* proto */
 static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_12guessed_rate___get__(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self); /* proto */
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self); /* proto */
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state); /* proto */
 static PyObject *__pyx_tp_new_2av_5video_6stream_VideoStream(PyTypeObject *t, PyObject *a, PyObject *k); /*proto*/
 /* #### Code section: late_includes ### */
 /* #### Code section: module_state ### */
 typedef struct {
   PyObject *__pyx_d;
   PyObject *__pyx_b;
   PyObject *__pyx_cython_runtime;
@@ -3135,68 +3185,73 @@
   #if CYTHON_USE_MODULE_STATE
   #endif
   #if CYTHON_USE_MODULE_STATE
   PyObject *__pyx_type_2av_5video_6stream_VideoStream;
   #endif
   PyTypeObject *__pyx_ptype_2av_5video_6stream_VideoStream;
   PyObject *__pyx_kp_u_;
+  PyObject *__pyx_n_s_AttributeError;
   PyObject *__pyx_n_s_TypeError;
   PyObject *__pyx_n_s_VideoStream;
   PyObject *__pyx_n_s_VideoStream___reduce_cython;
   PyObject *__pyx_n_s_VideoStream___setstate_cython;
   PyObject *__pyx_n_s_VideoStream_decode;
   PyObject *__pyx_n_s_VideoStream_encode;
-  PyObject *__pyx_n_s__13;
+  PyObject *__pyx_n_s__14;
   PyObject *__pyx_kp_u__2;
   PyObject *__pyx_kp_u__3;
+  PyObject *__pyx_kp_u__4;
   PyObject *__pyx_n_s_asyncio_coroutines;
   PyObject *__pyx_kp_u_at_0x;
   PyObject *__pyx_kp_u_av_VideoStream;
   PyObject *__pyx_n_s_av_video_stream;
   PyObject *__pyx_kp_s_av_video_stream_pyx;
   PyObject *__pyx_n_s_cline_in_traceback;
   PyObject *__pyx_n_s_decode;
   PyObject *__pyx_kp_u_disable;
   PyObject *__pyx_kp_u_enable;
   PyObject *__pyx_n_s_encode;
   PyObject *__pyx_n_s_format;
   PyObject *__pyx_n_s_frame;
+  PyObject *__pyx_n_s_framerate;
   PyObject *__pyx_kp_u_gc;
   PyObject *__pyx_n_s_getstate;
   PyObject *__pyx_n_s_height;
   PyObject *__pyx_n_s_id;
   PyObject *__pyx_n_s_index;
   PyObject *__pyx_n_s_is_coroutine;
   PyObject *__pyx_kp_u_isenabled;
   PyObject *__pyx_n_s_main;
   PyObject *__pyx_n_s_name;
   PyObject *__pyx_n_s_name_2;
+  PyObject *__pyx_kp_u_object_has_no_attribute;
   PyObject *__pyx_n_s_packet;
   PyObject *__pyx_n_s_pyx_state;
   PyObject *__pyx_n_s_pyx_vtable;
+  PyObject *__pyx_n_s_rate;
   PyObject *__pyx_n_s_reduce;
   PyObject *__pyx_n_s_reduce_cython;
   PyObject *__pyx_n_s_reduce_ex;
   PyObject *__pyx_n_s_self;
   PyObject *__pyx_kp_s_self_ptr_cannot_be_converted_to;
   PyObject *__pyx_n_s_setstate;
   PyObject *__pyx_n_s_setstate_cython;
   PyObject *__pyx_kp_s_stringsource;
   PyObject *__pyx_n_s_test;
   PyObject *__pyx_n_s_width;
   PyObject *__pyx_n_u_x;
-  PyObject *__pyx_tuple__4;
-  PyObject *__pyx_tuple__6;
+  PyObject *__pyx_tuple__5;
   PyObject *__pyx_tuple__7;
-  PyObject *__pyx_tuple__9;
-  PyObject *__pyx_tuple__11;
-  PyObject *__pyx_codeobj__5;
-  PyObject *__pyx_codeobj__8;
-  PyObject *__pyx_codeobj__10;
-  PyObject *__pyx_codeobj__12;
+  PyObject *__pyx_tuple__8;
+  PyObject *__pyx_tuple__10;
+  PyObject *__pyx_tuple__12;
+  PyObject *__pyx_codeobj__6;
+  PyObject *__pyx_codeobj__9;
+  PyObject *__pyx_codeobj__11;
+  PyObject *__pyx_codeobj__13;
 } __pyx_mstate;
 
 #if CYTHON_USE_MODULE_STATE
 #ifdef __cplusplus
 namespace {
   extern struct PyModuleDef __pyx_moduledef;
 } /* anonymous namespace */
@@ -3252,68 +3307,73 @@
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_5video_6format_VideoFormat);
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_5video_6format_VideoFormatComponent);
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_5video_11reformatter_VideoReformatter);
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_5video_5frame_VideoFrame);
   Py_CLEAR(clear_module_state->__pyx_ptype_2av_5video_6stream_VideoStream);
   Py_CLEAR(clear_module_state->__pyx_type_2av_5video_6stream_VideoStream);
   Py_CLEAR(clear_module_state->__pyx_kp_u_);
+  Py_CLEAR(clear_module_state->__pyx_n_s_AttributeError);
   Py_CLEAR(clear_module_state->__pyx_n_s_TypeError);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoStream);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoStream___reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoStream___setstate_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoStream_decode);
   Py_CLEAR(clear_module_state->__pyx_n_s_VideoStream_encode);
-  Py_CLEAR(clear_module_state->__pyx_n_s__13);
+  Py_CLEAR(clear_module_state->__pyx_n_s__14);
   Py_CLEAR(clear_module_state->__pyx_kp_u__2);
   Py_CLEAR(clear_module_state->__pyx_kp_u__3);
+  Py_CLEAR(clear_module_state->__pyx_kp_u__4);
   Py_CLEAR(clear_module_state->__pyx_n_s_asyncio_coroutines);
   Py_CLEAR(clear_module_state->__pyx_kp_u_at_0x);
   Py_CLEAR(clear_module_state->__pyx_kp_u_av_VideoStream);
   Py_CLEAR(clear_module_state->__pyx_n_s_av_video_stream);
   Py_CLEAR(clear_module_state->__pyx_kp_s_av_video_stream_pyx);
   Py_CLEAR(clear_module_state->__pyx_n_s_cline_in_traceback);
   Py_CLEAR(clear_module_state->__pyx_n_s_decode);
   Py_CLEAR(clear_module_state->__pyx_kp_u_disable);
   Py_CLEAR(clear_module_state->__pyx_kp_u_enable);
   Py_CLEAR(clear_module_state->__pyx_n_s_encode);
   Py_CLEAR(clear_module_state->__pyx_n_s_format);
   Py_CLEAR(clear_module_state->__pyx_n_s_frame);
+  Py_CLEAR(clear_module_state->__pyx_n_s_framerate);
   Py_CLEAR(clear_module_state->__pyx_kp_u_gc);
   Py_CLEAR(clear_module_state->__pyx_n_s_getstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_height);
   Py_CLEAR(clear_module_state->__pyx_n_s_id);
   Py_CLEAR(clear_module_state->__pyx_n_s_index);
   Py_CLEAR(clear_module_state->__pyx_n_s_is_coroutine);
   Py_CLEAR(clear_module_state->__pyx_kp_u_isenabled);
   Py_CLEAR(clear_module_state->__pyx_n_s_main);
   Py_CLEAR(clear_module_state->__pyx_n_s_name);
   Py_CLEAR(clear_module_state->__pyx_n_s_name_2);
+  Py_CLEAR(clear_module_state->__pyx_kp_u_object_has_no_attribute);
   Py_CLEAR(clear_module_state->__pyx_n_s_packet);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_state);
   Py_CLEAR(clear_module_state->__pyx_n_s_pyx_vtable);
+  Py_CLEAR(clear_module_state->__pyx_n_s_rate);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_cython);
   Py_CLEAR(clear_module_state->__pyx_n_s_reduce_ex);
   Py_CLEAR(clear_module_state->__pyx_n_s_self);
   Py_CLEAR(clear_module_state->__pyx_kp_s_self_ptr_cannot_be_converted_to);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate);
   Py_CLEAR(clear_module_state->__pyx_n_s_setstate_cython);
   Py_CLEAR(clear_module_state->__pyx_kp_s_stringsource);
   Py_CLEAR(clear_module_state->__pyx_n_s_test);
   Py_CLEAR(clear_module_state->__pyx_n_s_width);
   Py_CLEAR(clear_module_state->__pyx_n_u_x);
-  Py_CLEAR(clear_module_state->__pyx_tuple__4);
-  Py_CLEAR(clear_module_state->__pyx_tuple__6);
+  Py_CLEAR(clear_module_state->__pyx_tuple__5);
   Py_CLEAR(clear_module_state->__pyx_tuple__7);
-  Py_CLEAR(clear_module_state->__pyx_tuple__9);
-  Py_CLEAR(clear_module_state->__pyx_tuple__11);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__5);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__8);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__10);
-  Py_CLEAR(clear_module_state->__pyx_codeobj__12);
+  Py_CLEAR(clear_module_state->__pyx_tuple__8);
+  Py_CLEAR(clear_module_state->__pyx_tuple__10);
+  Py_CLEAR(clear_module_state->__pyx_tuple__12);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__6);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__9);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__11);
+  Py_CLEAR(clear_module_state->__pyx_codeobj__13);
   return 0;
 }
 #endif
 /* #### Code section: module_state_traverse ### */
 #if CYTHON_USE_MODULE_STATE
 static int __pyx_m_traverse(PyObject *m, visitproc visit, void *arg) {
   __pyx_mstate *traverse_module_state = __pyx_mstate(m);
@@ -3347,68 +3407,73 @@
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_5video_6format_VideoFormat);
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_5video_6format_VideoFormatComponent);
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_5video_11reformatter_VideoReformatter);
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_5video_5frame_VideoFrame);
   Py_VISIT(traverse_module_state->__pyx_ptype_2av_5video_6stream_VideoStream);
   Py_VISIT(traverse_module_state->__pyx_type_2av_5video_6stream_VideoStream);
   Py_VISIT(traverse_module_state->__pyx_kp_u_);
+  Py_VISIT(traverse_module_state->__pyx_n_s_AttributeError);
   Py_VISIT(traverse_module_state->__pyx_n_s_TypeError);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoStream);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoStream___reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoStream___setstate_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoStream_decode);
   Py_VISIT(traverse_module_state->__pyx_n_s_VideoStream_encode);
-  Py_VISIT(traverse_module_state->__pyx_n_s__13);
+  Py_VISIT(traverse_module_state->__pyx_n_s__14);
   Py_VISIT(traverse_module_state->__pyx_kp_u__2);
   Py_VISIT(traverse_module_state->__pyx_kp_u__3);
+  Py_VISIT(traverse_module_state->__pyx_kp_u__4);
   Py_VISIT(traverse_module_state->__pyx_n_s_asyncio_coroutines);
   Py_VISIT(traverse_module_state->__pyx_kp_u_at_0x);
   Py_VISIT(traverse_module_state->__pyx_kp_u_av_VideoStream);
   Py_VISIT(traverse_module_state->__pyx_n_s_av_video_stream);
   Py_VISIT(traverse_module_state->__pyx_kp_s_av_video_stream_pyx);
   Py_VISIT(traverse_module_state->__pyx_n_s_cline_in_traceback);
   Py_VISIT(traverse_module_state->__pyx_n_s_decode);
   Py_VISIT(traverse_module_state->__pyx_kp_u_disable);
   Py_VISIT(traverse_module_state->__pyx_kp_u_enable);
   Py_VISIT(traverse_module_state->__pyx_n_s_encode);
   Py_VISIT(traverse_module_state->__pyx_n_s_format);
   Py_VISIT(traverse_module_state->__pyx_n_s_frame);
+  Py_VISIT(traverse_module_state->__pyx_n_s_framerate);
   Py_VISIT(traverse_module_state->__pyx_kp_u_gc);
   Py_VISIT(traverse_module_state->__pyx_n_s_getstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_height);
   Py_VISIT(traverse_module_state->__pyx_n_s_id);
   Py_VISIT(traverse_module_state->__pyx_n_s_index);
   Py_VISIT(traverse_module_state->__pyx_n_s_is_coroutine);
   Py_VISIT(traverse_module_state->__pyx_kp_u_isenabled);
   Py_VISIT(traverse_module_state->__pyx_n_s_main);
   Py_VISIT(traverse_module_state->__pyx_n_s_name);
   Py_VISIT(traverse_module_state->__pyx_n_s_name_2);
+  Py_VISIT(traverse_module_state->__pyx_kp_u_object_has_no_attribute);
   Py_VISIT(traverse_module_state->__pyx_n_s_packet);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_state);
   Py_VISIT(traverse_module_state->__pyx_n_s_pyx_vtable);
+  Py_VISIT(traverse_module_state->__pyx_n_s_rate);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_cython);
   Py_VISIT(traverse_module_state->__pyx_n_s_reduce_ex);
   Py_VISIT(traverse_module_state->__pyx_n_s_self);
   Py_VISIT(traverse_module_state->__pyx_kp_s_self_ptr_cannot_be_converted_to);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate);
   Py_VISIT(traverse_module_state->__pyx_n_s_setstate_cython);
   Py_VISIT(traverse_module_state->__pyx_kp_s_stringsource);
   Py_VISIT(traverse_module_state->__pyx_n_s_test);
   Py_VISIT(traverse_module_state->__pyx_n_s_width);
   Py_VISIT(traverse_module_state->__pyx_n_u_x);
-  Py_VISIT(traverse_module_state->__pyx_tuple__4);
-  Py_VISIT(traverse_module_state->__pyx_tuple__6);
+  Py_VISIT(traverse_module_state->__pyx_tuple__5);
   Py_VISIT(traverse_module_state->__pyx_tuple__7);
-  Py_VISIT(traverse_module_state->__pyx_tuple__9);
-  Py_VISIT(traverse_module_state->__pyx_tuple__11);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__5);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__8);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__10);
-  Py_VISIT(traverse_module_state->__pyx_codeobj__12);
+  Py_VISIT(traverse_module_state->__pyx_tuple__8);
+  Py_VISIT(traverse_module_state->__pyx_tuple__10);
+  Py_VISIT(traverse_module_state->__pyx_tuple__12);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__6);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__9);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__11);
+  Py_VISIT(traverse_module_state->__pyx_codeobj__13);
   return 0;
 }
 #endif
 /* #### Code section: module_state_defines ### */
 #define __pyx_d __pyx_mstate_global->__pyx_d
 #define __pyx_b __pyx_mstate_global->__pyx_b
 #define __pyx_cython_runtime __pyx_mstate_global->__pyx_cython_runtime
@@ -3492,68 +3557,73 @@
 #if CYTHON_USE_MODULE_STATE
 #endif
 #if CYTHON_USE_MODULE_STATE
 #define __pyx_type_2av_5video_6stream_VideoStream __pyx_mstate_global->__pyx_type_2av_5video_6stream_VideoStream
 #endif
 #define __pyx_ptype_2av_5video_6stream_VideoStream __pyx_mstate_global->__pyx_ptype_2av_5video_6stream_VideoStream
 #define __pyx_kp_u_ __pyx_mstate_global->__pyx_kp_u_
+#define __pyx_n_s_AttributeError __pyx_mstate_global->__pyx_n_s_AttributeError
 #define __pyx_n_s_TypeError __pyx_mstate_global->__pyx_n_s_TypeError
 #define __pyx_n_s_VideoStream __pyx_mstate_global->__pyx_n_s_VideoStream
 #define __pyx_n_s_VideoStream___reduce_cython __pyx_mstate_global->__pyx_n_s_VideoStream___reduce_cython
 #define __pyx_n_s_VideoStream___setstate_cython __pyx_mstate_global->__pyx_n_s_VideoStream___setstate_cython
 #define __pyx_n_s_VideoStream_decode __pyx_mstate_global->__pyx_n_s_VideoStream_decode
 #define __pyx_n_s_VideoStream_encode __pyx_mstate_global->__pyx_n_s_VideoStream_encode
-#define __pyx_n_s__13 __pyx_mstate_global->__pyx_n_s__13
+#define __pyx_n_s__14 __pyx_mstate_global->__pyx_n_s__14
 #define __pyx_kp_u__2 __pyx_mstate_global->__pyx_kp_u__2
 #define __pyx_kp_u__3 __pyx_mstate_global->__pyx_kp_u__3
+#define __pyx_kp_u__4 __pyx_mstate_global->__pyx_kp_u__4
 #define __pyx_n_s_asyncio_coroutines __pyx_mstate_global->__pyx_n_s_asyncio_coroutines
 #define __pyx_kp_u_at_0x __pyx_mstate_global->__pyx_kp_u_at_0x
 #define __pyx_kp_u_av_VideoStream __pyx_mstate_global->__pyx_kp_u_av_VideoStream
 #define __pyx_n_s_av_video_stream __pyx_mstate_global->__pyx_n_s_av_video_stream
 #define __pyx_kp_s_av_video_stream_pyx __pyx_mstate_global->__pyx_kp_s_av_video_stream_pyx
 #define __pyx_n_s_cline_in_traceback __pyx_mstate_global->__pyx_n_s_cline_in_traceback
 #define __pyx_n_s_decode __pyx_mstate_global->__pyx_n_s_decode
 #define __pyx_kp_u_disable __pyx_mstate_global->__pyx_kp_u_disable
 #define __pyx_kp_u_enable __pyx_mstate_global->__pyx_kp_u_enable
 #define __pyx_n_s_encode __pyx_mstate_global->__pyx_n_s_encode
 #define __pyx_n_s_format __pyx_mstate_global->__pyx_n_s_format
 #define __pyx_n_s_frame __pyx_mstate_global->__pyx_n_s_frame
+#define __pyx_n_s_framerate __pyx_mstate_global->__pyx_n_s_framerate
 #define __pyx_kp_u_gc __pyx_mstate_global->__pyx_kp_u_gc
 #define __pyx_n_s_getstate __pyx_mstate_global->__pyx_n_s_getstate
 #define __pyx_n_s_height __pyx_mstate_global->__pyx_n_s_height
 #define __pyx_n_s_id __pyx_mstate_global->__pyx_n_s_id
 #define __pyx_n_s_index __pyx_mstate_global->__pyx_n_s_index
 #define __pyx_n_s_is_coroutine __pyx_mstate_global->__pyx_n_s_is_coroutine
 #define __pyx_kp_u_isenabled __pyx_mstate_global->__pyx_kp_u_isenabled
 #define __pyx_n_s_main __pyx_mstate_global->__pyx_n_s_main
 #define __pyx_n_s_name __pyx_mstate_global->__pyx_n_s_name
 #define __pyx_n_s_name_2 __pyx_mstate_global->__pyx_n_s_name_2
+#define __pyx_kp_u_object_has_no_attribute __pyx_mstate_global->__pyx_kp_u_object_has_no_attribute
 #define __pyx_n_s_packet __pyx_mstate_global->__pyx_n_s_packet
 #define __pyx_n_s_pyx_state __pyx_mstate_global->__pyx_n_s_pyx_state
 #define __pyx_n_s_pyx_vtable __pyx_mstate_global->__pyx_n_s_pyx_vtable
+#define __pyx_n_s_rate __pyx_mstate_global->__pyx_n_s_rate
 #define __pyx_n_s_reduce __pyx_mstate_global->__pyx_n_s_reduce
 #define __pyx_n_s_reduce_cython __pyx_mstate_global->__pyx_n_s_reduce_cython
 #define __pyx_n_s_reduce_ex __pyx_mstate_global->__pyx_n_s_reduce_ex
 #define __pyx_n_s_self __pyx_mstate_global->__pyx_n_s_self
 #define __pyx_kp_s_self_ptr_cannot_be_converted_to __pyx_mstate_global->__pyx_kp_s_self_ptr_cannot_be_converted_to
 #define __pyx_n_s_setstate __pyx_mstate_global->__pyx_n_s_setstate
 #define __pyx_n_s_setstate_cython __pyx_mstate_global->__pyx_n_s_setstate_cython
 #define __pyx_kp_s_stringsource __pyx_mstate_global->__pyx_kp_s_stringsource
 #define __pyx_n_s_test __pyx_mstate_global->__pyx_n_s_test
 #define __pyx_n_s_width __pyx_mstate_global->__pyx_n_s_width
 #define __pyx_n_u_x __pyx_mstate_global->__pyx_n_u_x
-#define __pyx_tuple__4 __pyx_mstate_global->__pyx_tuple__4
-#define __pyx_tuple__6 __pyx_mstate_global->__pyx_tuple__6
+#define __pyx_tuple__5 __pyx_mstate_global->__pyx_tuple__5
 #define __pyx_tuple__7 __pyx_mstate_global->__pyx_tuple__7
-#define __pyx_tuple__9 __pyx_mstate_global->__pyx_tuple__9
-#define __pyx_tuple__11 __pyx_mstate_global->__pyx_tuple__11
-#define __pyx_codeobj__5 __pyx_mstate_global->__pyx_codeobj__5
-#define __pyx_codeobj__8 __pyx_mstate_global->__pyx_codeobj__8
-#define __pyx_codeobj__10 __pyx_mstate_global->__pyx_codeobj__10
-#define __pyx_codeobj__12 __pyx_mstate_global->__pyx_codeobj__12
+#define __pyx_tuple__8 __pyx_mstate_global->__pyx_tuple__8
+#define __pyx_tuple__10 __pyx_mstate_global->__pyx_tuple__10
+#define __pyx_tuple__12 __pyx_mstate_global->__pyx_tuple__12
+#define __pyx_codeobj__6 __pyx_mstate_global->__pyx_codeobj__6
+#define __pyx_codeobj__9 __pyx_mstate_global->__pyx_codeobj__9
+#define __pyx_codeobj__11 __pyx_mstate_global->__pyx_codeobj__11
+#define __pyx_codeobj__13 __pyx_mstate_global->__pyx_codeobj__13
 /* #### Code section: module_code ### */
 
 /* "av/video/stream.pyx":10
  * 
  * cdef class VideoStream(Stream):
  *     def __repr__(self):             # <<<<<<<<<<<<<<
  *         return (
@@ -3764,20 +3834,177 @@
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* "av/video/stream.pyx":17
  *         )
  * 
+ *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
+ *         if name in ("framerate", "rate"):
+ *             raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
+ */
+
+/* Python wrapper */
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_3__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name); /*proto*/
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_3__getattr__(PyObject *__pyx_v_self, PyObject *__pyx_v_name) {
+  CYTHON_UNUSED PyObject *const *__pyx_kwvalues;
+  PyObject *__pyx_r = 0;
+  __Pyx_RefNannyDeclarations
+  __Pyx_RefNannySetupContext("__getattr__ (wrapper)", 0);
+  __pyx_kwvalues = __Pyx_KwValues_VARARGS(__pyx_args, __pyx_nargs);
+  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_2__getattr__(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), ((PyObject *)__pyx_v_name));
+
+  /* function exit code */
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_2__getattr__(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, PyObject *__pyx_v_name) {
+  PyObject *__pyx_r = NULL;
+  __Pyx_RefNannyDeclarations
+  PyObject *__pyx_t_1 = NULL;
+  int __pyx_t_2;
+  int __pyx_t_3;
+  Py_ssize_t __pyx_t_4;
+  Py_UCS4 __pyx_t_5;
+  PyObject *__pyx_t_6 = NULL;
+  PyObject *__pyx_t_7 = NULL;
+  int __pyx_lineno = 0;
+  const char *__pyx_filename = NULL;
+  int __pyx_clineno = 0;
+  __Pyx_RefNannySetupContext("__getattr__", 1);
+
+  /* "av/video/stream.pyx":18
+ * 
+ *     def __getattr__(self, name):
+ *         if name in ("framerate", "rate"):             # <<<<<<<<<<<<<<
+ *             raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
+ * 
+ */
+  __Pyx_INCREF(__pyx_v_name);
+  __pyx_t_1 = __pyx_v_name;
+  __pyx_t_3 = (__Pyx_PyString_Equals(__pyx_t_1, __pyx_n_s_framerate, Py_EQ)); if (unlikely((__pyx_t_3 < 0))) __PYX_ERR(0, 18, __pyx_L1_error)
+  if (!__pyx_t_3) {
+  } else {
+    __pyx_t_2 = __pyx_t_3;
+    goto __pyx_L4_bool_binop_done;
+  }
+  __pyx_t_3 = (__Pyx_PyString_Equals(__pyx_t_1, __pyx_n_s_rate, Py_EQ)); if (unlikely((__pyx_t_3 < 0))) __PYX_ERR(0, 18, __pyx_L1_error)
+  __pyx_t_2 = __pyx_t_3;
+  __pyx_L4_bool_binop_done:;
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_t_3 = __pyx_t_2;
+  if (unlikely(__pyx_t_3)) {
+
+    /* "av/video/stream.pyx":19
+ *     def __getattr__(self, name):
+ *         if name in ("framerate", "rate"):
+ *             raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")             # <<<<<<<<<<<<<<
+ * 
+ *         return getattr(self.codec_context, name)
+ */
+    __pyx_t_1 = PyTuple_New(5); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __pyx_t_4 = 0;
+    __pyx_t_5 = 127;
+    __Pyx_INCREF(__pyx_kp_u__4);
+    __pyx_t_4 += 1;
+    __Pyx_GIVEREF(__pyx_kp_u__4);
+    PyTuple_SET_ITEM(__pyx_t_1, 0, __pyx_kp_u__4);
+    __pyx_t_6 = __Pyx_PyObject_GetAttrStr(((PyObject *)Py_TYPE(((PyObject *)__pyx_v_self))), __pyx_n_s_name_2); if (unlikely(!__pyx_t_6)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_6);
+    __pyx_t_7 = __Pyx_PyObject_FormatSimple(__pyx_t_6, __pyx_empty_unicode); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_7);
+    __Pyx_DECREF(__pyx_t_6); __pyx_t_6 = 0;
+    __pyx_t_5 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_7) > __pyx_t_5) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_7) : __pyx_t_5;
+    __pyx_t_4 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_7);
+    __Pyx_GIVEREF(__pyx_t_7);
+    PyTuple_SET_ITEM(__pyx_t_1, 1, __pyx_t_7);
+    __pyx_t_7 = 0;
+    __Pyx_INCREF(__pyx_kp_u_object_has_no_attribute);
+    __pyx_t_4 += 27;
+    __Pyx_GIVEREF(__pyx_kp_u_object_has_no_attribute);
+    PyTuple_SET_ITEM(__pyx_t_1, 2, __pyx_kp_u_object_has_no_attribute);
+    __pyx_t_7 = __Pyx_PyObject_FormatSimple(__pyx_v_name, __pyx_empty_unicode); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_7);
+    __pyx_t_5 = (__Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_7) > __pyx_t_5) ? __Pyx_PyUnicode_MAX_CHAR_VALUE(__pyx_t_7) : __pyx_t_5;
+    __pyx_t_4 += __Pyx_PyUnicode_GET_LENGTH(__pyx_t_7);
+    __Pyx_GIVEREF(__pyx_t_7);
+    PyTuple_SET_ITEM(__pyx_t_1, 3, __pyx_t_7);
+    __pyx_t_7 = 0;
+    __Pyx_INCREF(__pyx_kp_u__4);
+    __pyx_t_4 += 1;
+    __Pyx_GIVEREF(__pyx_kp_u__4);
+    PyTuple_SET_ITEM(__pyx_t_1, 4, __pyx_kp_u__4);
+    __pyx_t_7 = __Pyx_PyUnicode_Join(__pyx_t_1, 5, __pyx_t_4, __pyx_t_5); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_7);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __pyx_t_1 = __Pyx_PyObject_CallOneArg(__pyx_builtin_AttributeError, __pyx_t_7); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 19, __pyx_L1_error)
+    __Pyx_GOTREF(__pyx_t_1);
+    __Pyx_DECREF(__pyx_t_7); __pyx_t_7 = 0;
+    __Pyx_Raise(__pyx_t_1, 0, 0, 0);
+    __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+    __PYX_ERR(0, 19, __pyx_L1_error)
+
+    /* "av/video/stream.pyx":18
+ * 
+ *     def __getattr__(self, name):
+ *         if name in ("framerate", "rate"):             # <<<<<<<<<<<<<<
+ *             raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
+ * 
+ */
+  }
+
+  /* "av/video/stream.pyx":21
+ *             raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
+ * 
+ *         return getattr(self.codec_context, name)             # <<<<<<<<<<<<<<
+ * 
+ *     cpdef encode(self, VideoFrame frame=None):
+ */
+  __Pyx_XDECREF(__pyx_r);
+  __pyx_t_1 = ((PyObject *)__pyx_v_self->__pyx_base.codec_context);
+  __Pyx_INCREF(__pyx_t_1);
+  __pyx_t_7 = __Pyx_GetAttr(__pyx_t_1, __pyx_v_name); if (unlikely(!__pyx_t_7)) __PYX_ERR(0, 21, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_t_7);
+  __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
+  __pyx_r = __pyx_t_7;
+  __pyx_t_7 = 0;
+  goto __pyx_L0;
+
+  /* "av/video/stream.pyx":17
+ *         )
+ * 
+ *     def __getattr__(self, name):             # <<<<<<<<<<<<<<
+ *         if name in ("framerate", "rate"):
+ *             raise AttributeError(f"'{type(self).__name__}' object has no attribute '{name}'")
+ */
+
+  /* function exit code */
+  __pyx_L1_error:;
+  __Pyx_XDECREF(__pyx_t_1);
+  __Pyx_XDECREF(__pyx_t_6);
+  __Pyx_XDECREF(__pyx_t_7);
+  __Pyx_AddTraceback("av.video.stream.VideoStream.__getattr__", __pyx_clineno, __pyx_lineno, __pyx_filename);
+  __pyx_r = NULL;
+  __pyx_L0:;
+  __Pyx_XGIVEREF(__pyx_r);
+  __Pyx_RefNannyFinishContext();
+  return __pyx_r;
+}
+
+/* "av/video/stream.pyx":23
+ *         return getattr(self.codec_context, name)
+ * 
  *     cpdef encode(self, VideoFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.
  */
 
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_3encode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_5encode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
 static PyObject *__pyx_f_2av_5video_6stream_11VideoStream_encode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5video_6stream_11VideoStream_encode *__pyx_optional_args) {
@@ -3808,17 +4035,17 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || __Pyx_PyType_HasFeature(Py_TYPE(((PyObject *)__pyx_v_self)), (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_typedict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_encode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 17, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_encode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 23, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5video_6stream_11VideoStream_3encode)) {
+      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5video_6stream_11VideoStream_5encode)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         #if CYTHON_UNPACK_METHODS
         if (unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -3831,15 +4058,15 @@
           }
         }
         #endif
         {
           PyObject *__pyx_callargs[2] = {__pyx_t_4, ((PyObject *)__pyx_v_frame)};
           __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 23, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         }
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
@@ -3853,138 +4080,138 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "av/video/stream.pyx":26
+  /* "av/video/stream.pyx":32
  *         """
  * 
  *         packets = self.codec_context.encode(frame)             # <<<<<<<<<<<<<<
  *         cdef Packet packet
  *         for packet in packets:
  */
   __pyx_t_6.__pyx_n = 1;
   __pyx_t_6.frame = ((struct __pyx_obj_2av_5frame_Frame *)__pyx_v_frame);
-  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->encode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 26, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->encode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 32, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_v_packets = __pyx_t_1;
   __pyx_t_1 = 0;
 
-  /* "av/video/stream.pyx":28
+  /* "av/video/stream.pyx":34
  *         packets = self.codec_context.encode(frame)
  *         cdef Packet packet
  *         for packet in packets:             # <<<<<<<<<<<<<<
  *             packet._stream = self
  *             packet.ptr.stream_index = self.ptr.index
  */
   if (likely(PyList_CheckExact(__pyx_v_packets)) || PyTuple_CheckExact(__pyx_v_packets)) {
     __pyx_t_1 = __pyx_v_packets; __Pyx_INCREF(__pyx_t_1);
     __pyx_t_7 = 0;
     __pyx_t_8 = NULL;
   } else {
-    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_packets); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 28, __pyx_L1_error)
+    __pyx_t_7 = -1; __pyx_t_1 = PyObject_GetIter(__pyx_v_packets); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 34, __pyx_L1_error)
     __Pyx_GOTREF(__pyx_t_1);
-    __pyx_t_8 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 28, __pyx_L1_error)
+    __pyx_t_8 = __Pyx_PyObject_GetIterNextFunc(__pyx_t_1); if (unlikely(!__pyx_t_8)) __PYX_ERR(0, 34, __pyx_L1_error)
   }
   for (;;) {
     if (likely(!__pyx_t_8)) {
       if (likely(PyList_CheckExact(__pyx_t_1))) {
         {
           Py_ssize_t __pyx_temp = __Pyx_PyList_GET_SIZE(__pyx_t_1);
           #if !CYTHON_ASSUME_SAFE_MACROS
-          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
+          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 34, __pyx_L1_error)
           #endif
           if (__pyx_t_7 >= __pyx_temp) break;
         }
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
+        __pyx_t_2 = PyList_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 34, __pyx_L1_error)
         #else
-        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       } else {
         {
           Py_ssize_t __pyx_temp = __Pyx_PyTuple_GET_SIZE(__pyx_t_1);
           #if !CYTHON_ASSUME_SAFE_MACROS
-          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
+          if (unlikely((__pyx_temp < 0))) __PYX_ERR(0, 34, __pyx_L1_error)
           #endif
           if (__pyx_t_7 >= __pyx_temp) break;
         }
         #if CYTHON_ASSUME_SAFE_MACROS && !CYTHON_AVOID_BORROWED_REFS
-        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 28, __pyx_L1_error)
+        __pyx_t_2 = PyTuple_GET_ITEM(__pyx_t_1, __pyx_t_7); __Pyx_INCREF(__pyx_t_2); __pyx_t_7++; if (unlikely((0 < 0))) __PYX_ERR(0, 34, __pyx_L1_error)
         #else
-        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 28, __pyx_L1_error)
+        __pyx_t_2 = __Pyx_PySequence_ITEM(__pyx_t_1, __pyx_t_7); __pyx_t_7++; if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 34, __pyx_L1_error)
         __Pyx_GOTREF(__pyx_t_2);
         #endif
       }
     } else {
       __pyx_t_2 = __pyx_t_8(__pyx_t_1);
       if (unlikely(!__pyx_t_2)) {
         PyObject* exc_type = PyErr_Occurred();
         if (exc_type) {
           if (likely(__Pyx_PyErr_GivenExceptionMatches(exc_type, PyExc_StopIteration))) PyErr_Clear();
-          else __PYX_ERR(0, 28, __pyx_L1_error)
+          else __PYX_ERR(0, 34, __pyx_L1_error)
         }
         break;
       }
       __Pyx_GOTREF(__pyx_t_2);
     }
-    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_2av_6packet_Packet))))) __PYX_ERR(0, 28, __pyx_L1_error)
+    if (!(likely(((__pyx_t_2) == Py_None) || likely(__Pyx_TypeTest(__pyx_t_2, __pyx_ptype_2av_6packet_Packet))))) __PYX_ERR(0, 34, __pyx_L1_error)
     __Pyx_XDECREF_SET(__pyx_v_packet, ((struct __pyx_obj_2av_6packet_Packet *)__pyx_t_2));
     __pyx_t_2 = 0;
 
-    /* "av/video/stream.pyx":29
+    /* "av/video/stream.pyx":35
  *         cdef Packet packet
  *         for packet in packets:
  *             packet._stream = self             # <<<<<<<<<<<<<<
  *             packet.ptr.stream_index = self.ptr.index
  * 
  */
     __Pyx_INCREF((PyObject *)__pyx_v_self);
     __Pyx_GIVEREF((PyObject *)__pyx_v_self);
     __Pyx_GOTREF((PyObject *)__pyx_v_packet->_stream);
     __Pyx_DECREF((PyObject *)__pyx_v_packet->_stream);
     __pyx_v_packet->_stream = ((struct __pyx_obj_2av_6stream_Stream *)__pyx_v_self);
 
-    /* "av/video/stream.pyx":30
+    /* "av/video/stream.pyx":36
  *         for packet in packets:
  *             packet._stream = self
  *             packet.ptr.stream_index = self.ptr.index             # <<<<<<<<<<<<<<
  * 
  *         return packets
  */
     __pyx_t_5 = __pyx_v_self->__pyx_base.ptr->index;
     __pyx_v_packet->ptr->stream_index = __pyx_t_5;
 
-    /* "av/video/stream.pyx":28
+    /* "av/video/stream.pyx":34
  *         packets = self.codec_context.encode(frame)
  *         cdef Packet packet
  *         for packet in packets:             # <<<<<<<<<<<<<<
  *             packet._stream = self
  *             packet.ptr.stream_index = self.ptr.index
  */
   }
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
 
-  /* "av/video/stream.pyx":32
+  /* "av/video/stream.pyx":38
  *             packet.ptr.stream_index = self.ptr.index
  * 
  *         return packets             # <<<<<<<<<<<<<<
  * 
  * 
  */
   __Pyx_XDECREF(__pyx_r);
   __Pyx_INCREF(__pyx_v_packets);
   __pyx_r = __pyx_v_packets;
   goto __pyx_L0;
 
-  /* "av/video/stream.pyx":17
- *         )
+  /* "av/video/stream.pyx":23
+ *         return getattr(self.codec_context, name)
  * 
  *     cpdef encode(self, VideoFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.
  */
 
   /* function exit code */
@@ -4000,24 +4227,24 @@
   __Pyx_XDECREF((PyObject *)__pyx_v_packet);
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_3encode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_5encode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_2encode, "VideoStream.encode(VideoFrame frame=None)\n\n        Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.\n\n        :rtype: list[Packet]\n\n        .. seealso:: This is mostly a passthrough to :meth:`.CodecContext.encode`.\n        ");
-static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_3encode = {"encode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_3encode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_2encode};
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_3encode(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_4encode, "VideoStream.encode(VideoFrame frame=None)\n\n        Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.\n\n        :rtype: list[Packet]\n\n        .. seealso:: This is mostly a passthrough to :meth:`.CodecContext.encode`.\n        ");
+static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_5encode = {"encode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_5encode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_4encode};
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_5encode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   struct __pyx_obj_2av_5video_5frame_VideoFrame *__pyx_v_frame = 0;
@@ -4053,49 +4280,49 @@
       }
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_frame);
           if (value) { values[0] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 17, __pyx_L3_error)
+          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 23, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "encode") < 0)) __PYX_ERR(0, 17, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "encode") < 0)) __PYX_ERR(0, 23, __pyx_L3_error)
       }
     } else {
       switch (__pyx_nargs) {
         case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_frame = ((struct __pyx_obj_2av_5video_5frame_VideoFrame *)values[0]);
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("encode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 17, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("encode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 23, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.video.stream.VideoStream.encode", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5video_5frame_VideoFrame, 1, "frame", 0))) __PYX_ERR(0, 17, __pyx_L1_error)
-  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_2encode(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), __pyx_v_frame);
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_frame), __pyx_ptype_2av_5video_5frame_VideoFrame, 1, "frame", 0))) __PYX_ERR(0, 23, __pyx_L1_error)
+  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_4encode(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), __pyx_v_frame);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
   {
@@ -4104,27 +4331,27 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_2encode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_5video_5frame_VideoFrame *__pyx_v_frame) {
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_4encode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_5video_5frame_VideoFrame *__pyx_v_frame) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   struct __pyx_opt_args_2av_5video_6stream_11VideoStream_encode __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("encode", 1);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.frame = __pyx_v_frame;
-  __pyx_t_1 = __pyx_vtabptr_2av_5video_6stream_VideoStream->encode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 17, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_2av_5video_6stream_VideoStream->encode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -4133,23 +4360,23 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/video/stream.pyx":35
+/* "av/video/stream.pyx":41
  * 
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.VideoFrame`.
  */
 
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_5decode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_7decode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
 static PyObject *__pyx_f_2av_5video_6stream_11VideoStream_decode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5video_6stream_11VideoStream_decode *__pyx_optional_args) {
@@ -4176,17 +4403,17 @@
   /* Check if overridden in Python */
   else if (unlikely((Py_TYPE(((PyObject *)__pyx_v_self))->tp_dictoffset != 0) || __Pyx_PyType_HasFeature(Py_TYPE(((PyObject *)__pyx_v_self)), (Py_TPFLAGS_IS_ABSTRACT | Py_TPFLAGS_HEAPTYPE)))) {
     #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     static PY_UINT64_T __pyx_tp_dict_version = __PYX_DICT_VERSION_INIT, __pyx_obj_dict_version = __PYX_DICT_VERSION_INIT;
     if (unlikely(!__Pyx_object_dict_version_matches(((PyObject *)__pyx_v_self), __pyx_tp_dict_version, __pyx_obj_dict_version))) {
       PY_UINT64_T __pyx_typedict_guard = __Pyx_get_tp_dict_version(((PyObject *)__pyx_v_self));
       #endif
-      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 35, __pyx_L1_error)
+      __pyx_t_1 = __Pyx_PyObject_GetAttrStr(((PyObject *)__pyx_v_self), __pyx_n_s_decode); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 41, __pyx_L1_error)
       __Pyx_GOTREF(__pyx_t_1);
-      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5video_6stream_11VideoStream_5decode)) {
+      if (!__Pyx_IsSameCFunction(__pyx_t_1, (void*) __pyx_pw_2av_5video_6stream_11VideoStream_7decode)) {
         __Pyx_XDECREF(__pyx_r);
         __Pyx_INCREF(__pyx_t_1);
         __pyx_t_3 = __pyx_t_1; __pyx_t_4 = NULL;
         __pyx_t_5 = 0;
         #if CYTHON_UNPACK_METHODS
         if (unlikely(PyMethod_Check(__pyx_t_3))) {
           __pyx_t_4 = PyMethod_GET_SELF(__pyx_t_3);
@@ -4199,15 +4426,15 @@
           }
         }
         #endif
         {
           PyObject *__pyx_callargs[2] = {__pyx_t_4, ((PyObject *)__pyx_v_packet)};
           __pyx_t_2 = __Pyx_PyObject_FastCall(__pyx_t_3, __pyx_callargs+1-__pyx_t_5, 1+__pyx_t_5);
           __Pyx_XDECREF(__pyx_t_4); __pyx_t_4 = 0;
-          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)
+          if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)
           __Pyx_GOTREF(__pyx_t_2);
           __Pyx_DECREF(__pyx_t_3); __pyx_t_3 = 0;
         }
         __pyx_r = __pyx_t_2;
         __pyx_t_2 = 0;
         __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
         goto __pyx_L0;
@@ -4221,31 +4448,31 @@
       #endif
       __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
       #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_PYTYPE_LOOKUP && CYTHON_USE_TYPE_SLOTS
     }
     #endif
   }
 
-  /* "av/video/stream.pyx":44
+  /* "av/video/stream.pyx":50
  *         """
  * 
  *         return self.codec_context.decode(packet)             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_6.__pyx_n = 1;
   __pyx_t_6.packet = __pyx_v_packet;
-  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->decode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 44, __pyx_L1_error)
+  __pyx_t_1 = ((struct __pyx_vtabstruct_2av_5codec_7context_CodecContext *)__pyx_v_self->__pyx_base.codec_context->__pyx_vtab)->decode(__pyx_v_self->__pyx_base.codec_context, 0, &__pyx_t_6); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 50, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/video/stream.pyx":35
+  /* "av/video/stream.pyx":41
  * 
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.VideoFrame`.
  */
 
@@ -4260,24 +4487,24 @@
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_5decode(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_7decode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_4decode, "VideoStream.decode(Packet packet=None)\n\n        Decode a :class:`.Packet` and return a list of :class:`.VideoFrame`.\n\n        :rtype: list[VideoFrame]\n\n        .. seealso:: This is a passthrough to :meth:`.CodecContext.decode`.\n        ");
-static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_5decode = {"decode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_5decode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_4decode};
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_5decode(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_6decode, "VideoStream.decode(Packet packet=None)\n\n        Decode a :class:`.Packet` and return a list of :class:`.VideoFrame`.\n\n        :rtype: list[VideoFrame]\n\n        .. seealso:: This is a passthrough to :meth:`.CodecContext.decode`.\n        ");
+static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_7decode = {"decode", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_7decode, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_6decode};
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_7decode(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet = 0;
@@ -4313,49 +4540,49 @@
       }
       kw_args = __Pyx_NumKwargs_FASTCALL(__pyx_kwds);
       switch (__pyx_nargs) {
         case  0:
         if (kw_args > 0) {
           PyObject* value = __Pyx_GetKwValue_FASTCALL(__pyx_kwds, __pyx_kwvalues, __pyx_n_s_packet);
           if (value) { values[0] = __Pyx_Arg_NewRef_FASTCALL(value); kw_args--; }
-          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 35, __pyx_L3_error)
+          else if (unlikely(PyErr_Occurred())) __PYX_ERR(0, 41, __pyx_L3_error)
         }
       }
       if (unlikely(kw_args > 0)) {
         const Py_ssize_t kwd_pos_args = __pyx_nargs;
-        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "decode") < 0)) __PYX_ERR(0, 35, __pyx_L3_error)
+        if (unlikely(__Pyx_ParseOptionalKeywords(__pyx_kwds, __pyx_kwvalues, __pyx_pyargnames, 0, values + 0, kwd_pos_args, "decode") < 0)) __PYX_ERR(0, 41, __pyx_L3_error)
       }
     } else {
       switch (__pyx_nargs) {
         case  1: values[0] = __Pyx_Arg_FASTCALL(__pyx_args, 0);
         CYTHON_FALLTHROUGH;
         case  0: break;
         default: goto __pyx_L5_argtuple_error;
       }
     }
     __pyx_v_packet = ((struct __pyx_obj_2av_6packet_Packet *)values[0]);
   }
   goto __pyx_L6_skip;
   __pyx_L5_argtuple_error:;
-  __Pyx_RaiseArgtupleInvalid("decode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 35, __pyx_L3_error)
+  __Pyx_RaiseArgtupleInvalid("decode", 0, 0, 1, __pyx_nargs); __PYX_ERR(0, 41, __pyx_L3_error)
   __pyx_L6_skip:;
   goto __pyx_L4_argument_unpacking_done;
   __pyx_L3_error:;
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.video.stream.VideoStream.decode", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_packet), __pyx_ptype_2av_6packet_Packet, 1, "packet", 0))) __PYX_ERR(0, 35, __pyx_L1_error)
-  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_4decode(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), __pyx_v_packet);
+  if (unlikely(!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_packet), __pyx_ptype_2av_6packet_Packet, 1, "packet", 0))) __PYX_ERR(0, 41, __pyx_L1_error)
+  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_6decode(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), __pyx_v_packet);
 
   /* function exit code */
   goto __pyx_L0;
   __pyx_L1_error:;
   __pyx_r = NULL;
   __pyx_L0:;
   {
@@ -4364,27 +4591,27 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_4decode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet) {
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_6decode(struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, struct __pyx_obj_2av_6packet_Packet *__pyx_v_packet) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   struct __pyx_opt_args_2av_5video_6stream_11VideoStream_decode __pyx_t_2;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("decode", 1);
   __Pyx_XDECREF(__pyx_r);
   __pyx_t_2.__pyx_n = 1;
   __pyx_t_2.packet = __pyx_v_packet;
-  __pyx_t_1 = __pyx_vtabptr_2av_5video_6stream_VideoStream->decode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 35, __pyx_L1_error)
+  __pyx_t_1 = __pyx_vtabptr_2av_5video_6stream_VideoStream->decode(__pyx_v_self, 1, &__pyx_t_2); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 41, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
   /* function exit code */
   __pyx_L1_error:;
@@ -4393,15 +4620,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/video/stream.pyx":46
+/* "av/video/stream.pyx":52
  *         return self.codec_context.decode(packet)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def average_rate(self):
  *         """
  */
 
@@ -4425,29 +4652,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/video/stream.pyx":56
+  /* "av/video/stream.pyx":62
  *         :type: :class:`~fractions.Fraction` or ``None``
  *         """
  *         return avrational_to_fraction(&self.ptr.avg_frame_rate)             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->__pyx_base.ptr->avg_frame_rate)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 56, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->__pyx_base.ptr->avg_frame_rate)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 62, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/video/stream.pyx":46
+  /* "av/video/stream.pyx":52
  *         return self.codec_context.decode(packet)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def average_rate(self):
  *         """
  */
 
@@ -4458,15 +4685,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/video/stream.pyx":58
+/* "av/video/stream.pyx":64
  *         return avrational_to_fraction(&self.ptr.avg_frame_rate)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def base_rate(self):
  *         """
  */
 
@@ -4490,29 +4717,29 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/video/stream.pyx":69
+  /* "av/video/stream.pyx":75
  *         :type: :class:`~fractions.Fraction` or ``None``
  *         """
  *         return avrational_to_fraction(&self.ptr.r_frame_rate)             # <<<<<<<<<<<<<<
  * 
  *     @property
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->__pyx_base.ptr->r_frame_rate)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 69, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_self->__pyx_base.ptr->r_frame_rate)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 75, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/video/stream.pyx":58
+  /* "av/video/stream.pyx":64
  *         return avrational_to_fraction(&self.ptr.avg_frame_rate)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def base_rate(self):
  *         """
  */
 
@@ -4523,15 +4750,15 @@
   __pyx_r = NULL;
   __pyx_L0:;
   __Pyx_XGIVEREF(__pyx_r);
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-/* "av/video/stream.pyx":71
+/* "av/video/stream.pyx":77
  *         return avrational_to_fraction(&self.ptr.r_frame_rate)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def guessed_rate(self):
  *         """The guessed frame rate of this stream.
  */
 
@@ -4556,35 +4783,35 @@
   __Pyx_RefNannyDeclarations
   PyObject *__pyx_t_1 = NULL;
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__get__", 1);
 
-  /* "av/video/stream.pyx":81
+  /* "av/video/stream.pyx":87
  *         """
  *         # The two NULL arguments aren't used in FFmpeg >= 4.0
  *         cdef lib.AVRational val = lib.av_guess_frame_rate(NULL, self.ptr, NULL)             # <<<<<<<<<<<<<<
  *         return avrational_to_fraction(&val)
  */
   __pyx_v_val = av_guess_frame_rate(NULL, __pyx_v_self->__pyx_base.ptr, NULL);
 
-  /* "av/video/stream.pyx":82
+  /* "av/video/stream.pyx":88
  *         # The two NULL arguments aren't used in FFmpeg >= 4.0
  *         cdef lib.AVRational val = lib.av_guess_frame_rate(NULL, self.ptr, NULL)
  *         return avrational_to_fraction(&val)             # <<<<<<<<<<<<<<
  */
   __Pyx_XDECREF(__pyx_r);
-  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_val)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 82, __pyx_L1_error)
+  __pyx_t_1 = __pyx_f_2av_5utils_avrational_to_fraction((&__pyx_v_val)); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 88, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
   __pyx_r = __pyx_t_1;
   __pyx_t_1 = 0;
   goto __pyx_L0;
 
-  /* "av/video/stream.pyx":71
+  /* "av/video/stream.pyx":77
  *         return avrational_to_fraction(&self.ptr.r_frame_rate)
  * 
  *     @property             # <<<<<<<<<<<<<<
  *     def guessed_rate(self):
  *         """The guessed frame rate of this stream.
  */
 
@@ -4602,24 +4829,24 @@
 /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_7__reduce_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_9__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_6__reduce_cython__, "VideoStream.__reduce_cython__()");
-static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_7__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_6__reduce_cython__};
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_7__reduce_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_8__reduce_cython__, "VideoStream.__reduce_cython__()");
+static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_9__reduce_cython__ = {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_9__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_8__reduce_cython__};
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_9__reduce_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   #if !CYTHON_METH_FASTCALL
@@ -4636,22 +4863,22 @@
   __pyx_nargs = PyTuple_Size(__pyx_args); if (unlikely(__pyx_nargs < 0)) return NULL;
   #endif
   #endif
   __pyx_kwvalues = __Pyx_KwValues_FASTCALL(__pyx_args, __pyx_nargs);
   if (unlikely(__pyx_nargs > 0)) {
     __Pyx_RaiseArgtupleInvalid("__reduce_cython__", 1, 0, 0, __pyx_nargs); return NULL;}
   if (unlikely(__pyx_kwds) && __Pyx_NumKwargs_FASTCALL(__pyx_kwds) && unlikely(!__Pyx_CheckKeywordStrings(__pyx_kwds, "__reduce_cython__", 0))) return NULL;
-  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_6__reduce_cython__(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self));
+  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_8__reduce_cython__(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self));
 
   /* function exit code */
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_6__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self) {
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_8__reduce_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__reduce_cython__", 1);
 
@@ -4683,24 +4910,24 @@
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
 
 /* Python wrapper */
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_9__setstate_cython__(PyObject *__pyx_v_self, 
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_11__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ); /*proto*/
-PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_8__setstate_cython__, "VideoStream.__setstate_cython__(__pyx_state)");
-static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_9__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_8__setstate_cython__};
-static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_9__setstate_cython__(PyObject *__pyx_v_self, 
+PyDoc_STRVAR(__pyx_doc_2av_5video_6stream_11VideoStream_10__setstate_cython__, "VideoStream.__setstate_cython__(__pyx_state)");
+static PyMethodDef __pyx_mdef_2av_5video_6stream_11VideoStream_11__setstate_cython__ = {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_11__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_10__setstate_cython__};
+static PyObject *__pyx_pw_2av_5video_6stream_11VideoStream_11__setstate_cython__(PyObject *__pyx_v_self, 
 #if CYTHON_METH_FASTCALL
 PyObject *const *__pyx_args, Py_ssize_t __pyx_nargs, PyObject *__pyx_kwds
 #else
 PyObject *__pyx_args, PyObject *__pyx_kwds
 #endif
 ) {
   CYTHON_UNUSED PyObject *__pyx_v___pyx_state = 0;
@@ -4766,28 +4993,28 @@
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_AddTraceback("av.video.stream.VideoStream.__setstate_cython__", __pyx_clineno, __pyx_lineno, __pyx_filename);
   __Pyx_RefNannyFinishContext();
   return NULL;
   __pyx_L4_argument_unpacking_done:;
-  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_8__setstate_cython__(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), __pyx_v___pyx_state);
+  __pyx_r = __pyx_pf_2av_5video_6stream_11VideoStream_10__setstate_cython__(((struct __pyx_obj_2av_5video_6stream_VideoStream *)__pyx_v_self), __pyx_v___pyx_state);
 
   /* function exit code */
   {
     Py_ssize_t __pyx_temp;
     for (__pyx_temp=0; __pyx_temp < (Py_ssize_t)(sizeof(values)/sizeof(values[0])); ++__pyx_temp) {
       __Pyx_Arg_XDECREF_FASTCALL(values[__pyx_temp]);
     }
   }
   __Pyx_RefNannyFinishContext();
   return __pyx_r;
 }
 
-static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_8__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
+static PyObject *__pyx_pf_2av_5video_6stream_11VideoStream_10__setstate_cython__(CYTHON_UNUSED struct __pyx_obj_2av_5video_6stream_VideoStream *__pyx_v_self, CYTHON_UNUSED PyObject *__pyx_v___pyx_state) {
   PyObject *__pyx_r = NULL;
   __Pyx_RefNannyDeclarations
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__setstate_cython__", 1);
 
@@ -4832,14 +5059,23 @@
 }
 
 static int __pyx_tp_clear_2av_5video_6stream_VideoStream(PyObject *o) {
   if (likely(__pyx_ptype_2av_6stream_Stream)) { if (__pyx_ptype_2av_6stream_Stream->tp_clear) __pyx_ptype_2av_6stream_Stream->tp_clear(o); } else __Pyx_call_next_tp_clear(o, __pyx_tp_clear_2av_5video_6stream_VideoStream);
   return 0;
 }
 
+static PyObject *__pyx_tp_getattro_2av_5video_6stream_VideoStream(PyObject *o, PyObject *n) {
+  PyObject *v = __Pyx_PyObject_GenericGetAttr(o, n);
+  if (!v && PyErr_ExceptionMatches(PyExc_AttributeError)) {
+    PyErr_Clear();
+    v = __pyx_pw_2av_5video_6stream_11VideoStream_3__getattr__(o, n);
+  }
+  return v;
+}
+
 static PyObject *__pyx_getprop_2av_5video_6stream_11VideoStream_average_rate(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_2av_5video_6stream_11VideoStream_12average_rate_1__get__(o);
 }
 
 static PyObject *__pyx_getprop_2av_5video_6stream_11VideoStream_base_rate(PyObject *o, CYTHON_UNUSED void *x) {
   return __pyx_pw_2av_5video_6stream_11VideoStream_9base_rate_1__get__(o);
 }
@@ -4850,28 +5086,30 @@
 
 static PyObject *__pyx_specialmethod___pyx_pw_2av_5video_6stream_11VideoStream_1__repr__(PyObject *self, CYTHON_UNUSED PyObject *arg) {
   return __pyx_pw_2av_5video_6stream_11VideoStream_1__repr__(self);
 }
 
 static PyMethodDef __pyx_methods_2av_5video_6stream_VideoStream[] = {
   {"__repr__", (PyCFunction)__pyx_specialmethod___pyx_pw_2av_5video_6stream_11VideoStream_1__repr__, METH_NOARGS|METH_COEXIST, 0},
-  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_7__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_6__reduce_cython__},
-  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_9__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_8__setstate_cython__},
+  {"__getattr__", (PyCFunction)__pyx_pw_2av_5video_6stream_11VideoStream_3__getattr__, METH_O|METH_COEXIST, 0},
+  {"__reduce_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_9__reduce_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_8__reduce_cython__},
+  {"__setstate_cython__", (PyCFunction)(void*)(__Pyx_PyCFunction_FastCallWithKeywords)__pyx_pw_2av_5video_6stream_11VideoStream_11__setstate_cython__, __Pyx_METH_FASTCALL|METH_KEYWORDS, __pyx_doc_2av_5video_6stream_11VideoStream_10__setstate_cython__},
   {0, 0, 0, 0}
 };
 
 static struct PyGetSetDef __pyx_getsets_2av_5video_6stream_VideoStream[] = {
   {(char *)"average_rate", __pyx_getprop_2av_5video_6stream_11VideoStream_average_rate, 0, (char *)PyDoc_STR("\n        The average frame rate of this video stream.\n\n        This is calculated when the file is opened by looking at the first\n        few frames and averaging their rate.\n\n        :type: :class:`~fractions.Fraction` or ``None``\n        "), 0},
   {(char *)"base_rate", __pyx_getprop_2av_5video_6stream_11VideoStream_base_rate, 0, (char *)PyDoc_STR("\n        The base frame rate of this stream.\n\n        This is calculated as the lowest framerate at which the timestamps of\n        frames can be represented accurately. See :ffmpeg:`AVStream.r_frame_rate`\n        for more.\n\n        :type: :class:`~fractions.Fraction` or ``None``\n        "), 0},
   {(char *)"guessed_rate", __pyx_getprop_2av_5video_6stream_11VideoStream_guessed_rate, 0, (char *)PyDoc_STR("The guessed frame rate of this stream.\n\n        This is a wrapper around :ffmpeg:`av_guess_frame_rate`, and uses multiple\n        heuristics to decide what is \"the\" frame rate.\n\n        :type: :class:`~fractions.Fraction` or ``None``\n        "), 0},
   {0, 0, 0, 0, 0}
 };
 #if CYTHON_USE_TYPE_SPECS
 static PyType_Slot __pyx_type_2av_5video_6stream_VideoStream_slots[] = {
   {Py_tp_repr, (void *)__pyx_pw_2av_5video_6stream_11VideoStream_1__repr__},
+  {Py_tp_getattro, (void *)__pyx_tp_getattro_2av_5video_6stream_VideoStream},
   {Py_tp_traverse, (void *)__pyx_tp_traverse_2av_5video_6stream_VideoStream},
   {Py_tp_clear, (void *)__pyx_tp_clear_2av_5video_6stream_VideoStream},
   {Py_tp_methods, (void *)__pyx_methods_2av_5video_6stream_VideoStream},
   {Py_tp_getset, (void *)__pyx_getsets_2av_5video_6stream_VideoStream},
   {Py_tp_new, (void *)__pyx_tp_new_2av_5video_6stream_VideoStream},
   {0, 0},
 };
@@ -4907,15 +5145,15 @@
   __pyx_pw_2av_5video_6stream_11VideoStream_1__repr__, /*tp_repr*/
   0, /*tp_as_number*/
   0, /*tp_as_sequence*/
   0, /*tp_as_mapping*/
   0, /*tp_hash*/
   0, /*tp_call*/
   0, /*tp_str*/
-  0, /*tp_getattro*/
+  __pyx_tp_getattro_2av_5video_6stream_VideoStream, /*tp_getattro*/
   0, /*tp_setattro*/
   0, /*tp_as_buffer*/
   Py_TPFLAGS_DEFAULT|Py_TPFLAGS_HAVE_VERSION_TAG|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_HAVE_NEWBUFFER|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC|Py_TPFLAGS_HAVE_FINALIZE, /*tp_flags*/
   0, /*tp_doc*/
   __pyx_tp_traverse_2av_5video_6stream_VideoStream, /*tp_traverse*/
   __pyx_tp_clear_2av_5video_6stream_VideoStream, /*tp_clear*/
   0, /*tp_richcompare*/
@@ -4979,48 +5217,53 @@
 #endif
 #endif
 /* #### Code section: pystring_table ### */
 
 static int __Pyx_CreateStringTabAndInitStrings(void) {
   __Pyx_StringTabEntry __pyx_string_tab[] = {
     {&__pyx_kp_u_, __pyx_k_, sizeof(__pyx_k_), 0, 1, 0, 0},
+    {&__pyx_n_s_AttributeError, __pyx_k_AttributeError, sizeof(__pyx_k_AttributeError), 0, 0, 1, 1},
     {&__pyx_n_s_TypeError, __pyx_k_TypeError, sizeof(__pyx_k_TypeError), 0, 0, 1, 1},
     {&__pyx_n_s_VideoStream, __pyx_k_VideoStream, sizeof(__pyx_k_VideoStream), 0, 0, 1, 1},
     {&__pyx_n_s_VideoStream___reduce_cython, __pyx_k_VideoStream___reduce_cython, sizeof(__pyx_k_VideoStream___reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_VideoStream___setstate_cython, __pyx_k_VideoStream___setstate_cython, sizeof(__pyx_k_VideoStream___setstate_cython), 0, 0, 1, 1},
     {&__pyx_n_s_VideoStream_decode, __pyx_k_VideoStream_decode, sizeof(__pyx_k_VideoStream_decode), 0, 0, 1, 1},
     {&__pyx_n_s_VideoStream_encode, __pyx_k_VideoStream_encode, sizeof(__pyx_k_VideoStream_encode), 0, 0, 1, 1},
-    {&__pyx_n_s__13, __pyx_k__13, sizeof(__pyx_k__13), 0, 0, 1, 1},
+    {&__pyx_n_s__14, __pyx_k__14, sizeof(__pyx_k__14), 0, 0, 1, 1},
     {&__pyx_kp_u__2, __pyx_k__2, sizeof(__pyx_k__2), 0, 1, 0, 0},
     {&__pyx_kp_u__3, __pyx_k__3, sizeof(__pyx_k__3), 0, 1, 0, 0},
+    {&__pyx_kp_u__4, __pyx_k__4, sizeof(__pyx_k__4), 0, 1, 0, 0},
     {&__pyx_n_s_asyncio_coroutines, __pyx_k_asyncio_coroutines, sizeof(__pyx_k_asyncio_coroutines), 0, 0, 1, 1},
     {&__pyx_kp_u_at_0x, __pyx_k_at_0x, sizeof(__pyx_k_at_0x), 0, 1, 0, 0},
     {&__pyx_kp_u_av_VideoStream, __pyx_k_av_VideoStream, sizeof(__pyx_k_av_VideoStream), 0, 1, 0, 0},
     {&__pyx_n_s_av_video_stream, __pyx_k_av_video_stream, sizeof(__pyx_k_av_video_stream), 0, 0, 1, 1},
     {&__pyx_kp_s_av_video_stream_pyx, __pyx_k_av_video_stream_pyx, sizeof(__pyx_k_av_video_stream_pyx), 0, 0, 1, 0},
     {&__pyx_n_s_cline_in_traceback, __pyx_k_cline_in_traceback, sizeof(__pyx_k_cline_in_traceback), 0, 0, 1, 1},
     {&__pyx_n_s_decode, __pyx_k_decode, sizeof(__pyx_k_decode), 0, 0, 1, 1},
     {&__pyx_kp_u_disable, __pyx_k_disable, sizeof(__pyx_k_disable), 0, 1, 0, 0},
     {&__pyx_kp_u_enable, __pyx_k_enable, sizeof(__pyx_k_enable), 0, 1, 0, 0},
     {&__pyx_n_s_encode, __pyx_k_encode, sizeof(__pyx_k_encode), 0, 0, 1, 1},
     {&__pyx_n_s_format, __pyx_k_format, sizeof(__pyx_k_format), 0, 0, 1, 1},
     {&__pyx_n_s_frame, __pyx_k_frame, sizeof(__pyx_k_frame), 0, 0, 1, 1},
+    {&__pyx_n_s_framerate, __pyx_k_framerate, sizeof(__pyx_k_framerate), 0, 0, 1, 1},
     {&__pyx_kp_u_gc, __pyx_k_gc, sizeof(__pyx_k_gc), 0, 1, 0, 0},
     {&__pyx_n_s_getstate, __pyx_k_getstate, sizeof(__pyx_k_getstate), 0, 0, 1, 1},
     {&__pyx_n_s_height, __pyx_k_height, sizeof(__pyx_k_height), 0, 0, 1, 1},
     {&__pyx_n_s_id, __pyx_k_id, sizeof(__pyx_k_id), 0, 0, 1, 1},
     {&__pyx_n_s_index, __pyx_k_index, sizeof(__pyx_k_index), 0, 0, 1, 1},
     {&__pyx_n_s_is_coroutine, __pyx_k_is_coroutine, sizeof(__pyx_k_is_coroutine), 0, 0, 1, 1},
     {&__pyx_kp_u_isenabled, __pyx_k_isenabled, sizeof(__pyx_k_isenabled), 0, 1, 0, 0},
     {&__pyx_n_s_main, __pyx_k_main, sizeof(__pyx_k_main), 0, 0, 1, 1},
     {&__pyx_n_s_name, __pyx_k_name, sizeof(__pyx_k_name), 0, 0, 1, 1},
     {&__pyx_n_s_name_2, __pyx_k_name_2, sizeof(__pyx_k_name_2), 0, 0, 1, 1},
+    {&__pyx_kp_u_object_has_no_attribute, __pyx_k_object_has_no_attribute, sizeof(__pyx_k_object_has_no_attribute), 0, 1, 0, 0},
     {&__pyx_n_s_packet, __pyx_k_packet, sizeof(__pyx_k_packet), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_state, __pyx_k_pyx_state, sizeof(__pyx_k_pyx_state), 0, 0, 1, 1},
     {&__pyx_n_s_pyx_vtable, __pyx_k_pyx_vtable, sizeof(__pyx_k_pyx_vtable), 0, 0, 1, 1},
+    {&__pyx_n_s_rate, __pyx_k_rate, sizeof(__pyx_k_rate), 0, 0, 1, 1},
     {&__pyx_n_s_reduce, __pyx_k_reduce, sizeof(__pyx_k_reduce), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_cython, __pyx_k_reduce_cython, sizeof(__pyx_k_reduce_cython), 0, 0, 1, 1},
     {&__pyx_n_s_reduce_ex, __pyx_k_reduce_ex, sizeof(__pyx_k_reduce_ex), 0, 0, 1, 1},
     {&__pyx_n_s_self, __pyx_k_self, sizeof(__pyx_k_self), 0, 0, 1, 1},
     {&__pyx_kp_s_self_ptr_cannot_be_converted_to, __pyx_k_self_ptr_cannot_be_converted_to, sizeof(__pyx_k_self_ptr_cannot_be_converted_to), 0, 0, 1, 0},
     {&__pyx_n_s_setstate, __pyx_k_setstate, sizeof(__pyx_k_setstate), 0, 0, 1, 1},
     {&__pyx_n_s_setstate_cython, __pyx_k_setstate_cython, sizeof(__pyx_k_setstate_cython), 0, 0, 1, 1},
@@ -5031,72 +5274,73 @@
     {0, 0, 0, 0, 0, 0, 0}
   };
   return __Pyx_InitStrings(__pyx_string_tab);
 }
 /* #### Code section: cached_builtins ### */
 static CYTHON_SMALL_CODE int __Pyx_InitCachedBuiltins(void) {
   __pyx_builtin_id = __Pyx_GetBuiltinName(__pyx_n_s_id); if (!__pyx_builtin_id) __PYX_ERR(0, 14, __pyx_L1_error)
+  __pyx_builtin_AttributeError = __Pyx_GetBuiltinName(__pyx_n_s_AttributeError); if (!__pyx_builtin_AttributeError) __PYX_ERR(0, 19, __pyx_L1_error)
   __pyx_builtin_TypeError = __Pyx_GetBuiltinName(__pyx_n_s_TypeError); if (!__pyx_builtin_TypeError) __PYX_ERR(1, 2, __pyx_L1_error)
   return 0;
   __pyx_L1_error:;
   return -1;
 }
 /* #### Code section: cached_constants ### */
 
 static CYTHON_SMALL_CODE int __Pyx_InitCachedConstants(void) {
   __Pyx_RefNannyDeclarations
   __Pyx_RefNannySetupContext("__Pyx_InitCachedConstants", 0);
 
-  /* "av/video/stream.pyx":17
- *         )
+  /* "av/video/stream.pyx":23
+ *         return getattr(self.codec_context, name)
  * 
  *     cpdef encode(self, VideoFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.
  */
-  __pyx_tuple__4 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_frame); if (unlikely(!__pyx_tuple__4)) __PYX_ERR(0, 17, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__4);
-  __Pyx_GIVEREF(__pyx_tuple__4);
-  __pyx_codeobj__5 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__4, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_video_stream_pyx, __pyx_n_s_encode, 17, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__5)) __PYX_ERR(0, 17, __pyx_L1_error)
-  __pyx_tuple__6 = PyTuple_Pack(1, Py_None); if (unlikely(!__pyx_tuple__6)) __PYX_ERR(0, 17, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__6);
-  __Pyx_GIVEREF(__pyx_tuple__6);
+  __pyx_tuple__5 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_frame); if (unlikely(!__pyx_tuple__5)) __PYX_ERR(0, 23, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__5);
+  __Pyx_GIVEREF(__pyx_tuple__5);
+  __pyx_codeobj__6 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__5, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_video_stream_pyx, __pyx_n_s_encode, 23, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__6)) __PYX_ERR(0, 23, __pyx_L1_error)
+  __pyx_tuple__7 = PyTuple_Pack(1, Py_None); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 23, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__7);
+  __Pyx_GIVEREF(__pyx_tuple__7);
 
-  /* "av/video/stream.pyx":35
+  /* "av/video/stream.pyx":41
  * 
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.VideoFrame`.
  */
-  __pyx_tuple__7 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_packet); if (unlikely(!__pyx_tuple__7)) __PYX_ERR(0, 35, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__7);
-  __Pyx_GIVEREF(__pyx_tuple__7);
-  __pyx_codeobj__8 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__7, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_video_stream_pyx, __pyx_n_s_decode, 35, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__8)) __PYX_ERR(0, 35, __pyx_L1_error)
+  __pyx_tuple__8 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_packet); if (unlikely(!__pyx_tuple__8)) __PYX_ERR(0, 41, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__8);
+  __Pyx_GIVEREF(__pyx_tuple__8);
+  __pyx_codeobj__9 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__8, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_av_video_stream_pyx, __pyx_n_s_decode, 41, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__9)) __PYX_ERR(0, 41, __pyx_L1_error)
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_tuple__9 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__9)) __PYX_ERR(1, 1, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__9);
-  __Pyx_GIVEREF(__pyx_tuple__9);
-  __pyx_codeobj__10 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__9, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__10)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_tuple__10 = PyTuple_Pack(1, __pyx_n_s_self); if (unlikely(!__pyx_tuple__10)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__10);
+  __Pyx_GIVEREF(__pyx_tuple__10);
+  __pyx_codeobj__11 = (PyObject*)__Pyx_PyCode_New(1, 0, 0, 1, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__10, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_reduce_cython, 1, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__11)) __PYX_ERR(1, 1, __pyx_L1_error)
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_tuple__11 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__11)) __PYX_ERR(1, 3, __pyx_L1_error)
-  __Pyx_GOTREF(__pyx_tuple__11);
-  __Pyx_GIVEREF(__pyx_tuple__11);
-  __pyx_codeobj__12 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__11, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__12)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_tuple__12 = PyTuple_Pack(2, __pyx_n_s_self, __pyx_n_s_pyx_state); if (unlikely(!__pyx_tuple__12)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __Pyx_GOTREF(__pyx_tuple__12);
+  __Pyx_GIVEREF(__pyx_tuple__12);
+  __pyx_codeobj__13 = (PyObject*)__Pyx_PyCode_New(2, 0, 0, 2, 0, CO_OPTIMIZED|CO_NEWLOCALS, __pyx_empty_bytes, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_tuple__12, __pyx_empty_tuple, __pyx_empty_tuple, __pyx_kp_s_stringsource, __pyx_n_s_setstate_cython, 3, __pyx_empty_bytes); if (unlikely(!__pyx_codeobj__13)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_RefNannyFinishContext();
   return -1;
 }
 /* #### Code section: init_constants ### */
@@ -5153,15 +5397,15 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_init_code", 0);
   /*--- Type init code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.stream"); if (unlikely(!__pyx_t_1)) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(0, 1, __pyx_L1_error)
+  __pyx_ptype_2av_6stream_Stream = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.stream", "Stream", sizeof(struct __pyx_obj_2av_6stream_Stream), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6stream_Stream),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6stream_Stream) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_6stream_Stream = (struct __pyx_vtabstruct_2av_6stream_Stream*)__Pyx_GetVtable(__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_vtabptr_2av_6stream_Stream)) __PYX_ERR(0, 1, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6stream_VideoStream = &__pyx_vtable_2av_5video_6stream_VideoStream;
   __pyx_vtable_2av_5video_6stream_VideoStream.__pyx_base = *__pyx_vtabptr_2av_6stream_Stream;
   __pyx_vtable_2av_5video_6stream_VideoStream.encode = (PyObject *(*)(struct __pyx_obj_2av_5video_6stream_VideoStream *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5video_6stream_11VideoStream_encode *__pyx_optional_args))__pyx_f_2av_5video_6stream_11VideoStream_encode;
   __pyx_vtable_2av_5video_6stream_VideoStream.decode = (PyObject *(*)(struct __pyx_obj_2av_5video_6stream_VideoStream *, int __pyx_skip_dispatch, struct __pyx_opt_args_2av_5video_6stream_11VideoStream_decode *__pyx_optional_args))__pyx_f_2av_5video_6stream_11VideoStream_decode;
   #if CYTHON_USE_TYPE_SPECS
   __pyx_t_2 = PyTuple_Pack(1, (PyObject *)__pyx_ptype_2av_6stream_Stream); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 9, __pyx_L1_error)
@@ -5179,19 +5423,14 @@
   #endif
   #if !CYTHON_USE_TYPE_SPECS
   if (__Pyx_PyType_Ready(__pyx_ptype_2av_5video_6stream_VideoStream) < 0) __PYX_ERR(0, 9, __pyx_L1_error)
   #endif
   #if PY_MAJOR_VERSION < 3
   __pyx_ptype_2av_5video_6stream_VideoStream->tp_print = 0;
   #endif
-  #if !CYTHON_COMPILING_IN_LIMITED_API
-  if ((CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP) && likely(!__pyx_ptype_2av_5video_6stream_VideoStream->tp_dictoffset && __pyx_ptype_2av_5video_6stream_VideoStream->tp_getattro == PyObject_GenericGetAttr)) {
-    __pyx_ptype_2av_5video_6stream_VideoStream->tp_getattro = __Pyx_PyObject_GenericGetAttr;
-  }
-  #endif
   if (__Pyx_SetVtable(__pyx_ptype_2av_5video_6stream_VideoStream, __pyx_vtabptr_2av_5video_6stream_VideoStream) < 0) __PYX_ERR(0, 9, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_MergeVtables(__pyx_ptype_2av_5video_6stream_VideoStream) < 0) __PYX_ERR(0, 9, __pyx_L1_error)
   #endif
   if (PyObject_SetAttr(__pyx_m, __pyx_n_s_VideoStream, (PyObject *) __pyx_ptype_2av_5video_6stream_VideoStream) < 0) __PYX_ERR(0, 9, __pyx_L1_error)
   #if !CYTHON_COMPILING_IN_LIMITED_API
   if (__Pyx_setup_reduce((PyObject *) __pyx_ptype_2av_5video_6stream_VideoStream) < 0) __PYX_ERR(0, 9, __pyx_L1_error)
@@ -5212,84 +5451,84 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_type_import_code", 0);
   /*--- Type import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.buffer"); if (unlikely(!__pyx_t_1)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
+  __pyx_ptype_2av_6buffer_Buffer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.buffer", "Buffer", sizeof(struct __pyx_obj_2av_6buffer_Buffer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6buffer_Buffer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6buffer_Buffer) __PYX_ERR(2, 2, __pyx_L1_error)
   __pyx_vtabptr_2av_6buffer_Buffer = (struct __pyx_vtabstruct_2av_6buffer_Buffer*)__Pyx_GetVtable(__pyx_ptype_2av_6buffer_Buffer); if (unlikely(!__pyx_vtabptr_2av_6buffer_Buffer)) __PYX_ERR(2, 2, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.bytesource"); if (unlikely(!__pyx_t_1)) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10bytesource_ByteSource = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.bytesource", "ByteSource", sizeof(struct __pyx_obj_2av_10bytesource_ByteSource), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10bytesource_ByteSource),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10bytesource_ByteSource) __PYX_ERR(3, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.codec"); if (unlikely(!__pyx_t_1)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_5codec_Codec = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.codec", "Codec", sizeof(struct __pyx_obj_2av_5codec_5codec_Codec), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_5codec_Codec),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_5codec_Codec) __PYX_ERR(4, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_5codec_Codec = (struct __pyx_vtabstruct_2av_5codec_5codec_Codec*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_5codec_Codec); if (unlikely(!__pyx_vtabptr_2av_5codec_5codec_Codec)) __PYX_ERR(4, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (unlikely(!__pyx_t_1)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(5, 4, __pyx_L1_error)
+  __pyx_ptype_2av_10dictionary__Dictionary = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.dictionary", "_Dictionary", sizeof(struct __pyx_obj_2av_10dictionary__Dictionary), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_10dictionary__Dictionary),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_10dictionary__Dictionary) __PYX_ERR(5, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_10dictionary__Dictionary = (struct __pyx_vtabstruct_2av_10dictionary__Dictionary*)__Pyx_GetVtable(__pyx_ptype_2av_10dictionary__Dictionary); if (unlikely(!__pyx_vtabptr_2av_10dictionary__Dictionary)) __PYX_ERR(5, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.sidedata.sidedata"); if (unlikely(!__pyx_t_1)) __PYX_ERR(6, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(6, 9, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata_SideData = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "SideData", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata_SideData), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata_SideData),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata_SideData) __PYX_ERR(6, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_8sidedata_8sidedata_SideData = (struct __pyx_vtabstruct_2av_8sidedata_8sidedata_SideData*)__Pyx_GetVtable(__pyx_ptype_2av_8sidedata_8sidedata_SideData); if (unlikely(!__pyx_vtabptr_2av_8sidedata_8sidedata_SideData)) __PYX_ERR(6, 9, __pyx_L1_error)
-  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(6, 18, __pyx_L1_error)
+  __pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.sidedata.sidedata", "_SideDataContainer", sizeof(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_8sidedata_8sidedata__SideDataContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_8sidedata_8sidedata__SideDataContainer) __PYX_ERR(6, 17, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(7, 7, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(7, 7, __pyx_L1_error)
+  __pyx_ptype_2av_5frame_Frame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.frame", "Frame", sizeof(struct __pyx_obj_2av_5frame_Frame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5frame_Frame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5frame_Frame) __PYX_ERR(7, 7, __pyx_L1_error)
   __pyx_vtabptr_2av_5frame_Frame = (struct __pyx_vtabstruct_2av_5frame_Frame*)__Pyx_GetVtable(__pyx_ptype_2av_5frame_Frame); if (unlikely(!__pyx_vtabptr_2av_5frame_Frame)) __PYX_ERR(7, 7, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.codec.context"); if (unlikely(!__pyx_t_1)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
+  __pyx_ptype_2av_5codec_7context_CodecContext = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.codec.context", "CodecContext", sizeof(struct __pyx_obj_2av_5codec_7context_CodecContext), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5codec_7context_CodecContext),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5codec_7context_CodecContext) __PYX_ERR(8, 10, __pyx_L1_error)
   __pyx_vtabptr_2av_5codec_7context_CodecContext = (struct __pyx_vtabstruct_2av_5codec_7context_CodecContext*)__Pyx_GetVtable(__pyx_ptype_2av_5codec_7context_CodecContext); if (unlikely(!__pyx_vtabptr_2av_5codec_7context_CodecContext)) __PYX_ERR(8, 10, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.pyio"); if (unlikely(!__pyx_t_1)) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4pyio_PyIOFile = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.pyio", "PyIOFile", sizeof(struct __pyx_obj_2av_9container_4pyio_PyIOFile), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4pyio_PyIOFile),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4pyio_PyIOFile) __PYX_ERR(9, 16, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.streams"); if (unlikely(!__pyx_t_1)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
+  __pyx_ptype_2av_9container_7streams_StreamContainer = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.streams", "StreamContainer", sizeof(struct __pyx_obj_2av_9container_7streams_StreamContainer), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_7streams_StreamContainer),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_7streams_StreamContainer) __PYX_ERR(10, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_7streams_StreamContainer = (struct __pyx_vtabstruct_2av_9container_7streams_StreamContainer*)__Pyx_GetVtable(__pyx_ptype_2av_9container_7streams_StreamContainer); if (unlikely(!__pyx_vtabptr_2av_9container_7streams_StreamContainer)) __PYX_ERR(10, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
+  __pyx_ptype_2av_6format_ContainerFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.format", "ContainerFormat", sizeof(struct __pyx_obj_2av_6format_ContainerFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6format_ContainerFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6format_ContainerFormat) __PYX_ERR(11, 4, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.container.core"); if (unlikely(!__pyx_t_1)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
+  __pyx_ptype_2av_9container_4core_Container = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.container.core", "Container", sizeof(struct __pyx_obj_2av_9container_4core_Container), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_9container_4core_Container),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_9container_4core_Container) __PYX_ERR(12, 15, __pyx_L1_error)
   __pyx_vtabptr_2av_9container_4core_Container = (struct __pyx_vtabstruct_2av_9container_4core_Container*)__Pyx_GetVtable(__pyx_ptype_2av_9container_4core_Container); if (unlikely(!__pyx_vtabptr_2av_9container_4core_Container)) __PYX_ERR(12, 15, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.packet"); if (unlikely(!__pyx_t_1)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
+  __pyx_ptype_2av_6packet_Packet = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.packet", "Packet", sizeof(struct __pyx_obj_2av_6packet_Packet), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_6packet_Packet),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_6packet_Packet) __PYX_ERR(13, 8, __pyx_L1_error)
   __pyx_vtabptr_2av_6packet_Packet = (struct __pyx_vtabstruct_2av_6packet_Packet*)__Pyx_GetVtable(__pyx_ptype_2av_6packet_Packet); if (unlikely(!__pyx_vtabptr_2av_6packet_Packet)) __PYX_ERR(13, 8, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.format"); if (unlikely(!__pyx_t_1)) __PYX_ERR(14, 4, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(14, 4, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormat = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormat", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormat), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormat),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormat) __PYX_ERR(14, 4, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_6format_VideoFormat = (struct __pyx_vtabstruct_2av_5video_6format_VideoFormat*)__Pyx_GetVtable(__pyx_ptype_2av_5video_6format_VideoFormat); if (unlikely(!__pyx_vtabptr_2av_5video_6format_VideoFormat)) __PYX_ERR(14, 4, __pyx_L1_error)
-  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(14, 18, __pyx_L1_error)
+  __pyx_ptype_2av_5video_6format_VideoFormatComponent = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.format", "VideoFormatComponent", sizeof(struct __pyx_obj_2av_5video_6format_VideoFormatComponent), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_6format_VideoFormatComponent),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_6format_VideoFormatComponent) __PYX_ERR(14, 18, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.reformatter"); if (unlikely(!__pyx_t_1)) __PYX_ERR(15, 6, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(15, 6, __pyx_L1_error)
+  __pyx_ptype_2av_5video_11reformatter_VideoReformatter = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.reformatter", "VideoReformatter", sizeof(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_11reformatter_VideoReformatter),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_11reformatter_VideoReformatter) __PYX_ERR(15, 6, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_11reformatter_VideoReformatter = (struct __pyx_vtabstruct_2av_5video_11reformatter_VideoReformatter*)__Pyx_GetVtable(__pyx_ptype_2av_5video_11reformatter_VideoReformatter); if (unlikely(!__pyx_vtabptr_2av_5video_11reformatter_VideoReformatter)) __PYX_ERR(15, 6, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.video.frame"); if (unlikely(!__pyx_t_1)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_9(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_9(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_9); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(16, 9, __pyx_L1_error)
+  __pyx_ptype_2av_5video_5frame_VideoFrame = __Pyx_ImportType_3_0_10(__pyx_t_1, "av.video.frame", "VideoFrame", sizeof(struct __pyx_obj_2av_5video_5frame_VideoFrame), __PYX_GET_STRUCT_ALIGNMENT_3_0_10(struct __pyx_obj_2av_5video_5frame_VideoFrame),__Pyx_ImportType_CheckSize_Warn_3_0_10); if (!__pyx_ptype_2av_5video_5frame_VideoFrame) __PYX_ERR(16, 9, __pyx_L1_error)
   __pyx_vtabptr_2av_5video_5frame_VideoFrame = (struct __pyx_vtabstruct_2av_5video_5frame_VideoFrame*)__Pyx_GetVtable(__pyx_ptype_2av_5video_5frame_VideoFrame); if (unlikely(!__pyx_vtabptr_2av_5video_5frame_VideoFrame)) __PYX_ERR(16, 9, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
@@ -5310,20 +5549,20 @@
   int __pyx_lineno = 0;
   const char *__pyx_filename = NULL;
   int __pyx_clineno = 0;
   __Pyx_RefNannySetupContext("__Pyx_modinit_function_import_code", 0);
   /*--- Function import code ---*/
   __pyx_t_1 = PyImport_ImportModule("av.dictionary"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "wrap_dictionary", (void (**)(void))&__pyx_f_2av_10dictionary_wrap_dictionary, "struct __pyx_obj_2av_10dictionary__Dictionary *(AVDictionary *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __pyx_t_1 = PyImport_ImportModule("av.utils"); if (!__pyx_t_1) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_1);
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
-  if (__Pyx_ImportFunction_3_0_9(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "avrational_to_fraction", (void (**)(void))&__pyx_f_2av_5utils_avrational_to_fraction, "PyObject *(AVRational const *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
+  if (__Pyx_ImportFunction_3_0_10(__pyx_t_1, "to_avrational", (void (**)(void))&__pyx_f_2av_5utils_to_avrational, "PyObject *(PyObject *, AVRational *)") < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_1); __pyx_t_1 = 0;
   __Pyx_RefNannyFinishContext();
   return 0;
   __pyx_L1_error:;
   __Pyx_XDECREF(__pyx_t_1);
   __Pyx_RefNannyFinishContext();
   return -1;
@@ -5603,59 +5842,59 @@
   (void)__Pyx_modinit_variable_import_code();
   if (unlikely((__Pyx_modinit_function_import_code() < 0))) __PYX_ERR(0, 1, __pyx_L1_error)
   /*--- Execution code ---*/
   #if defined(__Pyx_Generator_USED) || defined(__Pyx_Coroutine_USED)
   if (__Pyx_patch_abc() < 0) __PYX_ERR(0, 1, __pyx_L1_error)
   #endif
 
-  /* "av/video/stream.pyx":17
- *         )
+  /* "av/video/stream.pyx":23
+ *         return getattr(self.codec_context, name)
  * 
  *     cpdef encode(self, VideoFrame frame=None):             # <<<<<<<<<<<<<<
  *         """
  *         Encode an :class:`.VideoFrame` and return a list of :class:`.Packet`.
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_3encode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream_encode, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__5)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 17, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_5encode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream_encode, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__6)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 23, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__6);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5video_6stream_VideoStream, __pyx_n_s_encode, __pyx_t_2) < 0) __PYX_ERR(0, 17, __pyx_L1_error)
+  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__7);
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5video_6stream_VideoStream, __pyx_n_s_encode, __pyx_t_2) < 0) __PYX_ERR(0, 23, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_2av_5video_6stream_VideoStream);
 
-  /* "av/video/stream.pyx":35
+  /* "av/video/stream.pyx":41
  * 
  * 
  *     cpdef decode(self, Packet packet=None):             # <<<<<<<<<<<<<<
  *         """
  *         Decode a :class:`.Packet` and return a list of :class:`.VideoFrame`.
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_5decode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream_decode, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__8)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 35, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_7decode, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream_decode, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__9)); if (unlikely(!__pyx_t_2)) __PYX_ERR(0, 41, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
-  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__6);
-  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5video_6stream_VideoStream, __pyx_n_s_decode, __pyx_t_2) < 0) __PYX_ERR(0, 35, __pyx_L1_error)
+  __Pyx_CyFunction_SetDefaultsTuple(__pyx_t_2, __pyx_tuple__7);
+  if (__Pyx_SetItemOnTypeDict((PyObject *)__pyx_ptype_2av_5video_6stream_VideoStream, __pyx_n_s_decode, __pyx_t_2) < 0) __PYX_ERR(0, 41, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
   PyType_Modified(__pyx_ptype_2av_5video_6stream_VideoStream);
 
   /* "(tree fragment)":1
  * def __reduce_cython__(self):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_7__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream___reduce_cython, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__10)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_9__reduce_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream___reduce_cython, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__11)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_reduce_cython, __pyx_t_2) < 0) __PYX_ERR(1, 1, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "(tree fragment)":3
  * def __reduce_cython__(self):
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  * def __setstate_cython__(self, __pyx_state):             # <<<<<<<<<<<<<<
  *     raise TypeError, "self.ptr cannot be converted to a Python object for pickling"
  */
-  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_9__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream___setstate_cython, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__12)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
+  __pyx_t_2 = __Pyx_CyFunction_New(&__pyx_mdef_2av_5video_6stream_11VideoStream_11__setstate_cython__, __Pyx_CYFUNCTION_CCLASS, __pyx_n_s_VideoStream___setstate_cython, NULL, __pyx_n_s_av_video_stream, __pyx_d, ((PyObject *)__pyx_codeobj__13)); if (unlikely(!__pyx_t_2)) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_GOTREF(__pyx_t_2);
   if (PyDict_SetItem(__pyx_d, __pyx_n_s_setstate_cython, __pyx_t_2) < 0) __PYX_ERR(1, 3, __pyx_L1_error)
   __Pyx_DECREF(__pyx_t_2); __pyx_t_2 = 0;
 
   /* "av/video/stream.pyx":1
  * cimport libav as lib             # <<<<<<<<<<<<<<
  * 
@@ -6476,14 +6715,188 @@
     CYTHON_UNUSED_VAR(max_char);
     CYTHON_UNUSED_VAR(result_ulength);
     CYTHON_UNUSED_VAR(value_count);
     return PyUnicode_Join(__pyx_empty_unicode, value_tuple);
 #endif
 }
 
+/* RaiseException */
+#if PY_MAJOR_VERSION < 3
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
+    __Pyx_PyThreadState_declare
+    CYTHON_UNUSED_VAR(cause);
+    Py_XINCREF(type);
+    if (!value || value == Py_None)
+        value = NULL;
+    else
+        Py_INCREF(value);
+    if (!tb || tb == Py_None)
+        tb = NULL;
+    else {
+        Py_INCREF(tb);
+        if (!PyTraceBack_Check(tb)) {
+            PyErr_SetString(PyExc_TypeError,
+                "raise: arg 3 must be a traceback or None");
+            goto raise_error;
+        }
+    }
+    if (PyType_Check(type)) {
+#if CYTHON_COMPILING_IN_PYPY
+        if (!value) {
+            Py_INCREF(Py_None);
+            value = Py_None;
+        }
+#endif
+        PyErr_NormalizeException(&type, &value, &tb);
+    } else {
+        if (value) {
+            PyErr_SetString(PyExc_TypeError,
+                "instance exception may not have a separate value");
+            goto raise_error;
+        }
+        value = type;
+        type = (PyObject*) Py_TYPE(type);
+        Py_INCREF(type);
+        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
+            PyErr_SetString(PyExc_TypeError,
+                "raise: exception class must be a subclass of BaseException");
+            goto raise_error;
+        }
+    }
+    __Pyx_PyThreadState_assign
+    __Pyx_ErrRestore(type, value, tb);
+    return;
+raise_error:
+    Py_XDECREF(value);
+    Py_XDECREF(type);
+    Py_XDECREF(tb);
+    return;
+}
+#else
+static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
+    PyObject* owned_instance = NULL;
+    if (tb == Py_None) {
+        tb = 0;
+    } else if (tb && !PyTraceBack_Check(tb)) {
+        PyErr_SetString(PyExc_TypeError,
+            "raise: arg 3 must be a traceback or None");
+        goto bad;
+    }
+    if (value == Py_None)
+        value = 0;
+    if (PyExceptionInstance_Check(type)) {
+        if (value) {
+            PyErr_SetString(PyExc_TypeError,
+                "instance exception may not have a separate value");
+            goto bad;
+        }
+        value = type;
+        type = (PyObject*) Py_TYPE(value);
+    } else if (PyExceptionClass_Check(type)) {
+        PyObject *instance_class = NULL;
+        if (value && PyExceptionInstance_Check(value)) {
+            instance_class = (PyObject*) Py_TYPE(value);
+            if (instance_class != type) {
+                int is_subclass = PyObject_IsSubclass(instance_class, type);
+                if (!is_subclass) {
+                    instance_class = NULL;
+                } else if (unlikely(is_subclass == -1)) {
+                    goto bad;
+                } else {
+                    type = instance_class;
+                }
+            }
+        }
+        if (!instance_class) {
+            PyObject *args;
+            if (!value)
+                args = PyTuple_New(0);
+            else if (PyTuple_Check(value)) {
+                Py_INCREF(value);
+                args = value;
+            } else
+                args = PyTuple_Pack(1, value);
+            if (!args)
+                goto bad;
+            owned_instance = PyObject_Call(type, args, NULL);
+            Py_DECREF(args);
+            if (!owned_instance)
+                goto bad;
+            value = owned_instance;
+            if (!PyExceptionInstance_Check(value)) {
+                PyErr_Format(PyExc_TypeError,
+                             "calling %R should have returned an instance of "
+                             "BaseException, not %R",
+                             type, Py_TYPE(value));
+                goto bad;
+            }
+        }
+    } else {
+        PyErr_SetString(PyExc_TypeError,
+            "raise: exception class must be a subclass of BaseException");
+        goto bad;
+    }
+    if (cause) {
+        PyObject *fixed_cause;
+        if (cause == Py_None) {
+            fixed_cause = NULL;
+        } else if (PyExceptionClass_Check(cause)) {
+            fixed_cause = PyObject_CallObject(cause, NULL);
+            if (fixed_cause == NULL)
+                goto bad;
+        } else if (PyExceptionInstance_Check(cause)) {
+            fixed_cause = cause;
+            Py_INCREF(fixed_cause);
+        } else {
+            PyErr_SetString(PyExc_TypeError,
+                            "exception causes must derive from "
+                            "BaseException");
+            goto bad;
+        }
+        PyException_SetCause(value, fixed_cause);
+    }
+    PyErr_SetObject(type, value);
+    if (tb) {
+      #if PY_VERSION_HEX >= 0x030C00A6
+        PyException_SetTraceback(value, tb);
+      #elif CYTHON_FAST_THREAD_STATE
+        PyThreadState *tstate = __Pyx_PyThreadState_Current;
+        PyObject* tmp_tb = tstate->curexc_traceback;
+        if (tb != tmp_tb) {
+            Py_INCREF(tb);
+            tstate->curexc_traceback = tb;
+            Py_XDECREF(tmp_tb);
+        }
+#else
+        PyObject *tmp_type, *tmp_value, *tmp_tb;
+        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
+        Py_INCREF(tb);
+        PyErr_Restore(tmp_type, tmp_value, tb);
+        Py_XDECREF(tmp_tb);
+#endif
+    }
+bad:
+    Py_XDECREF(owned_instance);
+    return;
+}
+#endif
+
+/* GetAttr */
+static CYTHON_INLINE PyObject *__Pyx_GetAttr(PyObject *o, PyObject *n) {
+#if CYTHON_USE_TYPE_SLOTS
+#if PY_MAJOR_VERSION >= 3
+    if (likely(PyUnicode_Check(n)))
+#else
+    if (likely(PyString_Check(n)))
+#endif
+        return __Pyx_PyObject_GetAttrStr(o, n);
+#endif
+    return PyObject_GetAttr(o, n);
+}
+
 /* PyDictVersioning */
 #if CYTHON_USE_DICT_VERSIONS && CYTHON_USE_TYPE_SLOTS
 static CYTHON_INLINE PY_UINT64_T __Pyx_get_tp_dict_version(PyObject *obj) {
     PyObject *dict = Py_TYPE(obj)->tp_dict;
     return likely(dict) ? __PYX_GET_DICT_VERSION(dict) : 0;
 }
 static CYTHON_INLINE PY_UINT64_T __Pyx_get_object_dict_version(PyObject *obj) {
@@ -6819,175 +7232,14 @@
     PyErr_Format(PyExc_TypeError,
         "%s() got an unexpected keyword argument '%U'",
         function_name, key);
     #endif
     return 0;
 }
 
-/* RaiseException */
-#if PY_MAJOR_VERSION < 3
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
-    __Pyx_PyThreadState_declare
-    CYTHON_UNUSED_VAR(cause);
-    Py_XINCREF(type);
-    if (!value || value == Py_None)
-        value = NULL;
-    else
-        Py_INCREF(value);
-    if (!tb || tb == Py_None)
-        tb = NULL;
-    else {
-        Py_INCREF(tb);
-        if (!PyTraceBack_Check(tb)) {
-            PyErr_SetString(PyExc_TypeError,
-                "raise: arg 3 must be a traceback or None");
-            goto raise_error;
-        }
-    }
-    if (PyType_Check(type)) {
-#if CYTHON_COMPILING_IN_PYPY
-        if (!value) {
-            Py_INCREF(Py_None);
-            value = Py_None;
-        }
-#endif
-        PyErr_NormalizeException(&type, &value, &tb);
-    } else {
-        if (value) {
-            PyErr_SetString(PyExc_TypeError,
-                "instance exception may not have a separate value");
-            goto raise_error;
-        }
-        value = type;
-        type = (PyObject*) Py_TYPE(type);
-        Py_INCREF(type);
-        if (!PyType_IsSubtype((PyTypeObject *)type, (PyTypeObject *)PyExc_BaseException)) {
-            PyErr_SetString(PyExc_TypeError,
-                "raise: exception class must be a subclass of BaseException");
-            goto raise_error;
-        }
-    }
-    __Pyx_PyThreadState_assign
-    __Pyx_ErrRestore(type, value, tb);
-    return;
-raise_error:
-    Py_XDECREF(value);
-    Py_XDECREF(type);
-    Py_XDECREF(tb);
-    return;
-}
-#else
-static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb, PyObject *cause) {
-    PyObject* owned_instance = NULL;
-    if (tb == Py_None) {
-        tb = 0;
-    } else if (tb && !PyTraceBack_Check(tb)) {
-        PyErr_SetString(PyExc_TypeError,
-            "raise: arg 3 must be a traceback or None");
-        goto bad;
-    }
-    if (value == Py_None)
-        value = 0;
-    if (PyExceptionInstance_Check(type)) {
-        if (value) {
-            PyErr_SetString(PyExc_TypeError,
-                "instance exception may not have a separate value");
-            goto bad;
-        }
-        value = type;
-        type = (PyObject*) Py_TYPE(value);
-    } else if (PyExceptionClass_Check(type)) {
-        PyObject *instance_class = NULL;
-        if (value && PyExceptionInstance_Check(value)) {
-            instance_class = (PyObject*) Py_TYPE(value);
-            if (instance_class != type) {
-                int is_subclass = PyObject_IsSubclass(instance_class, type);
-                if (!is_subclass) {
-                    instance_class = NULL;
-                } else if (unlikely(is_subclass == -1)) {
-                    goto bad;
-                } else {
-                    type = instance_class;
-                }
-            }
-        }
-        if (!instance_class) {
-            PyObject *args;
-            if (!value)
-                args = PyTuple_New(0);
-            else if (PyTuple_Check(value)) {
-                Py_INCREF(value);
-                args = value;
-            } else
-                args = PyTuple_Pack(1, value);
-            if (!args)
-                goto bad;
-            owned_instance = PyObject_Call(type, args, NULL);
-            Py_DECREF(args);
-            if (!owned_instance)
-                goto bad;
-            value = owned_instance;
-            if (!PyExceptionInstance_Check(value)) {
-                PyErr_Format(PyExc_TypeError,
-                             "calling %R should have returned an instance of "
-                             "BaseException, not %R",
-                             type, Py_TYPE(value));
-                goto bad;
-            }
-        }
-    } else {
-        PyErr_SetString(PyExc_TypeError,
-            "raise: exception class must be a subclass of BaseException");
-        goto bad;
-    }
-    if (cause) {
-        PyObject *fixed_cause;
-        if (cause == Py_None) {
-            fixed_cause = NULL;
-        } else if (PyExceptionClass_Check(cause)) {
-            fixed_cause = PyObject_CallObject(cause, NULL);
-            if (fixed_cause == NULL)
-                goto bad;
-        } else if (PyExceptionInstance_Check(cause)) {
-            fixed_cause = cause;
-            Py_INCREF(fixed_cause);
-        } else {
-            PyErr_SetString(PyExc_TypeError,
-                            "exception causes must derive from "
-                            "BaseException");
-            goto bad;
-        }
-        PyException_SetCause(value, fixed_cause);
-    }
-    PyErr_SetObject(type, value);
-    if (tb) {
-      #if PY_VERSION_HEX >= 0x030C00A6
-        PyException_SetTraceback(value, tb);
-      #elif CYTHON_FAST_THREAD_STATE
-        PyThreadState *tstate = __Pyx_PyThreadState_Current;
-        PyObject* tmp_tb = tstate->curexc_traceback;
-        if (tb != tmp_tb) {
-            Py_INCREF(tb);
-            tstate->curexc_traceback = tb;
-            Py_XDECREF(tmp_tb);
-        }
-#else
-        PyObject *tmp_type, *tmp_value, *tmp_tb;
-        PyErr_Fetch(&tmp_type, &tmp_value, &tmp_tb);
-        Py_INCREF(tb);
-        PyErr_Restore(tmp_type, tmp_value, tb);
-        Py_XDECREF(tmp_tb);
-#endif
-    }
-bad:
-    Py_XDECREF(owned_instance);
-    return;
-}
-#endif
-
 /* CallNextTpTraverse */
 static int __Pyx_call_next_tp_traverse(PyObject* obj, visitproc v, void *a, traverseproc current_tp_traverse) {
     PyTypeObject* type = Py_TYPE(obj);
     traverseproc tp_traverse = NULL;
     while (type && __Pyx_PyType_GetSlot(type, tp_traverse, traverseproc) != current_tp_traverse)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     while (type && (tp_traverse = __Pyx_PyType_GetSlot(type, tp_traverse, traverseproc)) == current_tp_traverse)
@@ -7005,19 +7257,71 @@
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     while (type && (tp_clear = __Pyx_PyType_GetSlot(type, tp_clear, inquiry)) == current_tp_clear)
         type = __Pyx_PyType_GetSlot(type, tp_base, PyTypeObject*);
     if (type && tp_clear)
         tp_clear(obj);
 }
 
+/* PyObject_GenericGetAttrNoDict */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
+    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
+    PyErr_Format(PyExc_AttributeError,
+#if PY_MAJOR_VERSION >= 3
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
+                 type_name, attr_name);
+#else
+                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
+                 type_name, PyString_AS_STRING(attr_name));
+#endif
+    __Pyx_DECREF_TypeName(type_name);
+    return NULL;
+}
+static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
+    PyObject *descr;
+    PyTypeObject *tp = Py_TYPE(obj);
+    if (unlikely(!PyString_Check(attr_name))) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    assert(!tp->tp_dictoffset);
+    descr = _PyType_Lookup(tp, attr_name);
+    if (unlikely(!descr)) {
+        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
+    }
+    Py_INCREF(descr);
+    #if PY_MAJOR_VERSION < 3
+    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
+    #endif
+    {
+        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
+        if (unlikely(f)) {
+            PyObject *res = f(descr, obj, (PyObject *)tp);
+            Py_DECREF(descr);
+            return res;
+        }
+    }
+    return descr;
+}
+#endif
+
+/* PyObject_GenericGetAttr */
+#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
+static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
+    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
+        return PyObject_GenericGetAttr(obj, attr_name);
+    }
+    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
+}
+#endif
+
 /* TypeImport */
-#ifndef __PYX_HAVE_RT_ImportType_3_0_9
-#define __PYX_HAVE_RT_ImportType_3_0_9
-static PyTypeObject *__Pyx_ImportType_3_0_9(PyObject *module, const char *module_name, const char *class_name,
-    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_9 check_size)
+#ifndef __PYX_HAVE_RT_ImportType_3_0_10
+#define __PYX_HAVE_RT_ImportType_3_0_10
+static PyTypeObject *__Pyx_ImportType_3_0_10(PyObject *module, const char *module_name, const char *class_name,
+    size_t size, size_t alignment, enum __Pyx_ImportType_CheckSize_3_0_10 check_size)
 {
     PyObject *result = 0;
     char warning[200];
     Py_ssize_t basicsize;
     Py_ssize_t itemsize;
 #if CYTHON_COMPILING_IN_LIMITED_API
     PyObject *py_basicsize;
@@ -7063,23 +7367,23 @@
     if ((size_t)(basicsize + itemsize) < size) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize+itemsize);
         goto bad;
     }
-    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_9 &&
+    if (check_size == __Pyx_ImportType_CheckSize_Error_3_0_10 &&
             ((size_t)basicsize > size || (size_t)(basicsize + itemsize) < size)) {
         PyErr_Format(PyExc_ValueError,
             "%.200s.%.200s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd-%zd from PyObject",
             module_name, class_name, size, basicsize, basicsize+itemsize);
         goto bad;
     }
-    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_9 && (size_t)basicsize > size) {
+    else if (check_size == __Pyx_ImportType_CheckSize_Warn_3_0_10 && (size_t)basicsize > size) {
         PyOS_snprintf(warning, sizeof(warning),
             "%s.%s size changed, may indicate binary incompatibility. "
             "Expected %zd from C header, got %zd from PyObject",
             module_name, class_name, size, basicsize);
         if (PyErr_WarnEx(NULL, warning, 0) < 0) goto bad;
     }
     return (PyTypeObject *)result;
@@ -7468,66 +7772,14 @@
     #endif
     }
 #endif
     return r;
 #endif
 }
 
-/* PyObject_GenericGetAttrNoDict */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject *__Pyx_RaiseGenericGetAttributeError(PyTypeObject *tp, PyObject *attr_name) {
-    __Pyx_TypeName type_name = __Pyx_PyType_GetName(tp);
-    PyErr_Format(PyExc_AttributeError,
-#if PY_MAJOR_VERSION >= 3
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%U'",
-                 type_name, attr_name);
-#else
-                 "'" __Pyx_FMT_TYPENAME "' object has no attribute '%.400s'",
-                 type_name, PyString_AS_STRING(attr_name));
-#endif
-    __Pyx_DECREF_TypeName(type_name);
-    return NULL;
-}
-static CYTHON_INLINE PyObject* __Pyx_PyObject_GenericGetAttrNoDict(PyObject* obj, PyObject* attr_name) {
-    PyObject *descr;
-    PyTypeObject *tp = Py_TYPE(obj);
-    if (unlikely(!PyString_Check(attr_name))) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    assert(!tp->tp_dictoffset);
-    descr = _PyType_Lookup(tp, attr_name);
-    if (unlikely(!descr)) {
-        return __Pyx_RaiseGenericGetAttributeError(tp, attr_name);
-    }
-    Py_INCREF(descr);
-    #if PY_MAJOR_VERSION < 3
-    if (likely(PyType_HasFeature(Py_TYPE(descr), Py_TPFLAGS_HAVE_CLASS)))
-    #endif
-    {
-        descrgetfunc f = Py_TYPE(descr)->tp_descr_get;
-        if (unlikely(f)) {
-            PyObject *res = f(descr, obj, (PyObject *)tp);
-            Py_DECREF(descr);
-            return res;
-        }
-    }
-    return descr;
-}
-#endif
-
-/* PyObject_GenericGetAttr */
-#if CYTHON_USE_TYPE_SLOTS && CYTHON_USE_PYTYPE_LOOKUP && PY_VERSION_HEX < 0x03070000
-static PyObject* __Pyx_PyObject_GenericGetAttr(PyObject* obj, PyObject* attr_name) {
-    if (unlikely(Py_TYPE(obj)->tp_dictoffset)) {
-        return PyObject_GenericGetAttr(obj, attr_name);
-    }
-    return __Pyx_PyObject_GenericGetAttrNoDict(obj, attr_name);
-}
-#endif
-
 /* SetVTable */
 static int __Pyx_SetVtable(PyTypeObject *type, void *vtable) {
     PyObject *ob = PyCapsule_New(vtable, 0, 0);
     if (unlikely(!ob))
         goto bad;
 #if CYTHON_COMPILING_IN_LIMITED_API
     if (unlikely(PyObject_SetAttr((PyObject *) type, __pyx_n_s_pyx_vtable, ob) < 0))
@@ -9206,15 +9458,15 @@
 __Pyx_PyType_GetName(PyTypeObject* tp)
 {
     PyObject *name = __Pyx_PyObject_GetAttrStr((PyObject *)tp,
                                                __pyx_n_s_name_2);
     if (unlikely(name == NULL) || unlikely(!PyUnicode_Check(name))) {
         PyErr_Clear();
         Py_XDECREF(name);
-        name = __Pyx_NewRef(__pyx_n_s__13);
+        name = __Pyx_NewRef(__pyx_n_s__14);
     }
     return name;
 }
 #endif
 
 /* CIntToPy */
 static CYTHON_INLINE PyObject* __Pyx_PyInt_From_long(long value) {
@@ -10008,17 +10260,17 @@
                        (int) (rt_version >> 24), (int) ((rt_version >> 16) & 0xFF)
        );
         return PyErr_WarnEx(NULL, message, 1);
     }
 }
 
 /* FunctionImport */
-#ifndef __PYX_HAVE_RT_ImportFunction_3_0_9
-#define __PYX_HAVE_RT_ImportFunction_3_0_9
-static int __Pyx_ImportFunction_3_0_9(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
+#ifndef __PYX_HAVE_RT_ImportFunction_3_0_10
+#define __PYX_HAVE_RT_ImportFunction_3_0_10
+static int __Pyx_ImportFunction_3_0_10(PyObject *module, const char *funcname, void (**f)(void), const char *sig) {
     PyObject *d = 0;
     PyObject *cobj = 0;
     union {
         void (*fp)(void);
         void *p;
     } tmp;
     d = PyObject_GetAttrString(module, (char *)"__pyx_capi__");
```

### Comparing `pyav-12.0.5/tests/common.py` & `pyav-12.1.0rc1/tests/common.py`

 * *Files 9% similar despite different names*

```diff
@@ -4,52 +4,51 @@
 import os
 import types
 from unittest import TestCase as _Base
 
 from av.datasets import fate as fate_suite
 
 try:
-    import PIL.Image as Image
-    import PIL.ImageFilter as ImageFilter
+    import PIL  # noqa
+
+    has_pillow = True
 except ImportError:
-    Image = ImageFilter = None
+    has_pillow = False
 
 
 is_windows = os.name == "nt"
 skip_tests = frozenset(os.environ.get("PYAV_SKIP_TESTS", "").split(","))
 
 
-def makedirs(path):
+def makedirs(path: str) -> None:
     try:
         os.makedirs(path)
     except OSError as e:
         if e.errno != errno.EEXIST:
             raise
 
 
 _start_time = datetime.datetime.now()
 
 
-def _sandbox(timed=False):
+def _sandbox(timed: bool = False) -> str:
     root = os.path.abspath(os.path.join(__file__, "..", "..", "sandbox"))
 
-    sandbox = (
-        os.path.join(
-            root,
-            _start_time.strftime("%Y%m%d-%H%M%S"),
-        )
-        if timed
-        else root
-    )
+    if timed:
+        sandbox = os.path.join(root, _start_time.strftime("%Y%m%d-%H%M%S"))
+    else:
+        sandbox = root
+
     if not os.path.exists(sandbox):
         os.makedirs(sandbox)
+
     return sandbox
 
 
-def asset(*args):
+def asset(*args: str) -> str:
     adir = os.path.dirname(__file__)
     return os.path.abspath(os.path.join(adir, "assets", *args))
 
 
 # Store all of the sample data here.
 os.environ["PYAV_TESTDATA_DIR"] = asset()
 
@@ -144,14 +143,16 @@
                         it.multi_index,
                         a[it.multi_index],
                         b[it.multi_index],
                     )
             self.fail("ndarrays contents differ\n%s" % msg)
 
     def assertImagesAlmostEqual(self, a, b, epsilon=0.1, *args):
+        import PIL.ImageFilter as ImageFilter
+
         self.assertEqual(a.size, b.size, "sizes dont match")
         a = a.filter(ImageFilter.BLUR).getdata()
         b = b.filter(ImageFilter.BLUR).getdata()
         for i, ax, bx in zip(range(len(a)), a, b):
             diff = sum(abs(ac / 256 - bc / 256) for ac, bc in zip(ax, bx)) / 3
             if diff > epsilon:
                 self.fail(
```

### Comparing `pyav-12.0.5/tests/test_audiofifo.py` & `pyav-12.1.0rc1/tests/test_audiofifo.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_audioformat.py` & `pyav-12.1.0rc1/tests/test_audioformat.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_audioframe.py` & `pyav-12.1.0rc1/tests/test_audioframe.py`

 * *Files 9% similar despite different names*

```diff
@@ -2,82 +2,82 @@
 
 from av import AudioFrame
 
 from .common import TestCase
 
 
 class TestAudioFrameConstructors(TestCase):
-    def test_null_constructor(self):
+    def test_null_constructor(self) -> None:
         frame = AudioFrame()
         self.assertEqual(frame.format.name, "s16")
         self.assertEqual(frame.layout.name, "stereo")
         self.assertEqual(len(frame.planes), 0)
         self.assertEqual(frame.samples, 0)
 
-    def test_manual_flt_mono_constructor(self):
+    def test_manual_flt_mono_constructor(self) -> None:
         frame = AudioFrame(format="flt", layout="mono", samples=160)
         self.assertEqual(frame.format.name, "flt")
         self.assertEqual(frame.layout.name, "mono")
         self.assertEqual(len(frame.planes), 1)
         self.assertEqual(frame.planes[0].buffer_size, 640)
         self.assertEqual(frame.samples, 160)
 
-    def test_manual_flt_stereo_constructor(self):
+    def test_manual_flt_stereo_constructor(self) -> None:
         frame = AudioFrame(format="flt", layout="stereo", samples=160)
         self.assertEqual(frame.format.name, "flt")
         self.assertEqual(frame.layout.name, "stereo")
         self.assertEqual(len(frame.planes), 1)
         self.assertEqual(frame.planes[0].buffer_size, 1280)
         self.assertEqual(frame.samples, 160)
 
-    def test_manual_fltp_stereo_constructor(self):
+    def test_manual_fltp_stereo_constructor(self) -> None:
         frame = AudioFrame(format="fltp", layout="stereo", samples=160)
         self.assertEqual(frame.format.name, "fltp")
         self.assertEqual(frame.layout.name, "stereo")
         self.assertEqual(len(frame.planes), 2)
         self.assertEqual(frame.planes[0].buffer_size, 640)
         self.assertEqual(frame.planes[1].buffer_size, 640)
         self.assertEqual(frame.samples, 160)
 
-    def test_manual_s16_mono_constructor(self):
+    def test_manual_s16_mono_constructor(self) -> None:
         frame = AudioFrame(format="s16", layout="mono", samples=160)
         self.assertEqual(frame.format.name, "s16")
         self.assertEqual(frame.layout.name, "mono")
         self.assertEqual(len(frame.planes), 1)
         self.assertEqual(frame.planes[0].buffer_size, 320)
         self.assertEqual(frame.samples, 160)
 
-    def test_manual_s16_mono_constructor_align_8(self):
+    def test_manual_s16_mono_constructor_align_8(self) -> None:
         frame = AudioFrame(format="s16", layout="mono", samples=159, align=8)
         self.assertEqual(frame.format.name, "s16")
         self.assertEqual(frame.layout.name, "mono")
         self.assertEqual(len(frame.planes), 1)
         self.assertEqual(frame.planes[0].buffer_size, 320)
         self.assertEqual(frame.samples, 159)
 
-    def test_manual_s16_stereo_constructor(self):
+    def test_manual_s16_stereo_constructor(self) -> None:
         frame = AudioFrame(format="s16", layout="stereo", samples=160)
         self.assertEqual(frame.format.name, "s16")
         self.assertEqual(frame.layout.name, "stereo")
         self.assertEqual(len(frame.planes), 1)
         self.assertEqual(frame.planes[0].buffer_size, 640)
         self.assertEqual(frame.samples, 160)
 
-    def test_manual_s16p_stereo_constructor(self):
+    def test_manual_s16p_stereo_constructor(self) -> None:
         frame = AudioFrame(format="s16p", layout="stereo", samples=160)
         self.assertEqual(frame.format.name, "s16p")
         self.assertEqual(frame.layout.name, "stereo")
         self.assertEqual(len(frame.planes), 2)
         self.assertEqual(frame.planes[0].buffer_size, 320)
         self.assertEqual(frame.planes[1].buffer_size, 320)
         self.assertEqual(frame.samples, 160)
 
 
 class TestAudioFrameConveniences(TestCase):
-    def test_basic_to_ndarray(self):
+    def test_basic_to_ndarray(self) -> None:
         frame = AudioFrame(format="s16p", layout="stereo", samples=160)
         array = frame.to_ndarray()
         self.assertEqual(array.dtype, "i2")
         self.assertEqual(array.shape, (2, 160))
 
     def test_ndarray_dbl(self):
         layouts = [
```

### Comparing `pyav-12.0.5/tests/test_audiolayout.py` & `pyav-12.1.0rc1/tests/test_audiolayout.py`

 * *Files 0% similar despite different names*

```diff
@@ -4,15 +4,15 @@
 
 
 class TestAudioLayout(TestCase):
     def test_stereo_properties(self):
         layout = AudioLayout("stereo")
         self._test_stereo(layout)
 
-    def test_2channel_properties(self):
+    def test_2channel_properties(self) -> None:
         layout = AudioLayout(2)
         self._test_stereo(layout)
 
     def test_channel_counts(self):
         self.assertRaises(ValueError, AudioLayout, -1)
         self.assertRaises(ValueError, AudioLayout, 9)
```

### Comparing `pyav-12.0.5/tests/test_audioresampler.py` & `pyav-12.1.0rc1/tests/test_audioresampler.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_codec.py` & `pyav-12.1.0rc1/tests/test_codec.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_codec_context.py` & `pyav-12.1.0rc1/tests/test_codec_context.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_colorspace.py` & `pyav-12.1.0rc1/tests/test_colorspace.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 import av
 from av.video.reformatter import ColorRange, Colorspace
 
 from .common import TestCase, fate_suite
 
 
 class TestColorSpace(TestCase):
-    def test_penguin_joke(self):
+    def test_penguin_joke(self) -> None:
         container = av.open(
             fate_suite("amv/MTV_high_res_320x240_sample_Penguin_Joke_MTV_from_WMV.amv")
         )
         stream = container.streams.video[0]
 
         self.assertEqual(stream.codec_context.color_range, 2)
         self.assertEqual(stream.codec_context.color_range, ColorRange.JPEG)
@@ -18,19 +18,20 @@
         self.assertEqual(stream.codec_context.color_trc, 2)
 
         self.assertEqual(stream.codec_context.colorspace, 5)
         self.assertEqual(stream.codec_context.colorspace, Colorspace.ITU601)
 
         for packet in container.demux(stream):
             for frame in packet.decode():
+                assert isinstance(frame, av.VideoFrame)
                 self.assertEqual(frame.color_range, ColorRange.JPEG)  # a.k.a "pc"
                 self.assertEqual(frame.colorspace, Colorspace.ITU601)
                 return
 
-    def test_sky_timelapse(self):
+    def test_sky_timelapse(self) -> None:
         container = av.open(
             av.datasets.curated("pexels/time-lapse-video-of-night-sky-857195.mp4")
         )
         stream = container.streams.video[0]
 
         self.assertEqual(stream.codec_context.color_range, 1)
         self.assertEqual(stream.codec_context.color_range, ColorRange.MPEG)
```

### Comparing `pyav-12.0.5/tests/test_containerformat.py` & `pyav-12.1.0rc1/tests/test_containerformat.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_decode.py` & `pyav-12.1.0rc1/tests/test_decode.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_deprecation.py` & `pyav-12.1.0rc1/tests/test_deprecation.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_doctests.py` & `pyav-12.1.0rc1/tests/test_doctests.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_encode.py` & `pyav-12.1.0rc1/tests/test_encode.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,34 +1,37 @@
 import io
 import math
 from fractions import Fraction
+from typing import cast
 from unittest import SkipTest
 
 import numpy as np
 
 import av
 from av import AudioFrame, VideoFrame
 from av.audio.stream import AudioStream
 from av.video.stream import VideoStream
 
-from .common import Image, TestCase, fate_suite
+from .common import TestCase, fate_suite, has_pillow
 
 WIDTH = 320
 HEIGHT = 240
 DURATION = 48
 
 
-def write_rgb_rotate(output):
-    if not Image:
-        raise SkipTest()
+def write_rgb_rotate(output: av.container.OutputContainer) -> None:
+    if not has_pillow:
+        raise SkipTest("Don't have Pillow")
+
+    import PIL.Image as Image
 
     output.metadata["title"] = "container"
     output.metadata["key"] = "value"
 
-    stream = output.add_stream("mpeg4", 24)
+    stream = cast(VideoStream, output.add_stream("mpeg4", 24))
     stream.width = WIDTH
     stream.height = HEIGHT
     stream.pix_fmt = "yuv420p"
 
     for frame_i in range(DURATION):
         frame = VideoFrame(WIDTH, HEIGHT, "rgb24")
         image = Image.new(
```

### Comparing `pyav-12.0.5/tests/test_enums.py` & `pyav-12.1.0rc1/tests/test_enums.py`

 * *Files 1% similar despite different names*

```diff
@@ -6,23 +6,15 @@
 
 # This must be at the top-level.
 PickleableFooBar = define_enum("PickleableFooBar", __name__, [("FOO", 1)])
 
 
 class TestEnums(TestCase):
     def define_foobar(self, **kwargs):
-        return define_enum(
-            "Foobar",
-            __name__,
-            (
-                ("FOO", 1),
-                ("BAR", 2),
-            ),
-            **kwargs
-        )
+        return define_enum("Foobar", __name__, (("FOO", 1), ("BAR", 2)), **kwargs)
 
     def test_basics(self):
         cls = self.define_foobar()
 
         self.assertIsInstance(cls, EnumType)
 
         foo = cls.FOO
```

### Comparing `pyav-12.0.5/tests/test_errors.py` & `pyav-12.1.0rc1/tests/test_errors.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_file_probing.py` & `pyav-12.1.0rc1/tests/test_file_probing.py`

 * *Files 6% similar despite different names*

```diff
@@ -1,8 +1,7 @@
-import warnings
 from fractions import Fraction
 
 import av
 
 from .common import TestCase, fate_suite
 
 
@@ -165,17 +164,14 @@
     def test_stream_probing(self):
         stream = self.file.streams[0]
 
         # check __repr__
         self.assertTrue(str(stream).startswith("<av.DataStream #0 data/<nocodec> at "))
 
         # actual stream properties
-        self.assertEqual(stream.average_rate, None)
-        self.assertEqual(stream.base_rate, None)
-        self.assertEqual(stream.guessed_rate, None)
         self.assertEqual(stream.duration, 37537)
         self.assertEqual(stream.frames, 0)
         self.assertEqual(stream.id, 1)
         self.assertEqual(stream.index, 0)
         self.assertEqual(stream.language, None)
         self.assertEqual(
             stream.metadata,
@@ -185,17 +181,15 @@
                 "track_name": "Base",
             },
         )
         self.assertEqual(stream.profile, None)
         self.assertEqual(stream.start_time, 0)
         self.assertEqual(stream.time_base, Fraction(1, 90000))
         self.assertEqual(stream.type, "data")
-
-        # codec context properties
-        self.assertEqual(stream.codec, None)
+        self.assertEqual(hasattr(stream, "codec"), False)
 
 
 class TestSubtitleProbe(TestCase):
     def setUp(self):
         self.file = av.open(fate_suite("sub/MovText_capability_tester.mp4"))
 
     def test_container_probing(self):
@@ -303,27 +297,16 @@
 
         # For some reason, these behave differently on OS X (@mikeboers) and
         # Ubuntu (Travis). We think it is FFmpeg, but haven't been able to
         # confirm.
         self.assertIn(stream.coded_width, (720, 0))
         self.assertIn(stream.coded_height, (576, 0))
 
-        # Deprecated properties.
-        with warnings.catch_warnings(record=True) as captured:
-            stream.framerate
-            self.assertEqual(
-                captured[0].message.args[0],
-                "VideoStream.framerate is deprecated as it is not always set; please use VideoStream.average_rate.",
-            )
-        with warnings.catch_warnings(record=True) as captured:
-            stream.rate
-            self.assertEqual(
-                captured[0].message.args[0],
-                "VideoStream.rate is deprecated as it is not always set; please use VideoStream.average_rate.",
-            )
+        self.assertEqual(hasattr(stream, "framerate"), False)
+        self.assertEqual(hasattr(stream, "rate"), False)
 
 
 class TestVideoProbeCorrupt(TestCase):
     def setUp(self):
         path = self.sandboxed("empty.h264")
         with open(path, "wb"):
             pass
```

### Comparing `pyav-12.0.5/tests/test_filters.py` & `pyav-12.1.0rc1/tests/test_filters.py`

 * *Files 16% similar despite different names*

```diff
@@ -1,19 +1,18 @@
 import errno
 from fractions import Fraction
-from unittest import SkipTest
 
 import numpy as np
 
 import av
 from av import AudioFrame, VideoFrame
 from av.audio.frame import format_dtypes
 from av.filter import Filter, Graph
 
-from .common import Image, TestCase, fate_suite
+from .common import TestCase, has_pillow
 
 
 def generate_audio_frame(
     frame_num, input_format="s16", layout="stereo", sample_rate=44100, frame_size=1024
 ):
     """
     Generate audio frame representing part of the sinusoidal wave
@@ -82,73 +81,39 @@
         # pads and links
         self.assertIs(src.outputs[0].link.output, lutrgb.inputs[0])
         self.assertIs(lutrgb.inputs[0].link.input, src.outputs[0])
 
         frame = sink.pull()
         self.assertIsInstance(frame, VideoFrame)
 
-        if Image:
+        if has_pillow:
             frame.to_image().save(self.sandboxed("mandelbrot2.png"))
 
     def test_auto_find_sink(self):
         graph = Graph()
         src = graph.add("testsrc")
         src.link_to(graph.add("buffersink"))
         graph.configure()
 
         frame = graph.pull()
 
-        if Image:
+        if has_pillow:
             frame.to_image().save(self.sandboxed("mandelbrot3.png"))
 
     def test_delegate_sink(self):
         graph = Graph()
         src = graph.add("testsrc")
         src.link_to(graph.add("buffersink"))
         graph.configure()
 
         frame = src.pull()
 
-        if Image:
+        if has_pillow:
             frame.to_image().save(self.sandboxed("mandelbrot4.png"))
 
-    def test_haldclut_graph(self):
-        raise SkipTest()
-
-        graph = Graph()
-
-        img = Image.open(fate_suite("png1/lena-rgb24.png"))
-        frame = VideoFrame.from_image(img)
-        img_source = graph.add_buffer(frame)
-
-        hald_img = Image.open("hald_7.png")
-        hald_frame = VideoFrame.from_image(hald_img)
-        hald_source = graph.add_buffer(hald_frame)
-
-        hald_filter = graph.add("haldclut")
-
-        sink = graph.add("buffersink")
-
-        img_source.link(0, hald_filter, 0)
-        hald_source.link(0, hald_filter, 1)
-        hald_filter.link(0, sink, 0)
-        graph.config()
-
-        self.assertIs(img_source.outputs[0].linked_to, hald_filter.inputs[0])
-        self.assertIs(hald_source.outputs[0].linked_to, hald_filter.inputs[1])
-        self.assertIs(hald_filter.outputs[0].linked_to, sink.inputs[0])
-
-        hald_source.push(hald_frame)
-
-        img_source.push(frame)
-
-        frame = sink.pull()
-        self.assertIsInstance(frame, VideoFrame)
-        frame.to_image().save(self.sandboxed("filtered.png"))
-
     def test_audio_buffer_sink(self):
         graph = Graph()
         audio_buffer = graph.add_abuffer(
             format="fltp",
             sample_rate=48000,
             layout="stereo",
             time_base=Fraction(1, 48000),
```

### Comparing `pyav-12.0.5/tests/test_open.py` & `pyav-12.1.0rc1/tests/test_open.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_options.py` & `pyav-12.1.0rc1/tests/test_options.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_packet.py` & `pyav-12.1.0rc1/tests/test_packet.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_python_io.py` & `pyav-12.1.0rc1/tests/test_python_io.py`

 * *Files 3% similar despite different names*

```diff
@@ -1,13 +1,20 @@
 from io import BytesIO
 from unittest import SkipTest
 
 import av
 
-from .common import Image, MethodLogger, TestCase, fate_png, fate_suite, run_in_sandbox
+from .common import (
+    MethodLogger,
+    TestCase,
+    fate_png,
+    fate_suite,
+    has_pillow,
+    run_in_sandbox,
+)
 from .test_encode import assert_rgb_rotate, write_rgb_rotate
 
 
 class BrokenBuffer(BytesIO):
     """
     Buffer which can be "broken" to simulate an I/O error.
     """
@@ -202,17 +209,19 @@
 
         # Check contents.
         # Note that the dash demuxer doesn't support custom I/O.
         with av.open(output_filename, "r") as container:
             assert_rgb_rotate(self, container, is_dash=True)
 
     def test_writing_to_custom_io_image2(self):
-        if not Image:
+        if not has_pillow:
             raise SkipTest()
 
+        import PIL.Image as Image
+
         # Custom I/O that opens file and logs calls
         wrapped_custom_io = CustomIOLogger()
 
         image = Image.open(fate_png())
         input_frame = av.VideoFrame.from_image(image)
 
         frame_count = 10
@@ -259,46 +268,50 @@
 
             # codec context properties
             self.assertEqual(stream.codec.name, "png")
             self.assertEqual(stream.format.name, "rgb24")
             self.assertEqual(stream.format.width, width)
             self.assertEqual(stream.format.height, height)
 
-    def test_writing_to_file(self):
+    def test_writing_to_file(self) -> None:
         path = self.sandboxed("writing.mp4")
 
         with open(path, "wb") as fh:
             self.write(fh)
 
         # Check contents.
         with av.open(path) as container:
             assert_rgb_rotate(self, container)
 
-    def test_writing_to_pipe_readonly(self):
+    def test_writing_to_pipe_readonly(self) -> None:
         buf = ReadOnlyPipe()
         with self.assertRaises(ValueError) as cm:
             self.write(buf)
         self.assertEqual(
             str(cm.exception),
             "File object has no write() method, or writable() returned False.",
         )
 
     def test_writing_to_pipe_writeonly(self):
+        av.logging.set_level(av.logging.VERBOSE)
+
         buf = WriteOnlyPipe()
         with self.assertRaises(ValueError) as cm:
             self.write(buf)
         self.assertIn(
             "[mp4] muxer does not support non seekable output",
             str(cm.exception),
         )
 
-    def read(self, fh, seekable=True):
+        av.logging.set_level(None)
+
+    def read(self, fh, seekable: bool = True) -> None:
         wrapped = MethodLogger(fh)
 
-        with av.open(wrapped) as container:
+        with av.open(wrapped, "r") as container:
             self.assertEqual(container.format.name, "mpegts")
             self.assertEqual(
                 container.format.long_name, "MPEG-TS (MPEG-2 Transport Stream)"
             )
             self.assertEqual(len(container.streams), 1)
             if seekable:
                 self.assertEqual(container.size, 800000)
```

### Comparing `pyav-12.0.5/tests/test_seek.py` & `pyav-12.1.0rc1/tests/test_seek.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_streams.py` & `pyav-12.1.0rc1/tests/test_streams.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_subtitles.py` & `pyav-12.1.0rc1/tests/test_subtitles.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_timeout.py` & `pyav-12.1.0rc1/tests/test_timeout.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_videoformat.py` & `pyav-12.1.0rc1/tests/test_videoformat.py`

 * *Files identical despite different names*

### Comparing `pyav-12.0.5/tests/test_videoframe.py` & `pyav-12.1.0rc1/tests/test_videoframe.py`

 * *Files 0% similar despite different names*

```diff
@@ -1,14 +1,14 @@
 from unittest import SkipTest
 
 import numpy
 
 from av import VideoFrame
 
-from .common import Image, TestCase, fate_png
+from .common import TestCase, fate_png, has_pillow
 
 
 class TestVideoFrameConstructors(TestCase):
     def test_invalid_pixel_format(self):
         with self.assertRaises(ValueError) as cm:
             VideoFrame(640, 480, "__unknown_pix_fmt")
         self.assertEqual(str(cm.exception), "not a pixel format: '__unknown_pix_fmt'")
@@ -86,18 +86,20 @@
         self.assertEqual(mem[:7], b"01234xx")
         mem[1] = 46
         self.assertEqual(mem[:7], b"0.234xx")
 
 
 class TestVideoFrameImage(TestCase):
     def setUp(self):
-        if not Image:
+        if not has_pillow:
             raise SkipTest()
 
     def test_roundtrip(self):
+        import PIL.Image as Image
+
         image = Image.open(fate_png())
         frame = VideoFrame.from_image(image)
         img = frame.to_image()
         img.save(self.sandboxed("roundtrip-high.jpg"))
         self.assertImagesAlmostEqual(image, img)
 
     def test_to_image_rgb24(self):
```

